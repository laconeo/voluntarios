var F5=Object.defineProperty;var $5=(t,e,r)=>e in t?F5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ar=(t,e,r)=>$5(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ry(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var im={exports:{}},Cd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2;function H5(){if(f2)return Cd;f2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:t,type:n,key:u,ref:s!==void 0?s:null,props:o}}return Cd.Fragment=e,Cd.jsx=r,Cd.jsxs=r,Cd}var m2;function V5(){return m2||(m2=1,im.exports=H5()),im.exports}var c=V5(),sm={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function G5(){if(p2)return Vt;p2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=N&&z[N]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,O={};function R(z,j,A){this.props=z,this.context=j,this.refs=O,this.updater=A||T}R.prototype.isReactComponent={},R.prototype.setState=function(z,j){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,j,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function G(){}G.prototype=R.prototype;function D(z,j,A){this.props=z,this.context=j,this.refs=O,this.updater=A||T}var W=D.prototype=new G;W.constructor=D,k(W,R.prototype),W.isPureReactComponent=!0;var ie=Array.isArray;function se(){}var K={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function V(z,j,A){var L=A.ref;return{$$typeof:t,type:z,key:j,ref:L!==void 0?L:null,props:A}}function ye(z,j){return V(z.type,j,z.props)}function U(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function F(z){var j={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(A){return j[A]})}var oe=/\/+/g;function le(z,j){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):j.toString(36)}function _e(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(se,se):(z.status="pending",z.then(function(j){z.status==="pending"&&(z.status="fulfilled",z.value=j)},function(j){z.status==="pending"&&(z.status="rejected",z.reason=j)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Q(z,j,A,L,q){var te=typeof z;(te==="undefined"||te==="boolean")&&(z=null);var de=!1;if(z===null)de=!0;else switch(te){case"bigint":case"string":case"number":de=!0;break;case"object":switch(z.$$typeof){case t:case e:de=!0;break;case g:return de=z._init,Q(de(z._payload),j,A,L,q)}}if(de)return q=q(z),de=L===""?"."+le(z,0):L,ie(q)?(A="",de!=null&&(A=de.replace(oe,"$&/")+"/"),Q(q,j,A,"",function(Te){return Te})):q!=null&&(U(q)&&(q=ye(q,A+(q.key==null||z&&z.key===q.key?"":(""+q.key).replace(oe,"$&/")+"/")+de)),j.push(q)),1;de=0;var ge=L===""?".":L+":";if(ie(z))for(var be=0;be<z.length;be++)L=z[be],te=ge+le(L,be),de+=Q(L,j,A,te,q);else if(be=x(z),typeof be=="function")for(z=be.call(z),be=0;!(L=z.next()).done;)L=L.value,te=ge+le(L,be++),de+=Q(L,j,A,te,q);else if(te==="object"){if(typeof z.then=="function")return Q(_e(z),j,A,L,q);throw j=String(z),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return de}function ue(z,j,A){if(z==null)return z;var L=[],q=0;return Q(z,L,"","",function(te){return j.call(A,te,q++)}),L}function he(z){if(z._status===-1){var j=z._result;j=j(),j.then(function(A){(z._status===0||z._status===-1)&&(z._status=1,z._result=A)},function(A){(z._status===0||z._status===-1)&&(z._status=2,z._result=A)}),z._status===-1&&(z._status=0,z._result=j)}if(z._status===1)return z._result.default;throw z._result}var je=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},me={map:ue,forEach:function(z,j,A){ue(z,function(){j.apply(this,arguments)},A)},count:function(z){var j=0;return ue(z,function(){j++}),j},toArray:function(z){return ue(z,function(j){return j})||[]},only:function(z){if(!U(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Vt.Activity=w,Vt.Children=me,Vt.Component=R,Vt.Fragment=r,Vt.Profiler=s,Vt.PureComponent=D,Vt.StrictMode=n,Vt.Suspense=f,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return K.H.useMemoCache(z)}},Vt.cache=function(z){return function(){return z.apply(null,arguments)}},Vt.cacheSignal=function(){return null},Vt.cloneElement=function(z,j,A){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var L=k({},z.props),q=z.key;if(j!=null)for(te in j.key!==void 0&&(q=""+j.key),j)!Z.call(j,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&j.ref===void 0||(L[te]=j[te]);var te=arguments.length-2;if(te===1)L.children=A;else if(1<te){for(var de=Array(te),ge=0;ge<te;ge++)de[ge]=arguments[ge+2];L.children=de}return V(z.type,q,L)},Vt.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Vt.createElement=function(z,j,A){var L,q={},te=null;if(j!=null)for(L in j.key!==void 0&&(te=""+j.key),j)Z.call(j,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(q[L]=j[L]);var de=arguments.length-2;if(de===1)q.children=A;else if(1<de){for(var ge=Array(de),be=0;be<de;be++)ge[be]=arguments[be+2];q.children=ge}if(z&&z.defaultProps)for(L in de=z.defaultProps,de)q[L]===void 0&&(q[L]=de[L]);return V(z,te,q)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(z){return{$$typeof:h,render:z}},Vt.isValidElement=U,Vt.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:he}},Vt.memo=function(z,j){return{$$typeof:m,type:z,compare:j===void 0?null:j}},Vt.startTransition=function(z){var j=K.T,A={};K.T=A;try{var L=z(),q=K.S;q!==null&&q(A,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(se,je)}catch(te){je(te)}finally{j!==null&&A.types!==null&&(j.types=A.types),K.T=j}},Vt.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Vt.use=function(z){return K.H.use(z)},Vt.useActionState=function(z,j,A){return K.H.useActionState(z,j,A)},Vt.useCallback=function(z,j){return K.H.useCallback(z,j)},Vt.useContext=function(z){return K.H.useContext(z)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(z,j){return K.H.useDeferredValue(z,j)},Vt.useEffect=function(z,j){return K.H.useEffect(z,j)},Vt.useEffectEvent=function(z){return K.H.useEffectEvent(z)},Vt.useId=function(){return K.H.useId()},Vt.useImperativeHandle=function(z,j,A){return K.H.useImperativeHandle(z,j,A)},Vt.useInsertionEffect=function(z,j){return K.H.useInsertionEffect(z,j)},Vt.useLayoutEffect=function(z,j){return K.H.useLayoutEffect(z,j)},Vt.useMemo=function(z,j){return K.H.useMemo(z,j)},Vt.useOptimistic=function(z,j){return K.H.useOptimistic(z,j)},Vt.useReducer=function(z,j,A){return K.H.useReducer(z,j,A)},Vt.useRef=function(z){return K.H.useRef(z)},Vt.useState=function(z){return K.H.useState(z)},Vt.useSyncExternalStore=function(z,j,A){return K.H.useSyncExternalStore(z,j,A)},Vt.useTransition=function(){return K.H.useTransition()},Vt.version="19.2.3",Vt}var g2;function Lp(){return g2||(g2=1,sm.exports=G5()),sm.exports}var X=Lp();const _f=Ry(X);var om={exports:{}},kd={},lm={exports:{}},cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function W5(){return v2||(v2=1,(function(t){function e(Q,ue){var he=Q.length;Q.push(ue);e:for(;0<he;){var je=he-1>>>1,me=Q[je];if(0<s(me,ue))Q[je]=ue,Q[he]=me,he=je;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ue=Q[0],he=Q.pop();if(he!==ue){Q[0]=he;e:for(var je=0,me=Q.length,z=me>>>1;je<z;){var j=2*(je+1)-1,A=Q[j],L=j+1,q=Q[L];if(0>s(A,he))L<me&&0>s(q,A)?(Q[je]=q,Q[L]=he,je=L):(Q[je]=A,Q[j]=he,je=j);else if(L<me&&0>s(q,he))Q[je]=q,Q[L]=he,je=L;else break e}}return ue}function s(Q,ue){var he=Q.sortIndex-ue.sortIndex;return he!==0?he:Q.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],m=[],g=1,w=null,N=3,x=!1,T=!1,k=!1,O=!1,R=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function W(Q){for(var ue=r(m);ue!==null;){if(ue.callback===null)n(m);else if(ue.startTime<=Q)n(m),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=r(m)}}function ie(Q){if(k=!1,W(Q),!T)if(r(f)!==null)T=!0,se||(se=!0,F());else{var ue=r(m);ue!==null&&_e(ie,ue.startTime-Q)}}var se=!1,K=-1,Z=5,V=-1;function ye(){return O?!0:!(t.unstable_now()-V<Z)}function U(){if(O=!1,se){var Q=t.unstable_now();V=Q;var ue=!0;try{e:{T=!1,k&&(k=!1,G(K),K=-1),x=!0;var he=N;try{t:{for(W(Q),w=r(f);w!==null&&!(w.expirationTime>Q&&ye());){var je=w.callback;if(typeof je=="function"){w.callback=null,N=w.priorityLevel;var me=je(w.expirationTime<=Q);if(Q=t.unstable_now(),typeof me=="function"){w.callback=me,W(Q),ue=!0;break t}w===r(f)&&n(f),W(Q)}else n(f);w=r(f)}if(w!==null)ue=!0;else{var z=r(m);z!==null&&_e(ie,z.startTime-Q),ue=!1}}break e}finally{w=null,N=he,x=!1}ue=void 0}}finally{ue?F():se=!1}}}var F;if(typeof D=="function")F=function(){D(U)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,le=oe.port2;oe.port1.onmessage=U,F=function(){le.postMessage(null)}}else F=function(){R(U,0)};function _e(Q,ue){K=R(function(){Q(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_next=function(Q){switch(N){case 1:case 2:case 3:var ue=3;break;default:ue=N}var he=N;N=ue;try{return Q()}finally{N=he}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=N;N=Q;try{return ue()}finally{N=he}},t.unstable_scheduleCallback=function(Q,ue,he){var je=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?je+he:je):he=je,Q){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=he+me,Q={id:g++,callback:ue,priorityLevel:Q,startTime:he,expirationTime:me,sortIndex:-1},he>je?(Q.sortIndex=he,e(m,Q),r(f)===null&&Q===r(m)&&(k?(G(K),K=-1):k=!0,_e(ie,he-je))):(Q.sortIndex=me,e(f,Q),T||x||(T=!0,se||(se=!0,F()))),Q},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(Q){var ue=N;return function(){var he=N;N=ue;try{return Q.apply(this,arguments)}finally{N=he}}}})(cm)),cm}var y2;function Y5(){return y2||(y2=1,lm.exports=W5()),lm.exports}var um={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function K5(){if(b2)return mn;b2=1;var t=Lp();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,m,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:w==null?null:""+w,children:f,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,mn.createPortal=function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,g)},mn.flushSync=function(f){var m=u.T,g=n.p;try{if(u.T=null,n.p=2,f)return f()}finally{u.T=m,n.p=g,n.d.f()}},mn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(f,m))},mn.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},mn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var g=m.as,w=h(g,m.crossOrigin),N=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?n.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:N,fetchPriority:x}):g==="script"&&n.d.X(f,{crossOrigin:w,integrity:N,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},mn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);n.d.M(f,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(f)},mn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,w=h(g,m.crossOrigin);n.d.L(f,g,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},mn.preloadModule=function(f,m){if(typeof f=="string")if(m){var g=h(m.as,m.crossOrigin);n.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(f)},mn.requestFormReset=function(f){n.d.r(f)},mn.unstable_batchedUpdates=function(f,m){return f(m)},mn.useFormState=function(f,m,g){return u.H.useFormState(f,m,g)},mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},mn.version="19.2.3",mn}var x2;function J5(){if(x2)return um.exports;x2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),um.exports=K5(),um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function X5(){if(w2)return kd;w2=1;var t=Y5(),e=Lp(),r=J5();function n(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var i=a,l=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(l=i.return),a=i.return;while(a)}return i.tag===3?l:null}function u(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function h(a){if(a.tag===31){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(n(188))}function m(a){var i=a.alternate;if(!i){if(i=o(a),i===null)throw Error(n(188));return i!==a?null:a}for(var l=a,d=i;;){var v=l.return;if(v===null)break;var b=v.alternate;if(b===null){if(d=v.return,d!==null){l=d;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===l)return f(v),a;if(b===d)return f(v),i;b=b.sibling}throw Error(n(188))}if(l.return!==d.return)l=v,d=b;else{for(var C=!1,H=v.child;H;){if(H===l){C=!0,l=v,d=b;break}if(H===d){C=!0,d=v,l=b;break}H=H.sibling}if(!C){for(H=b.child;H;){if(H===l){C=!0,l=b,d=v;break}if(H===d){C=!0,d=b,l=v;break}H=H.sibling}if(!C)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?a:i}function g(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=g(a),i!==null)return i;a=a.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),D=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var oe=Symbol.for("react.client.reference");function le(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===oe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case k:return"Fragment";case R:return"Profiler";case O:return"StrictMode";case ie:return"Suspense";case se:return"SuspenseList";case V:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case T:return"Portal";case D:return a.displayName||"Context";case G:return(a._context.displayName||"Context")+".Consumer";case W:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case K:return i=a.displayName||null,i!==null?i:le(a.type)||"Memo";case Z:i=a._payload,a=a._init;try{return le(a(i))}catch{}}return null}var _e=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},je=[],me=-1;function z(a){return{current:a}}function j(a){0>me||(a.current=je[me],je[me]=null,me--)}function A(a,i){me++,je[me]=a.current,a.current=i}var L=z(null),q=z(null),te=z(null),de=z(null);function ge(a,i){switch(A(te,i),A(q,a),A(L,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?B1(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=B1(i),a=U1(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}j(L),A(L,a)}function be(){j(L),j(q),j(te)}function Te(a){a.memoizedState!==null&&A(de,a);var i=L.current,l=U1(i,a.type);i!==l&&(A(q,a),A(L,l))}function $e(a){q.current===a&&(j(L),j(q)),de.current===a&&(j(de),Sd._currentValue=he)}var tt,ce;function Me(a){if(tt===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);tt=i&&i[1]||"",ce=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+a+ce}var P=!1;function Be(a,i){if(!a||P)return"";P=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Ue){var De=Ue}Reflect.construct(a,[],Ke)}else{try{Ke.call()}catch(Ue){De=Ue}a.call(Ke.prototype)}}else{try{throw Error()}catch(Ue){De=Ue}(Ke=a())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Ue){if(Ue&&De&&typeof Ue.stack=="string")return[Ue.stack,De.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),C=b[0],H=b[1];if(C&&H){var fe=C.split(`
`),Oe=H.split(`
`);for(v=d=0;d<fe.length&&!fe[d].includes("DetermineComponentFrameRoot");)d++;for(;v<Oe.length&&!Oe[v].includes("DetermineComponentFrameRoot");)v++;if(d===fe.length||v===Oe.length)for(d=fe.length-1,v=Oe.length-1;1<=d&&0<=v&&fe[d]!==Oe[v];)v--;for(;1<=d&&0<=v;d--,v--)if(fe[d]!==Oe[v]){if(d!==1||v!==1)do if(d--,v--,0>v||fe[d]!==Oe[v]){var Ie=`
`+fe[d].replace(" at new "," at ");return a.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",a.displayName)),Ie}while(1<=d&&0<=v);break}}}finally{P=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?Me(l):""}function ee(a,i){switch(a.tag){case 26:case 27:case 5:return Me(a.type);case 16:return Me("Lazy");case 13:return a.child!==i&&i!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Be(a.type,!1);case 11:return Be(a.type.render,!1);case 1:return Be(a.type,!0);case 31:return Me("Activity");default:return""}}function Se(a){try{var i="",l=null;do i+=ee(a,l),l=a,a=a.return;while(a);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var ve=Object.prototype.hasOwnProperty,Ge=t.unstable_scheduleCallback,Ye=t.unstable_cancelCallback,Ze=t.unstable_shouldYield,Qe=t.unstable_requestPaint,at=t.unstable_now,At=t.unstable_getCurrentPriorityLevel,nt=t.unstable_ImmediatePriority,it=t.unstable_UserBlockingPriority,Et=t.unstable_NormalPriority,lt=t.unstable_LowPriority,Ct=t.unstable_IdlePriority,ht=t.log,Pr=t.unstable_setDisableYieldValue,Pt=null,Nt=null;function Dt(a){if(typeof ht=="function"&&Pr(a),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Pt,a)}catch{}}var Xt=Math.clz32?Math.clz32:Rt,xt=Math.log,xr=Math.LN2;function Rt(a){return a>>>=0,a===0?32:31-(xt(a)/xr|0)|0}var zt=256,wr=262144,Wt=4194304;function yt(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ir(a,i,l){var d=a.pendingLanes;if(d===0)return 0;var v=0,b=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var H=d&134217727;return H!==0?(d=H&~b,d!==0?v=yt(d):(C&=H,C!==0?v=yt(C):l||(l=H&~a,l!==0&&(v=yt(l))))):(H=d&~b,H!==0?v=yt(H):C!==0?v=yt(C):l||(l=d&~a,l!==0&&(v=yt(l)))),v===0?0:i!==0&&i!==v&&(i&b)===0&&(b=v&-v,l=i&-i,b>=l||b===32&&(l&4194048)!==0)?i:v}function Jn(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function Ha(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(){var a=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),a}function Tn(a){for(var i=[],l=0;31>l;l++)i.push(a);return i}function wt(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function $i(a,i,l,d,v,b){var C=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var H=a.entanglements,fe=a.expirationTimes,Oe=a.hiddenUpdates;for(l=C&~l;0<l;){var Ie=31-Xt(l),Ke=1<<Ie;H[Ie]=0,fe[Ie]=-1;var De=Oe[Ie];if(De!==null)for(Oe[Ie]=null,Ie=0;Ie<De.length;Ie++){var Ue=De[Ie];Ue!==null&&(Ue.lane&=-536870913)}l&=~Ke}d!==0&&Ni(a,d,0),b!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=b&~(C&~i))}function Ni(a,i,l){a.pendingLanes|=i,a.suspendedLanes&=~i;var d=31-Xt(i);a.entangledLanes|=i,a.entanglements[d]=a.entanglements[d]|1073741824|l&261930}function bn(a,i){var l=a.entangledLanes|=i;for(a=a.entanglements;l;){var d=31-Xt(l),v=1<<d;v&i|a[d]&i&&(a[d]|=i),l&=~v}}function xn(a,i){var l=i&-i;return l=(l&42)!==0?1:zr(l),(l&(a.suspendedLanes|i))!==0?0:l}function zr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function oa(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Aa(){var a=ue.p;return a!==0?a:(a=window.event,a===void 0?32:s2(a.type))}function As(a,i){var l=ue.p;try{return ue.p=a,i()}finally{ue.p=l}}var Qa=Math.random().toString(36).slice(2),_r="__reactFiber$"+Qa,Ir="__reactProps$"+Qa,Va="__reactContainer$"+Qa,wn="__reactEvents$"+Qa,Ln="__reactListeners$"+Qa,to="__reactHandles$"+Qa,Xn="__reactResources$"+Qa,Zn="__reactMarker$"+Qa;function Es(a){delete a[_r],delete a[Ir],delete a[wn],delete a[Ln],delete a[to]}function Qn(a){var i=a[_r];if(i)return i;for(var l=a.parentNode;l;){if(i=l[Va]||l[_r]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(a=H1(a);a!==null;){if(l=a[_r])return l;a=H1(a)}return i}a=l,l=a.parentNode}return null}function ei(a){if(a=a[_r]||a[Va]){var i=a.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return a}return null}function ro(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(n(33))}function Si(a){var i=a[Xn];return i||(i=a[Xn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ea(a){a[Zn]=!0}var Ml=new Set,_n={};function ti(a,i){Hi(a,i),Hi(a+"Capture",i)}function Hi(a,i){for(_n[a]=i,a=0;a<i.length;a++)Ml.add(i[a])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},Pl={};function Lc(a){return ve.call(Pl,a)?!0:ve.call(Ul,a)?!1:Bl.test(a)?Pl[a]=!0:(Ul[a]=!0,!1)}function Nn(a,i,l){if(Lc(i))if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+l)}}function Vi(a,i,l){if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+l)}}function ri(a,i,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(i,l,""+d)}}function hr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function zl(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ji(a,i,l){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,i);if(!a.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,b=d.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return v.call(this)},set:function(C){l=""+C,b.call(this,C)}}),Object.defineProperty(a,i,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function Cs(a){if(!a._valueTracker){var i=zl(a)?"checked":"value";a._valueTracker=ji(a,i,""+a[i])}}function ql(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return a&&(d=zl(a)?a.checked?"true":"false":a.value),a=d,a!==l?(i.setValue(a),!0):!1}function en(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var ya=/[\n"\\]/g;function la(a){return a.replace(ya,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ho(a,i,l,d,v,b,C,H){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),i!=null?C==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+hr(i)):a.value!==""+hr(i)&&(a.value=""+hr(i)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),i!=null?Il(a,C,hr(i)):l!=null?Il(a,C,hr(l)):d!=null&&a.removeAttribute("value"),v==null&&b!=null&&(a.defaultChecked=!!b),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.name=""+hr(H):a.removeAttribute("name")}function Rc(a,i,l,d,v,b,C,H){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),i!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||i!=null)){Cs(a);return}l=l!=null?""+hr(l):"",i=i!=null?""+hr(i):l,H||i===a.value||(a.value=i),a.defaultValue=i}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=H?a.checked:!!d,a.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),Cs(a)}function Il(a,i,l){i==="number"&&en(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function tn(a,i,l,d){if(a=a.options,i){i={};for(var v=0;v<l.length;v++)i["$"+l[v]]=!0;for(l=0;l<a.length;l++)v=i.hasOwnProperty("$"+a[l].value),a[l].selected!==v&&(a[l].selected=v),v&&d&&(a[l].defaultSelected=!0)}else{for(l=""+hr(l),i=null,v=0;v<a.length;v++){if(a[v].value===l){a[v].selected=!0,d&&(a[v].defaultSelected=!0);return}i!==null||a[v].disabled||(i=a[v])}i!==null&&(i.selected=!0)}}function Fl(a,i,l){if(i!=null&&(i=""+hr(i),i!==a.value&&(a.value=i),l==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=l!=null?""+hr(l):""}function $l(a,i,l,d){if(i==null){if(d!=null){if(l!=null)throw Error(n(92));if(_e(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),i=l}l=hr(i),a.defaultValue=l,d=a.textContent,d===l&&d!==""&&d!==null&&(a.value=d),Cs(a)}function ai(a,i){if(i){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=i;return}}a.textContent=i}var ao=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oc(a,i,l){var d=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":d?a.setProperty(i,l):typeof l!="number"||l===0||ao.has(i)?i==="float"?a.cssFloat=l:a[i]=(""+l).trim():a[i]=l+"px"}function Dc(a,i,l){if(i!=null&&typeof i!="object")throw Error(n(62));if(a=a.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var v in i)d=i[v],i.hasOwnProperty(v)&&l[v]!==d&&Oc(a,v,d)}else for(var b in i)i.hasOwnProperty(b)&&Oc(a,b,i[b])}function Hl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dn(a){return Mc.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ni(){}var Gi=null;function no(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ks=null,kt=null;function Bc(a){var i=ei(a);if(i&&(a=i.stateNode)){var l=a[Ir]||null;e:switch(a=i.stateNode,i.type){case"input":if(Ho(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+la(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==a&&d.form===a.form){var v=d[Ir]||null;if(!v)throw Error(n(90));Ho(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(i=0;i<l.length;i++)d=l[i],d.form===a.form&&ql(d)}break e;case"textarea":Fl(a,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&tn(a,!!l.multiple,i,!1)}}}var Gl=!1;function Uc(a,i,l){if(Gl)return a(i,l);Gl=!0;try{var d=a(i);return d}finally{if(Gl=!1,(ks!==null||kt!==null)&&(jh(),ks&&(i=ks,a=kt,kt=ks=null,Bc(i),a)))for(i=0;i<a.length;i++)Bc(a[i])}}function Sn(a,i){var l=a.stateNode;if(l===null)return null;var d=l[Ir]||null;if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=!1;if(Oa)try{var io={};Object.defineProperty(io,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Wl=!1}var jn=null,so=null,Ai=null;function Pc(){if(Ai)return Ai;var a,i=so,l=i.length,d,v="value"in jn?jn.value:jn.textContent,b=v.length;for(a=0;a<l&&i[a]===v[a];a++);var C=l-a;for(d=1;d<=C&&i[l-d]===v[b-d];d++);return Ai=v.slice(a,1<d?1-d:void 0)}function Rn(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function Vo(){return!0}function Go(){return!1}function Ea(a){function i(l,d,v,b,C){this._reactName=l,this._targetInst=v,this.type=d,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(l=a[H],this[H]=l?l(b):b[H]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Vo:Go,this.isPropagationStopped=Go,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),i}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},On=Ea(Ei),Wi=w({},Ei,{view:0,detail:0}),Wo=Ea(Wi),oo,Yi,Ki,lo=w({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mt,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ki&&(Ki&&a.type==="mousemove"?(oo=a.screenX-Ki.screenX,Yi=a.screenY-Ki.screenY):Yi=oo=0,Ki=a),oo)},movementY:function(a){return"movementY"in a?a.movementY:Yi}}),Yl=Ea(lo),Ji=w({},lo,{dataTransfer:0}),Xi=Ea(Ji),zc=w({},Wi,{relatedTarget:0}),Zi=Ea(zc),qc=w({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Ea(qc),M=w({},Ei,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ne=Ea(M),pe=w({},Ei,{data:0}),Ae=Ea(pe),He={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pt(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=ut[a])?!!i[a]:!1}function Mt(){return pt}var $t=w({},Wi,{key:function(a){if(a.key){var i=He[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=Rn(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Xe[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mt,charCode:function(a){return a.type==="keypress"?Rn(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Rn(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),sr=Ea($t),Fr=w({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ta=Ea(Fr),Cr=w({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mt}),ba=Ea(Cr),ca=w({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),Da=Ea(ca),Qi=w({},lo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ii=Ea(Qi),es=w({},Ei,{newState:0,oldState:0}),Kl=Ea(es),Yo=[9,13,27,32],Ci=Oa&&"CompositionEvent"in window,si=null;Oa&&"documentMode"in document&&(si=document.documentMode);var co=Oa&&"TextEvent"in window&&!si,ts=Oa&&(!Ci||si&&8<si&&11>=si),Ca=" ",Ts=!1;function Ls(a,i){switch(a){case"keyup":return Yo.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ko(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ki=!1;function rn(a,i){switch(a){case"compositionend":return Ko(i);case"keypress":return i.which!==32?null:(Ts=!0,Ca);case"textInput":return a=i.data,a===Ca&&Ts?null:a;default:return null}}function rs(a,i){if(ki)return a==="compositionend"||!Ci&&Ls(a,i)?(a=Pc(),Ai=so=jn=null,ki=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ts&&i.locale!=="ko"?null:i.data;default:return null}}var Jo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jl(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!Jo[a.type]:i==="textarea"}function An(a,i,l,d){ks?kt?kt.push(d):kt=[d]:ks=d,i=Rh(i,"onChange"),0<i.length&&(l=new On("onChange","change",null,l,d),a.push({event:l,listeners:i}))}var oi=null,as=null;function Xl(a){T1(a,0)}function li(a){var i=ro(a);if(ql(i))return a}function Rs(a,i){if(a==="change")return i}var hn=!1;if(Oa){var an;if(Oa){var Ti="oninput"in document;if(!Ti){var Li=document.createElement("div");Li.setAttribute("oninput","return;"),Ti=typeof Li.oninput=="function"}an=Ti}else an=!1;hn=an&&(!document.documentMode||9<document.documentMode)}function ns(){oi&&(oi.detachEvent("onpropertychange",Xo),as=oi=null)}function Xo(a){if(a.propertyName==="value"&&li(as)){var i=[];An(i,as,a,no(a)),Uc(Xl,i)}}function Zo(a,i,l){a==="focusin"?(ns(),oi=i,as=l,oi.attachEvent("onpropertychange",Xo)):a==="focusout"&&ns()}function ra(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return li(as)}function Ic(a,i){if(a==="click")return li(i)}function Ri(a,i){if(a==="input"||a==="change")return li(i)}function Oi(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var Ma=typeof Object.is=="function"?Object.is:Oi;function is(a,i){if(Ma(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var l=Object.keys(a),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var v=l[d];if(!ve.call(i,v)||!Ma(a[v],i[v]))return!1}return!0}function Qo(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function el(a,i){var l=Qo(a);a=0;for(var d;l;){if(l.nodeType===3){if(d=a+l.textContent.length,a<=i&&d>=i)return{node:l,offset:i-a};a=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Qo(l)}}function ss(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?ss(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function os(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=en(a.document);i instanceof a.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)a=i.contentWindow;else break;i=en(a.document)}return i}function Di(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var uo=Oa&&"documentMode"in document&&11>=document.documentMode,En=null,ls=null,Ga=null,Dn=!1;function fr(a,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Dn||En==null||En!==en(d)||(d=En,"selectionStart"in d&&Di(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ga&&is(Ga,d)||(Ga=d,d=Rh(ls,"onSelect"),0<d.length&&(i=new On("onSelect","select",null,i,l),a.push({event:i,listeners:d}),i.target=En)))}function or(a,i){var l={};return l[a.toLowerCase()]=i.toLowerCase(),l["Webkit"+a]="webkit"+i,l["Moz"+a]="moz"+i,l}var kr={animationend:or("Animation","AnimationEnd"),animationiteration:or("Animation","AnimationIteration"),animationstart:or("Animation","AnimationStart"),transitionrun:or("Transition","TransitionRun"),transitionstart:or("Transition","TransitionStart"),transitioncancel:or("Transition","TransitionCancel"),transitionend:or("Transition","TransitionEnd")},aa={},Mi={};Oa&&(Mi=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function ci(a){if(aa[a])return aa[a];if(!kr[a])return a;var i=kr[a],l;for(l in i)if(i.hasOwnProperty(l)&&l in Mi)return aa[a]=i[l];return a}var ho=ci("animationend"),Zl=ci("animationiteration"),Wu=ci("animationstart"),th=ci("transitionrun"),rh=ci("transitionstart"),ah=ci("transitioncancel"),Yu=ci("transitionend"),Ku=new Map,fo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fo.push("scrollEnd");function Mn(a,i){Ku.set(a,i),ti(i,[a])}var Ql=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Cn=[],mo=0,Fc=0;function ec(){for(var a=mo,i=Fc=mo=0;i<a;){var l=Cn[i];Cn[i++]=null;var d=Cn[i];Cn[i++]=null;var v=Cn[i];Cn[i++]=null;var b=Cn[i];if(Cn[i++]=null,d!==null&&v!==null){var C=d.pending;C===null?v.next=v:(v.next=C.next,C.next=v),d.pending=v}b!==0&&rc(l,v,b)}}function tc(a,i,l,d){Cn[mo++]=a,Cn[mo++]=i,Cn[mo++]=l,Cn[mo++]=d,Fc|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function $c(a,i,l,d){return tc(a,i,l,d),Wa(a)}function cs(a,i){return tc(a,null,null,i),Wa(a)}function rc(a,i,l){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l);for(var v=!1,b=a.return;b!==null;)b.childLanes|=l,d=b.alternate,d!==null&&(d.childLanes|=l),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(v=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,v&&i!==null&&(v=31-Xt(l),a=b.hiddenUpdates,d=a[v],d===null?a[v]=[i]:d.push(i),i.lane=l|536870912),b):null}function Wa(a){if(50<vd)throw vd=0,k0=null,Error(n(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var Ba={};function Hc(a,i,l,d){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(a,i,l,d){return new Hc(a,i,l,d)}function Vc(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Bn(a,i){var l=a.alternate;return l===null?(l=Ya(a.tag,i,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=i,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,i=a.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function ac(a,i){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,i=l.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function tl(a,i,l,d,v,b){var C=0;if(d=a,typeof a=="function")Vc(a)&&(C=1);else if(typeof a=="string")C=T5(a,l,L.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case V:return a=Ya(31,l,i,v),a.elementType=V,a.lanes=b,a;case k:return Os(l.children,v,b,i);case O:C=8,v|=24;break;case R:return a=Ya(12,l,i,v|2),a.elementType=R,a.lanes=b,a;case ie:return a=Ya(13,l,i,v),a.elementType=ie,a.lanes=b,a;case se:return a=Ya(19,l,i,v),a.elementType=se,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:C=10;break e;case G:C=9;break e;case W:C=11;break e;case K:C=14;break e;case Z:C=16,d=null;break e}C=29,l=Error(n(130,a===null?"null":typeof a,"")),d=null}return i=Ya(C,l,i,v),i.elementType=a,i.type=d,i.lanes=b,i}function Os(a,i,l,d){return a=Ya(7,a,d,i),a.lanes=l,a}function nc(a,i,l){return a=Ya(6,a,null,i),a.lanes=l,a}function Gc(a){var i=Ya(18,null,null,0);return i.stateNode=a,i}function rl(a,i,l){return i=Ya(4,a.children!==null?a.children:[],a.key,i),i.lanes=l,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var Wc=new WeakMap;function Un(a,i){if(typeof a=="object"&&a!==null){var l=Wc.get(a);return l!==void 0?l:(i={value:a,source:i,stack:Se(i)},Wc.set(a,i),i)}return{value:a,source:i,stack:Se(i)}}var al=[],po=0,Yc=null,ic=0,Pn=[],zn=0,Ds=null,qn=1,In="";function kn(a,i){al[po++]=ic,al[po++]=Yc,Yc=a,ic=i}function nh(a,i,l){Pn[zn++]=qn,Pn[zn++]=In,Pn[zn++]=Ds,Ds=a;var d=qn;a=In;var v=32-Xt(d)-1;d&=~(1<<v),l+=1;var b=32-Xt(i)+v;if(30<b){var C=v-v%5;b=(d&(1<<C)-1).toString(32),d>>=C,v-=C,qn=1<<32-Xt(i)+v|l<<v|d,In=b+a}else qn=1<<b|l<<v|d,In=a}function Ju(a){a.return!==null&&(kn(a,1),nh(a,1,0))}function Kc(a){for(;a===Yc;)Yc=al[--po],al[po]=null,ic=al[--po],al[po]=null;for(;a===Ds;)Ds=Pn[--zn],Pn[zn]=null,In=Pn[--zn],Pn[zn]=null,qn=Pn[--zn],Pn[zn]=null}function ih(a,i){Pn[zn++]=qn,Pn[zn++]=In,Pn[zn++]=Ds,qn=i.id,In=i.overflow,Ds=a}var Ua=null,Dr=null,er=!1,nn=null,Yr=!1,ui=Error(n(519));function Ms(a){var i=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(Un(i,a)),ui}function Xu(a){var i=a.stateNode,l=a.type,d=a.memoizedProps;switch(i[_r]=a,i[Ir]=d,l){case"dialog":rr("cancel",i),rr("close",i);break;case"iframe":case"object":case"embed":rr("load",i);break;case"video":case"audio":for(l=0;l<bd.length;l++)rr(bd[l],i);break;case"source":rr("error",i);break;case"img":case"image":case"link":rr("error",i),rr("load",i);break;case"details":rr("toggle",i);break;case"input":rr("invalid",i),Rc(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":rr("invalid",i);break;case"textarea":rr("invalid",i),$l(i,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||d.suppressHydrationWarning===!0||D1(i.textContent,l)?(d.popover!=null&&(rr("beforetoggle",i),rr("toggle",i)),d.onScroll!=null&&rr("scroll",i),d.onScrollEnd!=null&&rr("scrollend",i),d.onClick!=null&&(i.onclick=ni),i=!0):i=!1,i||Ms(a,!0)}function us(a){for(Ua=a.return;Ua;)switch(Ua.tag){case 5:case 31:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:Ua=Ua.return}}function Pa(a){if(a!==Ua)return!1;if(!er)return us(a),er=!0,!1;var i=a.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||H0(a.type,a.memoizedProps)),l=!l),l&&Dr&&Ms(a),us(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Dr=$1(a)}else if(i===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Dr=$1(a)}else i===27?(i=Dr,yl(a.type)?(a=K0,K0=null,Dr=a):Dr=i):Dr=Ua?zi(a.stateNode.nextSibling):null;return!0}function go(){Dr=Ua=null,er=!1}function Zu(){var a=nn;return a!==null&&(Wn===null?Wn=a:Wn.push.apply(Wn,a),nn=null),a}function nl(a){nn===null?nn=[a]:nn.push(a)}var Jc=z(null),Bs=null,Bi=null;function Us(a,i,l){A(Jc,i._currentValue),i._currentValue=l}function Fn(a){a._currentValue=Jc.current,j(Jc)}function il(a,i,l){for(;a!==null;){var d=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),a===l)break;a=a.return}}function vo(a,i,l,d){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var b=v.dependencies;if(b!==null){var C=v.child;b=b.firstContext;e:for(;b!==null;){var H=b;b=v;for(var fe=0;fe<i.length;fe++)if(H.context===i[fe]){b.lanes|=l,H=b.alternate,H!==null&&(H.lanes|=l),il(b.return,l,a),d||(C=null);break e}b=H.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(n(341));C.lanes|=l,b=C.alternate,b!==null&&(b.lanes|=l),il(C,l,a),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===a){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function Ps(a,i,l,d){a=null;for(var v=i,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(n(387));if(C=C.memoizedProps,C!==null){var H=v.type;Ma(v.pendingProps.value,C.value)||(a!==null?a.push(H):a=[H])}}else if(v===de.current){if(C=v.alternate,C===null)throw Error(n(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Sd):a=[Sd])}v=v.return}a!==null&&vo(i,a,l,d),i.flags|=262144}function Xc(a){for(a=a.firstContext;a!==null;){if(!Ma(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function zs(a){Bs=a,Bi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function za(a){return sh(Bs,a)}function Zc(a,i){return Bs===null&&zs(a),sh(a,i)}function sh(a,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Bi===null){if(a===null)throw Error(n(308));Bi=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else Bi=Bi.next=i;return l}var Yf=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(l,d){a.push(d)}};this.abort=function(){i.aborted=!0,a.forEach(function(l){return l()})}},Kf=t.unstable_scheduleCallback,Jf=t.unstable_NormalPriority,na={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sl(){return{controller:new Yf,data:new Map,refCount:0}}function sc(a){a.refCount--,a.refCount===0&&Kf(Jf,function(){a.controller.abort()})}var oc=null,Qc=0,p=0,y=null;function S(a,i){if(oc===null){var l=oc=[];Qc=0,p=M0(),y={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Qc++,i.then(E,E),i}function E(){if(--Qc===0&&oc!==null){y!==null&&(y.status="fulfilled");var a=oc;oc=null,p=0,y=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function B(a,i){var l=[],d={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return a.then(function(){d.status="fulfilled",d.value=i;for(var v=0;v<l.length;v++)(0,l[v])(i)},function(v){for(d.status="rejected",d.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),d}var I=Q.S;Q.S=function(a,i){n1=at(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&S(a,i),I!==null&&I(a,i)};var $=z(null);function Y(){var a=$.current;return a!==null?a:Br.pooledCache}function J(a,i){i===null?A($,$.current):A($,i.pool)}function ae(){var a=Y();return a===null?null:{parent:na._currentValue,pool:a}}var xe=Error(n(460)),Le=Error(n(474)),re=Error(n(542)),Ne={then:function(){}};function Ce(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ze(a,i,l){switch(l=a[l],l===void 0?a.push(i):l!==i&&(i.then(ni,ni),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,et(a),a;default:if(typeof i.status=="string")i.then(ni,ni);else{if(a=Br,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=i,a.status="pending",a.then(function(d){if(i.status==="pending"){var v=i;v.status="fulfilled",v.value=d}},function(d){if(i.status==="pending"){var v=i;v.status="rejected",v.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,et(a),a}throw Pe=i,xe}}function ke(a){try{var i=a._init;return i(a._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pe=l,xe):l}}var Pe=null;function Ve(){if(Pe===null)throw Error(n(459));var a=Pe;return Pe=null,a}function et(a){if(a===xe||a===re)throw Error(n(483))}var Je=null,ft=0;function st(a){var i=ft;return ft+=1,Je===null&&(Je=[]),ze(Je,a,i)}function It(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function ct(a,i){throw i.$$typeof===N?Error(n(525)):(a=Object.prototype.toString.call(i),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function Qt(a){function i(Ee,we){if(a){var Re=Ee.deletions;Re===null?(Ee.deletions=[we],Ee.flags|=16):Re.push(we)}}function l(Ee,we){if(!a)return null;for(;we!==null;)i(Ee,we),we=we.sibling;return null}function d(Ee){for(var we=new Map;Ee!==null;)Ee.key!==null?we.set(Ee.key,Ee):we.set(Ee.index,Ee),Ee=Ee.sibling;return we}function v(Ee,we){return Ee=Bn(Ee,we),Ee.index=0,Ee.sibling=null,Ee}function b(Ee,we,Re){return Ee.index=Re,a?(Re=Ee.alternate,Re!==null?(Re=Re.index,Re<we?(Ee.flags|=67108866,we):Re):(Ee.flags|=67108866,we)):(Ee.flags|=1048576,we)}function C(Ee){return a&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function H(Ee,we,Re,We){return we===null||we.tag!==6?(we=nc(Re,Ee.mode,We),we.return=Ee,we):(we=v(we,Re),we.return=Ee,we)}function fe(Ee,we,Re,We){var jt=Re.type;return jt===k?Ie(Ee,we,Re.props.children,We,Re.key):we!==null&&(we.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===Z&&ke(jt)===we.type)?(we=v(we,Re.props),It(we,Re),we.return=Ee,we):(we=tl(Re.type,Re.key,Re.props,null,Ee.mode,We),It(we,Re),we.return=Ee,we)}function Oe(Ee,we,Re,We){return we===null||we.tag!==4||we.stateNode.containerInfo!==Re.containerInfo||we.stateNode.implementation!==Re.implementation?(we=rl(Re,Ee.mode,We),we.return=Ee,we):(we=v(we,Re.children||[]),we.return=Ee,we)}function Ie(Ee,we,Re,We,jt){return we===null||we.tag!==7?(we=Os(Re,Ee.mode,We,jt),we.return=Ee,we):(we=v(we,Re),we.return=Ee,we)}function Ke(Ee,we,Re){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=nc(""+we,Ee.mode,Re),we.return=Ee,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case x:return Re=tl(we.type,we.key,we.props,null,Ee.mode,Re),It(Re,we),Re.return=Ee,Re;case T:return we=rl(we,Ee.mode,Re),we.return=Ee,we;case Z:return we=ke(we),Ke(Ee,we,Re)}if(_e(we)||F(we))return we=Os(we,Ee.mode,Re,null),we.return=Ee,we;if(typeof we.then=="function")return Ke(Ee,st(we),Re);if(we.$$typeof===D)return Ke(Ee,Zc(Ee,we),Re);ct(Ee,we)}return null}function De(Ee,we,Re,We){var jt=we!==null?we.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return jt!==null?null:H(Ee,we,""+Re,We);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case x:return Re.key===jt?fe(Ee,we,Re,We):null;case T:return Re.key===jt?Oe(Ee,we,Re,We):null;case Z:return Re=ke(Re),De(Ee,we,Re,We)}if(_e(Re)||F(Re))return jt!==null?null:Ie(Ee,we,Re,We,null);if(typeof Re.then=="function")return De(Ee,we,st(Re),We);if(Re.$$typeof===D)return De(Ee,we,Zc(Ee,Re),We);ct(Ee,Re)}return null}function Ue(Ee,we,Re,We,jt){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return Ee=Ee.get(Re)||null,H(we,Ee,""+We,jt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case x:return Ee=Ee.get(We.key===null?Re:We.key)||null,fe(we,Ee,We,jt);case T:return Ee=Ee.get(We.key===null?Re:We.key)||null,Oe(we,Ee,We,jt);case Z:return We=ke(We),Ue(Ee,we,Re,We,jt)}if(_e(We)||F(We))return Ee=Ee.get(Re)||null,Ie(we,Ee,We,jt,null);if(typeof We.then=="function")return Ue(Ee,we,Re,st(We),jt);if(We.$$typeof===D)return Ue(Ee,we,Re,Zc(we,We),jt);ct(we,We)}return null}function dt(Ee,we,Re,We){for(var jt=null,pr=null,gt=we,Kt=we=0,nr=null;gt!==null&&Kt<Re.length;Kt++){gt.index>Kt?(nr=gt,gt=null):nr=gt.sibling;var gr=De(Ee,gt,Re[Kt],We);if(gr===null){gt===null&&(gt=nr);break}a&&gt&&gr.alternate===null&&i(Ee,gt),we=b(gr,we,Kt),pr===null?jt=gr:pr.sibling=gr,pr=gr,gt=nr}if(Kt===Re.length)return l(Ee,gt),er&&kn(Ee,Kt),jt;if(gt===null){for(;Kt<Re.length;Kt++)gt=Ke(Ee,Re[Kt],We),gt!==null&&(we=b(gt,we,Kt),pr===null?jt=gt:pr.sibling=gt,pr=gt);return er&&kn(Ee,Kt),jt}for(gt=d(gt);Kt<Re.length;Kt++)nr=Ue(gt,Ee,Kt,Re[Kt],We),nr!==null&&(a&&nr.alternate!==null&&gt.delete(nr.key===null?Kt:nr.key),we=b(nr,we,Kt),pr===null?jt=nr:pr.sibling=nr,pr=nr);return a&&gt.forEach(function(Nl){return i(Ee,Nl)}),er&&kn(Ee,Kt),jt}function Ot(Ee,we,Re,We){if(Re==null)throw Error(n(151));for(var jt=null,pr=null,gt=we,Kt=we=0,nr=null,gr=Re.next();gt!==null&&!gr.done;Kt++,gr=Re.next()){gt.index>Kt?(nr=gt,gt=null):nr=gt.sibling;var Nl=De(Ee,gt,gr.value,We);if(Nl===null){gt===null&&(gt=nr);break}a&&gt&&Nl.alternate===null&&i(Ee,gt),we=b(Nl,we,Kt),pr===null?jt=Nl:pr.sibling=Nl,pr=Nl,gt=nr}if(gr.done)return l(Ee,gt),er&&kn(Ee,Kt),jt;if(gt===null){for(;!gr.done;Kt++,gr=Re.next())gr=Ke(Ee,gr.value,We),gr!==null&&(we=b(gr,we,Kt),pr===null?jt=gr:pr.sibling=gr,pr=gr);return er&&kn(Ee,Kt),jt}for(gt=d(gt);!gr.done;Kt++,gr=Re.next())gr=Ue(gt,Ee,Kt,gr.value,We),gr!==null&&(a&&gr.alternate!==null&&gt.delete(gr.key===null?Kt:gr.key),we=b(gr,we,Kt),pr===null?jt=gr:pr.sibling=gr,pr=gr);return a&&gt.forEach(function(I5){return i(Ee,I5)}),er&&kn(Ee,Kt),jt}function Or(Ee,we,Re,We){if(typeof Re=="object"&&Re!==null&&Re.type===k&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case x:e:{for(var jt=Re.key;we!==null;){if(we.key===jt){if(jt=Re.type,jt===k){if(we.tag===7){l(Ee,we.sibling),We=v(we,Re.props.children),We.return=Ee,Ee=We;break e}}else if(we.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===Z&&ke(jt)===we.type){l(Ee,we.sibling),We=v(we,Re.props),It(We,Re),We.return=Ee,Ee=We;break e}l(Ee,we);break}else i(Ee,we);we=we.sibling}Re.type===k?(We=Os(Re.props.children,Ee.mode,We,Re.key),We.return=Ee,Ee=We):(We=tl(Re.type,Re.key,Re.props,null,Ee.mode,We),It(We,Re),We.return=Ee,Ee=We)}return C(Ee);case T:e:{for(jt=Re.key;we!==null;){if(we.key===jt)if(we.tag===4&&we.stateNode.containerInfo===Re.containerInfo&&we.stateNode.implementation===Re.implementation){l(Ee,we.sibling),We=v(we,Re.children||[]),We.return=Ee,Ee=We;break e}else{l(Ee,we);break}else i(Ee,we);we=we.sibling}We=rl(Re,Ee.mode,We),We.return=Ee,Ee=We}return C(Ee);case Z:return Re=ke(Re),Or(Ee,we,Re,We)}if(_e(Re))return dt(Ee,we,Re,We);if(F(Re)){if(jt=F(Re),typeof jt!="function")throw Error(n(150));return Re=jt.call(Re),Ot(Ee,we,Re,We)}if(typeof Re.then=="function")return Or(Ee,we,st(Re),We);if(Re.$$typeof===D)return Or(Ee,we,Zc(Ee,Re),We);ct(Ee,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,we!==null&&we.tag===6?(l(Ee,we.sibling),We=v(we,Re),We.return=Ee,Ee=We):(l(Ee,we),We=nc(Re,Ee.mode,We),We.return=Ee,Ee=We),C(Ee)):l(Ee,we)}return function(Ee,we,Re,We){try{ft=0;var jt=Or(Ee,we,Re,We);return Je=null,jt}catch(gt){if(gt===xe||gt===re)throw gt;var pr=Ya(29,gt,null,Ee.mode);return pr.lanes=We,pr.return=Ee,pr}finally{}}}var Mr=Qt(!0),Ht=Qt(!1),ot=!1;function rt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $r(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Tt(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Yt(a,i,l){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(br&2)!==0){var v=d.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),d.pending=i,i=Wa(a),rc(a,null,l),i}return tc(a,d,i,l),Wa(a)}function vr(a,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var d=i.lanes;d&=a.pendingLanes,l|=d,i.lanes=l,bn(a,l)}}function xa(a,i){var l=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var v=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?v=b=C:b=b.next=C,l=l.next}while(l!==null);b===null?v=b=i:b=b.next=i}else v=b=i;l={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=i:a.next=i,l.lastBaseUpdate=i}var qa=!1;function Tr(){if(qa){var a=y;if(a!==null)throw a}}function ua(a,i,l,d){qa=!1;var v=a.updateQueue;ot=!1;var b=v.firstBaseUpdate,C=v.lastBaseUpdate,H=v.shared.pending;if(H!==null){v.shared.pending=null;var fe=H,Oe=fe.next;fe.next=null,C===null?b=Oe:C.next=Oe,C=fe;var Ie=a.alternate;Ie!==null&&(Ie=Ie.updateQueue,H=Ie.lastBaseUpdate,H!==C&&(H===null?Ie.firstBaseUpdate=Oe:H.next=Oe,Ie.lastBaseUpdate=fe))}if(b!==null){var Ke=v.baseState;C=0,Ie=Oe=fe=null,H=b;do{var De=H.lane&-536870913,Ue=De!==H.lane;if(Ue?(ar&De)===De:(d&De)===De){De!==0&&De===p&&(qa=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var dt=a,Ot=H;De=i;var Or=l;switch(Ot.tag){case 1:if(dt=Ot.payload,typeof dt=="function"){Ke=dt.call(Or,Ke,De);break e}Ke=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Ot.payload,De=typeof dt=="function"?dt.call(Or,Ke,De):dt,De==null)break e;Ke=w({},Ke,De);break e;case 2:ot=!0}}De=H.callback,De!==null&&(a.flags|=64,Ue&&(a.flags|=8192),Ue=v.callbacks,Ue===null?v.callbacks=[De]:Ue.push(De))}else Ue={lane:De,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Ie===null?(Oe=Ie=Ue,fe=Ke):Ie=Ie.next=Ue,C|=De;if(H=H.next,H===null){if(H=v.shared.pending,H===null)break;Ue=H,H=Ue.next,Ue.next=null,v.lastBaseUpdate=Ue,v.shared.pending=null}}while(!0);Ie===null&&(fe=Ke),v.baseState=fe,v.firstBaseUpdate=Oe,v.lastBaseUpdate=Ie,b===null&&(v.shared.lanes=0),fl|=C,a.lanes=C,a.memoizedState=Ke}}function Ka(a,i){if(typeof a!="function")throw Error(n(191,a));a.call(i)}function da(a,i){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)Ka(l[a],i)}var Zt=z(null),cr=z(0);function Hr(a,i){a=Eo,A(cr,a),A(Zt,i),Eo=a|i.baseLanes}function mr(){A(cr,Eo),A(Zt,Zt.current)}function wa(){Eo=cr.current,j(Zt),j(cr)}var Vr=z(null),ur=null;function ia(a){var i=a.alternate;A(lr,lr.current&1),A(Vr,a),ur===null&&(i===null||Zt.current!==null||i.memoizedState!==null)&&(ur=a)}function yr(a){A(lr,lr.current),A(Vr,a),ur===null&&(ur=a)}function ha(a){a.tag===22?(A(lr,lr.current),A(Vr,a),ur===null&&(ur=a)):fa()}function fa(){A(lr,lr.current),A(Vr,Vr.current)}function Nr(a){j(Vr),ur===a&&(ur=null),j(lr)}var lr=z(0);function Ja(a){for(var i=a;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||W0(l)||Y0(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Kr=0,_t=null,St=null,dr=null,fn=!1,$n=!1,sn=!1,ma=0,qs=0,Is=null,eu=0;function Lr(){throw Error(n(321))}function Qu(a,i){if(i===null)return!1;for(var l=0;l<i.length&&l<a.length;l++)if(!Ma(a[l],i[l]))return!1;return!0}function ed(a,i,l,d,v,b){return Kr=b,_t=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=a===null||a.memoizedState===null?pg:n0,sn=!1,b=l(d,v),sn=!1,$n&&(b=ds(i,l,d,v)),tu(a),b}function tu(a){Q.H=ld;var i=St!==null&&St.next!==null;if(Kr=0,dr=St=_t=null,fn=!1,qs=0,Is=null,i)throw Error(n(300));a===null||Ta||(a=a.dependencies,a!==null&&Xc(a)&&(Ta=!0))}function ds(a,i,l,d){_t=a;var v=0;do{if($n&&(Is=null),qs=0,$n=!1,25<=v)throw Error(n(301));if(v+=1,dr=St=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Q.H=gg,b=i(l,d)}while($n);return b}function Xf(){var a=Q.H,i=a.useState()[0];return i=typeof i.then=="function"?Fs(i):i,a=a.useState()[0],(St!==null?St.memoizedState:null)!==a&&(_t.flags|=1024),i}function td(){var a=ma!==0;return ma=0,a}function rd(a,i,l){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~l}function ru(a){if(fn){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}fn=!1}Kr=0,dr=St=_t=null,$n=!1,qs=ma=0,Is=null}function ka(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?_t.memoizedState=dr=a:dr=dr.next=a,dr}function Jr(){if(St===null){var a=_t.alternate;a=a!==null?a.memoizedState:null}else a=St.next;var i=dr===null?_t.memoizedState:dr.next;if(i!==null)dr=i,St=a;else{if(a===null)throw _t.alternate===null?Error(n(467)):Error(n(310));St=a,a={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},dr===null?_t.memoizedState=dr=a:dr=dr.next=a}return dr}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fs(a){var i=qs;return qs+=1,Is===null&&(Is=[]),a=ze(Is,a,i),i=_t,(dr===null?i.memoizedState:dr.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?pg:n0),a}function ol(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Fs(a);if(a.$$typeof===D)return za(a)}throw Error(n(438,String(a)))}function yo(a){var i=null,l=_t.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var d=_t.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(v){return v.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=lc(),_t.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(a),d=0;d<a;d++)l[d]=ye;return i.index++,l}function Ui(a,i){return typeof i=="function"?i(a):i}function au(a){var i=Jr();return ll(i,St,a)}function ll(a,i,l){var d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=l;var v=a.baseQueue,b=d.pending;if(b!==null){if(v!==null){var C=v.next;v.next=b.next,b.next=C}i.baseQueue=v=b,d.pending=null}if(b=a.baseState,v===null)a.memoizedState=b;else{i=v.next;var H=C=null,fe=null,Oe=i,Ie=!1;do{var Ke=Oe.lane&-536870913;if(Ke!==Oe.lane?(ar&Ke)===Ke:(Kr&Ke)===Ke){var De=Oe.revertLane;if(De===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ke===p&&(Ie=!0);else if((Kr&De)===De){Oe=Oe.next,De===p&&(Ie=!0);continue}else Ke={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},fe===null?(H=fe=Ke,C=b):fe=fe.next=Ke,_t.lanes|=De,fl|=De;Ke=Oe.action,sn&&l(b,Ke),b=Oe.hasEagerState?Oe.eagerState:l(b,Ke)}else De={lane:Ke,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},fe===null?(H=fe=De,C=b):fe=fe.next=De,_t.lanes|=Ke,fl|=Ke;Oe=Oe.next}while(Oe!==null&&Oe!==i);if(fe===null?C=b:fe.next=H,!Ma(b,a.memoizedState)&&(Ta=!0,Ie&&(l=y,l!==null)))throw l;a.memoizedState=b,a.baseState=C,a.baseQueue=fe,d.lastRenderedState=b}return v===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function nu(a){var i=Jr(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=a;var d=l.dispatch,v=l.pending,b=i.memoizedState;if(v!==null){l.pending=null;var C=v=v.next;do b=a(b,C.action),C=C.next;while(C!==v);Ma(b,i.memoizedState)||(Ta=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),l.lastRenderedState=b}return[b,d]}function iu(a,i,l){var d=_t,v=Jr(),b=er;if(b){if(l===void 0)throw Error(n(407));l=l()}else l=i();var C=!Ma((St||v).memoizedState,l);if(C&&(v.memoizedState=l,Ta=!0),v=v.queue,Zf(nd.bind(null,d,v,a),[a]),v.getSnapshot!==i||C||dr!==null&&dr.memoizedState.tag&1){if(d.flags|=2048,xo(9,{destroy:void 0},ad.bind(null,d,v,l,i),null),Br===null)throw Error(n(349));b||(Kr&127)!==0||hs(d,i,l)}return l}function hs(a,i,l){a.flags|=16384,a={getSnapshot:i,value:l},i=_t.updateQueue,i===null?(i=lc(),_t.updateQueue=i,i.stores=[a]):(l=i.stores,l===null?i.stores=[a]:l.push(a))}function ad(a,i,l,d){i.value=l,i.getSnapshot=d,oh(i)&&id(a)}function nd(a,i,l){return l(function(){oh(i)&&id(a)})}function oh(a){var i=a.getSnapshot;a=a.value;try{var l=i();return!Ma(a,l)}catch{return!0}}function id(a){var i=cs(a,2);i!==null&&Yn(i,a,2)}function $s(a){var i=ka();if(typeof a=="function"){var l=a;if(a=l(),sn){Dt(!0);try{l()}finally{Dt(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},i}function lh(a,i,l,d){return a.baseState=l,ll(a,St,typeof d=="function"?d:Ui)}function ch(a,i,l,d,v){if(fh(a))throw Error(n(485));if(a=i.action,a!==null){var b={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};Q.T!==null?l(!0):b.isTransition=!1,d(b),l=i.pending,l===null?(b.next=i.pending=b,uh(i,b)):(b.next=l.next,i.pending=l.next=b)}}function uh(a,i){var l=i.action,d=i.payload,v=a.state;if(i.isTransition){var b=Q.T,C={};Q.T=C;try{var H=l(v,d),fe=Q.S;fe!==null&&fe(C,H),sd(a,i,H)}catch(Oe){bo(a,i,Oe)}finally{b!==null&&C.types!==null&&(b.types=C.types),Q.T=b}}else try{b=l(v,d),sd(a,i,b)}catch(Oe){bo(a,i,Oe)}}function sd(a,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){dh(a,i,d)},function(d){return bo(a,i,d)}):dh(a,i,l)}function dh(a,i,l){i.status="fulfilled",i.value=l,su(i),a.state=l,i=a.pending,i!==null&&(l=i.next,l===i?a.pending=null:(l=l.next,i.next=l,uh(a,l)))}function bo(a,i,l){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=l,su(i),i=i.next;while(i!==d)}a.action=null}function su(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function cc(a,i){return i}function Pi(a,i){if(er){var l=Br.formState;if(l!==null){e:{var d=_t;if(er){if(Dr){t:{for(var v=Dr,b=Yr;v.nodeType!==8;){if(!b){v=null;break t}if(v=zi(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Dr=zi(v.nextSibling),d=v.data==="F!";break e}}Ms(d)}d=!1}d&&(i=l[0])}}return l=ka(),l.memoizedState=l.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:i},l.queue=d,l=hg.bind(null,_t,d),d.dispatch=l,d=$s(!1),b=a0.bind(null,_t,!1,d.queue),d=ka(),v={state:i,dispatch:null,action:a,pending:null},d.queue=v,l=ch.bind(null,_t,v,b,l),v.dispatch=l,d.memoizedState=a,[i,l,!1]}function fs(a){var i=Jr();return ms(i,St,a)}function ms(a,i,l){if(i=ll(a,i,cc)[0],a=au(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=Fs(i)}catch(C){throw C===xe?re:C}else d=i;i=Jr();var v=i.queue,b=v.dispatch;return l!==i.memoizedState&&(_t.flags|=2048,xo(9,{destroy:void 0},ou.bind(null,v,l),null)),[d,b,a]}function ou(a,i){a.action=i}function lu(a){var i=Jr(),l=St;if(l!==null)return ms(i,l,a);Jr(),i=i.memoizedState,l=Jr();var d=l.queue.dispatch;return l.memoizedState=a,[i,d,!1]}function xo(a,i,l,d){return a={tag:a,create:l,deps:d,inst:i,next:null},i=_t.updateQueue,i===null&&(i=lc(),_t.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=a.next=a:(d=l.next,l.next=a,a.next=d,i.lastEffect=a),a}function hh(){return Jr().memoizedState}function cl(a,i,l,d){var v=ka();_t.flags|=a,v.memoizedState=xo(1|i,{destroy:void 0},l,d===void 0?null:d)}function ul(a,i,l,d){var v=Jr();d=d===void 0?null:d;var b=v.memoizedState.inst;St!==null&&d!==null&&Qu(d,St.memoizedState.deps)?v.memoizedState=xo(i,b,l,d):(_t.flags|=a,v.memoizedState=xo(1|i,b,l,d))}function Zp(a,i){cl(8390656,8,a,i)}function Zf(a,i){ul(2048,8,a,i)}function Mx(a){_t.flags|=4;var i=_t.updateQueue;if(i===null)i=lc(),_t.updateQueue=i,i.events=[a];else{var l=i.events;l===null?i.events=[a]:l.push(a)}}function Qp(a){var i=Jr().memoizedState;return Mx({ref:i,nextImpl:a}),function(){if((br&2)!==0)throw Error(n(440));return i.impl.apply(void 0,arguments)}}function eg(a,i){return ul(4,2,a,i)}function tg(a,i){return ul(4,4,a,i)}function rg(a,i){if(typeof i=="function"){a=a();var l=i(a);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function ag(a,i,l){l=l!=null?l.concat([a]):null,ul(4,4,rg.bind(null,i,a),l)}function Qf(){}function ng(a,i){var l=Jr();i=i===void 0?null:i;var d=l.memoizedState;return i!==null&&Qu(i,d[1])?d[0]:(l.memoizedState=[a,i],a)}function ig(a,i){var l=Jr();i=i===void 0?null:i;var d=l.memoizedState;if(i!==null&&Qu(i,d[1]))return d[0];if(d=a(),sn){Dt(!0);try{a()}finally{Dt(!1)}}return l.memoizedState=[d,i],d}function e0(a,i,l){return l===void 0||(Kr&1073741824)!==0&&(ar&261930)===0?a.memoizedState=i:(a.memoizedState=l,a=s1(),_t.lanes|=a,fl|=a,l)}function sg(a,i,l,d){return Ma(l,i)?l:Zt.current!==null?(a=e0(a,l,d),Ma(a,i)||(Ta=!0),a):(Kr&42)===0||(Kr&1073741824)!==0&&(ar&261930)===0?(Ta=!0,a.memoizedState=l):(a=s1(),_t.lanes|=a,fl|=a,i)}function og(a,i,l,d,v){var b=ue.p;ue.p=b!==0&&8>b?b:8;var C=Q.T,H={};Q.T=H,a0(a,!1,i,l);try{var fe=v(),Oe=Q.S;if(Oe!==null&&Oe(H,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ie=B(fe,d);od(a,i,Ie,fi(a))}else od(a,i,d,fi(a))}catch(Ke){od(a,i,{then:function(){},status:"rejected",reason:Ke},fi())}finally{ue.p=b,C!==null&&H.types!==null&&(C.types=H.types),Q.T=C}}function Bx(){}function t0(a,i,l,d){if(a.tag!==5)throw Error(n(476));var v=lg(a).queue;og(a,v,i,he,l===null?Bx:function(){return cg(a),l(d)})}function lg(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:he},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:l},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function cg(a){var i=lg(a);i.next===null&&(i=a.alternate.memoizedState),od(a,i.next.queue,{},fi())}function r0(){return za(Sd)}function ug(){return Jr().memoizedState}function dg(){return Jr().memoizedState}function Ux(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var l=fi();a=Tt(l);var d=Yt(i,a,l);d!==null&&(Yn(d,i,l),vr(d,i,l)),i={cache:sl()},a.payload=i;return}i=i.return}}function Px(a,i,l){var d=fi();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fh(a)?fg(i,l):(l=$c(a,i,l,d),l!==null&&(Yn(l,a,d),mg(l,i,d)))}function hg(a,i,l){var d=fi();od(a,i,l,d)}function od(a,i,l,d){var v={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(fh(a))fg(i,v);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var C=i.lastRenderedState,H=b(C,l);if(v.hasEagerState=!0,v.eagerState=H,Ma(H,C))return tc(a,i,v,0),Br===null&&ec(),!1}catch{}finally{}if(l=$c(a,i,v,d),l!==null)return Yn(l,a,d),mg(l,i,d),!0}return!1}function a0(a,i,l,d){if(d={lane:2,revertLane:M0(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},fh(a)){if(i)throw Error(n(479))}else i=$c(a,l,d,2),i!==null&&Yn(i,a,2)}function fh(a){var i=a.alternate;return a===_t||i!==null&&i===_t}function fg(a,i){$n=fn=!0;var l=a.pending;l===null?i.next=i:(i.next=l.next,l.next=i),a.pending=i}function mg(a,i,l){if((l&4194048)!==0){var d=i.lanes;d&=a.pendingLanes,l|=d,i.lanes=l,bn(a,l)}}var ld={readContext:za,use:ol,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useLayoutEffect:Lr,useInsertionEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useSyncExternalStore:Lr,useId:Lr,useHostTransitionStatus:Lr,useFormState:Lr,useActionState:Lr,useOptimistic:Lr,useMemoCache:Lr,useCacheRefresh:Lr};ld.useEffectEvent=Lr;var pg={readContext:za,use:ol,useCallback:function(a,i){return ka().memoizedState=[a,i===void 0?null:i],a},useContext:za,useEffect:Zp,useImperativeHandle:function(a,i,l){l=l!=null?l.concat([a]):null,cl(4194308,4,rg.bind(null,i,a),l)},useLayoutEffect:function(a,i){return cl(4194308,4,a,i)},useInsertionEffect:function(a,i){cl(4,2,a,i)},useMemo:function(a,i){var l=ka();i=i===void 0?null:i;var d=a();if(sn){Dt(!0);try{a()}finally{Dt(!1)}}return l.memoizedState=[d,i],d},useReducer:function(a,i,l){var d=ka();if(l!==void 0){var v=l(i);if(sn){Dt(!0);try{l(i)}finally{Dt(!1)}}}else v=i;return d.memoizedState=d.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},d.queue=a,a=a.dispatch=Px.bind(null,_t,a),[d.memoizedState,a]},useRef:function(a){var i=ka();return a={current:a},i.memoizedState=a},useState:function(a){a=$s(a);var i=a.queue,l=hg.bind(null,_t,i);return i.dispatch=l,[a.memoizedState,l]},useDebugValue:Qf,useDeferredValue:function(a,i){var l=ka();return e0(l,a,i)},useTransition:function(){var a=$s(!1);return a=og.bind(null,_t,a.queue,!0,!1),ka().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,l){var d=_t,v=ka();if(er){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),Br===null)throw Error(n(349));(ar&127)!==0||hs(d,i,l)}v.memoizedState=l;var b={value:l,getSnapshot:i};return v.queue=b,Zp(nd.bind(null,d,b,a),[a]),d.flags|=2048,xo(9,{destroy:void 0},ad.bind(null,d,b,l,i),null),l},useId:function(){var a=ka(),i=Br.identifierPrefix;if(er){var l=In,d=qn;l=(d&~(1<<32-Xt(d)-1)).toString(32)+l,i="_"+i+"R_"+l,l=ma++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=eu++,i="_"+i+"r_"+l.toString(32)+"_";return a.memoizedState=i},useHostTransitionStatus:r0,useFormState:Pi,useActionState:Pi,useOptimistic:function(a){var i=ka();i.memoizedState=i.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=a0.bind(null,_t,!0,l),l.dispatch=i,[a,i]},useMemoCache:yo,useCacheRefresh:function(){return ka().memoizedState=Ux.bind(null,_t)},useEffectEvent:function(a){var i=ka(),l={impl:a};return i.memoizedState=l,function(){if((br&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},n0={readContext:za,use:ol,useCallback:ng,useContext:za,useEffect:Zf,useImperativeHandle:ag,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ig,useReducer:au,useRef:hh,useState:function(){return au(Ui)},useDebugValue:Qf,useDeferredValue:function(a,i){var l=Jr();return sg(l,St.memoizedState,a,i)},useTransition:function(){var a=au(Ui)[0],i=Jr().memoizedState;return[typeof a=="boolean"?a:Fs(a),i]},useSyncExternalStore:iu,useId:ug,useHostTransitionStatus:r0,useFormState:fs,useActionState:fs,useOptimistic:function(a,i){var l=Jr();return lh(l,St,a,i)},useMemoCache:yo,useCacheRefresh:dg};n0.useEffectEvent=Qp;var gg={readContext:za,use:ol,useCallback:ng,useContext:za,useEffect:Zf,useImperativeHandle:ag,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ig,useReducer:nu,useRef:hh,useState:function(){return nu(Ui)},useDebugValue:Qf,useDeferredValue:function(a,i){var l=Jr();return St===null?e0(l,a,i):sg(l,St.memoizedState,a,i)},useTransition:function(){var a=nu(Ui)[0],i=Jr().memoizedState;return[typeof a=="boolean"?a:Fs(a),i]},useSyncExternalStore:iu,useId:ug,useHostTransitionStatus:r0,useFormState:lu,useActionState:lu,useOptimistic:function(a,i){var l=Jr();return St!==null?lh(l,St,a,i):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:yo,useCacheRefresh:dg};gg.useEffectEvent=Qp;function i0(a,i,l,d){i=a.memoizedState,l=l(d,i),l=l==null?i:w({},i,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var s0={enqueueSetState:function(a,i,l){a=a._reactInternals;var d=fi(),v=Tt(d);v.payload=i,l!=null&&(v.callback=l),i=Yt(a,v,d),i!==null&&(Yn(i,a,d),vr(i,a,d))},enqueueReplaceState:function(a,i,l){a=a._reactInternals;var d=fi(),v=Tt(d);v.tag=1,v.payload=i,l!=null&&(v.callback=l),i=Yt(a,v,d),i!==null&&(Yn(i,a,d),vr(i,a,d))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var l=fi(),d=Tt(l);d.tag=2,i!=null&&(d.callback=i),i=Yt(a,d,l),i!==null&&(Yn(i,a,l),vr(i,a,l))}};function vg(a,i,l,d,v,b,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,b,C):i.prototype&&i.prototype.isPureReactComponent?!is(l,d)||!is(v,b):!0}function yg(a,i,l,d){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==a&&s0.enqueueReplaceState(i,i.state,null)}function uc(a,i){var l=i;if("ref"in i){l={};for(var d in i)d!=="ref"&&(l[d]=i[d])}if(a=a.defaultProps){l===i&&(l=w({},l));for(var v in a)l[v]===void 0&&(l[v]=a[v])}return l}function bg(a){Ql(a)}function xg(a){console.error(a)}function wg(a){Ql(a)}function mh(a,i){try{var l=a.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function _g(a,i,l){try{var d=a.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function o0(a,i,l){return l=Tt(l),l.tag=3,l.payload={element:null},l.callback=function(){mh(a,i)},l}function Ng(a){return a=Tt(a),a.tag=3,a}function Sg(a,i,l,d){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var b=d.value;a.payload=function(){return v(b)},a.callback=function(){_g(i,l,d)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){_g(i,l,d),typeof v!="function"&&(ml===null?ml=new Set([this]):ml.add(this));var H=d.stack;this.componentDidCatch(d.value,{componentStack:H!==null?H:""})})}function zx(a,i,l,d,v){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=l.alternate,i!==null&&Ps(i,l,v,!0),l=Vr.current,l!==null){switch(l.tag){case 31:case 13:return ur===null?Ah():l.alternate===null&&pa===0&&(pa=3),l.flags&=-257,l.flags|=65536,l.lanes=v,d===Ne?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([d]):i.add(d),R0(a,d,v)),!1;case 22:return l.flags|=65536,d===Ne?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([d]):l.add(d)),R0(a,d,v)),!1}throw Error(n(435,l.tag))}return R0(a,d,v),Ah(),!1}if(er)return i=Vr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=v,d!==ui&&(a=Error(n(422),{cause:d}),nl(Un(a,l)))):(d!==ui&&(i=Error(n(423),{cause:d}),nl(Un(i,l))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,d=Un(d,l),v=o0(a.stateNode,d,v),xa(a,v),pa!==4&&(pa=2)),!1;var b=Error(n(520),{cause:d});if(b=Un(b,l),gd===null?gd=[b]:gd.push(b),pa!==4&&(pa=2),i===null)return!0;d=Un(d,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,a=v&-v,l.lanes|=a,a=o0(l.stateNode,d,a),xa(l,a),!1;case 1:if(i=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ml===null||!ml.has(b))))return l.flags|=65536,v&=-v,l.lanes|=v,v=Ng(v),Sg(v,a,l,d),xa(l,v),!1}l=l.return}while(l!==null);return!1}var l0=Error(n(461)),Ta=!1;function on(a,i,l,d){i.child=a===null?Ht(i,null,l,d):Mr(i,a.child,l,d)}function jg(a,i,l,d,v){l=l.render;var b=i.ref;if("ref"in d){var C={};for(var H in d)H!=="ref"&&(C[H]=d[H])}else C=d;return zs(i),d=ed(a,i,l,C,b,v),H=td(),a!==null&&!Ta?(rd(a,i,v),wo(a,i,v)):(er&&H&&Ju(i),i.flags|=1,on(a,i,d,v),i.child)}function Ag(a,i,l,d,v){if(a===null){var b=l.type;return typeof b=="function"&&!Vc(b)&&b.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=b,Eg(a,i,b,d,v)):(a=tl(l.type,null,d,i,i.mode,v),a.ref=i.ref,a.return=i,i.child=a)}if(b=a.child,!g0(a,v)){var C=b.memoizedProps;if(l=l.compare,l=l!==null?l:is,l(C,d)&&a.ref===i.ref)return wo(a,i,v)}return i.flags|=1,a=Bn(b,d),a.ref=i.ref,a.return=i,i.child=a}function Eg(a,i,l,d,v){if(a!==null){var b=a.memoizedProps;if(is(b,d)&&a.ref===i.ref)if(Ta=!1,i.pendingProps=d=b,g0(a,v))(a.flags&131072)!==0&&(Ta=!0);else return i.lanes=a.lanes,wo(a,i,v)}return c0(a,i,l,d,v)}function Cg(a,i,l,d){var v=d.children,b=a!==null?a.memoizedState:null;if(a===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((i.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,a!==null){for(d=i.child=a.child,v=0;d!==null;)v=v|d.lanes|d.childLanes,d=d.sibling;d=v&~b}else d=0,i.child=null;return kg(a,i,b,l,d)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&J(i,b!==null?b.cachePool:null),b!==null?Hr(i,b):mr(),ha(i);else return d=i.lanes=536870912,kg(a,i,b!==null?b.baseLanes|l:l,l,d)}else b!==null?(J(i,b.cachePool),Hr(i,b),fa(),i.memoizedState=null):(a!==null&&J(i,null),mr(),fa());return on(a,i,v,l),i.child}function cd(a,i){return a!==null&&a.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function kg(a,i,l,d,v){var b=Y();return b=b===null?null:{parent:na._currentValue,pool:b},i.memoizedState={baseLanes:l,cachePool:b},a!==null&&J(i,null),mr(),ha(i),a!==null&&Ps(a,i,d,!0),i.childLanes=v,null}function ph(a,i){return i=vh({mode:i.mode,children:i.children},a.mode),i.ref=a.ref,a.child=i,i.return=a,i}function Tg(a,i,l){return Mr(i,a.child,null,l),a=ph(i,i.pendingProps),a.flags|=2,Nr(i),i.memoizedState=null,a}function qx(a,i,l){var d=i.pendingProps,v=(i.flags&128)!==0;if(i.flags&=-129,a===null){if(er){if(d.mode==="hidden")return a=ph(i,d),i.lanes=536870912,cd(null,a);if(yr(i),(a=Dr)?(a=F1(a,Yr),a=a!==null&&a.data==="&"?a:null,a!==null&&(i.memoizedState={dehydrated:a,treeContext:Ds!==null?{id:qn,overflow:In}:null,retryLane:536870912,hydrationErrors:null},l=Gc(a),l.return=i,i.child=l,Ua=i,Dr=null)):a=null,a===null)throw Ms(i);return i.lanes=536870912,null}return ph(i,d)}var b=a.memoizedState;if(b!==null){var C=b.dehydrated;if(yr(i),v)if(i.flags&256)i.flags&=-257,i=Tg(a,i,l);else if(i.memoizedState!==null)i.child=a.child,i.flags|=128,i=null;else throw Error(n(558));else if(Ta||Ps(a,i,l,!1),v=(l&a.childLanes)!==0,Ta||v){if(d=Br,d!==null&&(C=xn(d,l),C!==0&&C!==b.retryLane))throw b.retryLane=C,cs(a,C),Yn(d,a,C),l0;Ah(),i=Tg(a,i,l)}else a=b.treeContext,Dr=zi(C.nextSibling),Ua=i,er=!0,nn=null,Yr=!1,a!==null&&ih(i,a),i=ph(i,d),i.flags|=4096;return i}return a=Bn(a.child,{mode:d.mode,children:d.children}),a.ref=i.ref,i.child=a,a.return=i,a}function gh(a,i){var l=i.ref;if(l===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(a===null||a.ref!==l)&&(i.flags|=4194816)}}function c0(a,i,l,d,v){return zs(i),l=ed(a,i,l,d,void 0,v),d=td(),a!==null&&!Ta?(rd(a,i,v),wo(a,i,v)):(er&&d&&Ju(i),i.flags|=1,on(a,i,l,v),i.child)}function Lg(a,i,l,d,v,b){return zs(i),i.updateQueue=null,l=ds(i,d,l,v),tu(a),d=td(),a!==null&&!Ta?(rd(a,i,b),wo(a,i,b)):(er&&d&&Ju(i),i.flags|=1,on(a,i,l,b),i.child)}function Rg(a,i,l,d,v){if(zs(i),i.stateNode===null){var b=Ba,C=l.contextType;typeof C=="object"&&C!==null&&(b=za(C)),b=new l(d,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=s0,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=d,b.state=i.memoizedState,b.refs={},rt(i),C=l.contextType,b.context=typeof C=="object"&&C!==null?za(C):Ba,b.state=i.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(i0(i,l,C,d),b.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&s0.enqueueReplaceState(b,b.state,null),ua(i,d,b,v),Tr(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(a===null){b=i.stateNode;var H=i.memoizedProps,fe=uc(l,H);b.props=fe;var Oe=b.context,Ie=l.contextType;C=Ba,typeof Ie=="object"&&Ie!==null&&(C=za(Ie));var Ke=l.getDerivedStateFromProps;Ie=typeof Ke=="function"||typeof b.getSnapshotBeforeUpdate=="function",H=i.pendingProps!==H,Ie||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(H||Oe!==C)&&yg(i,b,d,C),ot=!1;var De=i.memoizedState;b.state=De,ua(i,d,b,v),Tr(),Oe=i.memoizedState,H||De!==Oe||ot?(typeof Ke=="function"&&(i0(i,l,Ke,d),Oe=i.memoizedState),(fe=ot||vg(i,l,fe,d,De,Oe,C))?(Ie||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=Oe),b.props=d,b.state=Oe,b.context=C,d=fe):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{b=i.stateNode,$r(a,i),C=i.memoizedProps,Ie=uc(l,C),b.props=Ie,Ke=i.pendingProps,De=b.context,Oe=l.contextType,fe=Ba,typeof Oe=="object"&&Oe!==null&&(fe=za(Oe)),H=l.getDerivedStateFromProps,(Oe=typeof H=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==Ke||De!==fe)&&yg(i,b,d,fe),ot=!1,De=i.memoizedState,b.state=De,ua(i,d,b,v),Tr();var Ue=i.memoizedState;C!==Ke||De!==Ue||ot||a!==null&&a.dependencies!==null&&Xc(a.dependencies)?(typeof H=="function"&&(i0(i,l,H,d),Ue=i.memoizedState),(Ie=ot||vg(i,l,Ie,d,De,Ue,fe)||a!==null&&a.dependencies!==null&&Xc(a.dependencies))?(Oe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,Ue,fe),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,Ue,fe)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===a.memoizedProps&&De===a.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&De===a.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Ue),b.props=d,b.state=Ue,b.context=fe,d=Ie):(typeof b.componentDidUpdate!="function"||C===a.memoizedProps&&De===a.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&De===a.memoizedState||(i.flags|=1024),d=!1)}return b=d,gh(a,i),d=(i.flags&128)!==0,b||d?(b=i.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,a!==null&&d?(i.child=Mr(i,a.child,null,v),i.child=Mr(i,null,l,v)):on(a,i,l,v),i.memoizedState=b.state,a=i.child):a=wo(a,i,v),a}function Og(a,i,l,d){return go(),i.flags|=256,on(a,i,l,d),i.child}var u0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function d0(a){return{baseLanes:a,cachePool:ae()}}function h0(a,i,l){return a=a!==null?a.childLanes&~l:0,i&&(a|=hi),a}function Dg(a,i,l){var d=i.pendingProps,v=!1,b=(i.flags&128)!==0,C;if((C=b)||(C=a!==null&&a.memoizedState===null?!1:(lr.current&2)!==0),C&&(v=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,a===null){if(er){if(v?ia(i):fa(),(a=Dr)?(a=F1(a,Yr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(i.memoizedState={dehydrated:a,treeContext:Ds!==null?{id:qn,overflow:In}:null,retryLane:536870912,hydrationErrors:null},l=Gc(a),l.return=i,i.child=l,Ua=i,Dr=null)):a=null,a===null)throw Ms(i);return Y0(a)?i.lanes=32:i.lanes=536870912,null}var H=d.children;return d=d.fallback,v?(fa(),v=i.mode,H=vh({mode:"hidden",children:H},v),d=Os(d,v,l,null),H.return=i,d.return=i,H.sibling=d,i.child=H,d=i.child,d.memoizedState=d0(l),d.childLanes=h0(a,C,l),i.memoizedState=u0,cd(null,d)):(ia(i),f0(i,H))}var fe=a.memoizedState;if(fe!==null&&(H=fe.dehydrated,H!==null)){if(b)i.flags&256?(ia(i),i.flags&=-257,i=m0(a,i,l)):i.memoizedState!==null?(fa(),i.child=a.child,i.flags|=128,i=null):(fa(),H=d.fallback,v=i.mode,d=vh({mode:"visible",children:d.children},v),H=Os(H,v,l,null),H.flags|=2,d.return=i,H.return=i,d.sibling=H,i.child=d,Mr(i,a.child,null,l),d=i.child,d.memoizedState=d0(l),d.childLanes=h0(a,C,l),i.memoizedState=u0,i=cd(null,d));else if(ia(i),Y0(H)){if(C=H.nextSibling&&H.nextSibling.dataset,C)var Oe=C.dgst;C=Oe,d=Error(n(419)),d.stack="",d.digest=C,nl({value:d,source:null,stack:null}),i=m0(a,i,l)}else if(Ta||Ps(a,i,l,!1),C=(l&a.childLanes)!==0,Ta||C){if(C=Br,C!==null&&(d=xn(C,l),d!==0&&d!==fe.retryLane))throw fe.retryLane=d,cs(a,d),Yn(C,a,d),l0;W0(H)||Ah(),i=m0(a,i,l)}else W0(H)?(i.flags|=192,i.child=a.child,i=null):(a=fe.treeContext,Dr=zi(H.nextSibling),Ua=i,er=!0,nn=null,Yr=!1,a!==null&&ih(i,a),i=f0(i,d.children),i.flags|=4096);return i}return v?(fa(),H=d.fallback,v=i.mode,fe=a.child,Oe=fe.sibling,d=Bn(fe,{mode:"hidden",children:d.children}),d.subtreeFlags=fe.subtreeFlags&65011712,Oe!==null?H=Bn(Oe,H):(H=Os(H,v,l,null),H.flags|=2),H.return=i,d.return=i,d.sibling=H,i.child=d,cd(null,d),d=i.child,H=a.child.memoizedState,H===null?H=d0(l):(v=H.cachePool,v!==null?(fe=na._currentValue,v=v.parent!==fe?{parent:fe,pool:fe}:v):v=ae(),H={baseLanes:H.baseLanes|l,cachePool:v}),d.memoizedState=H,d.childLanes=h0(a,C,l),i.memoizedState=u0,cd(a.child,d)):(ia(i),l=a.child,a=l.sibling,l=Bn(l,{mode:"visible",children:d.children}),l.return=i,l.sibling=null,a!==null&&(C=i.deletions,C===null?(i.deletions=[a],i.flags|=16):C.push(a)),i.child=l,i.memoizedState=null,l)}function f0(a,i){return i=vh({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function vh(a,i){return a=Ya(22,a,null,i),a.lanes=0,a}function m0(a,i,l){return Mr(i,a.child,null,l),a=f0(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function Mg(a,i,l){a.lanes|=i;var d=a.alternate;d!==null&&(d.lanes|=i),il(a.return,i,l)}function p0(a,i,l,d,v,b){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:v,treeForkCount:b}:(C.isBackwards=i,C.rendering=null,C.renderingStartTime=0,C.last=d,C.tail=l,C.tailMode=v,C.treeForkCount=b)}function Bg(a,i,l){var d=i.pendingProps,v=d.revealOrder,b=d.tail;d=d.children;var C=lr.current,H=(C&2)!==0;if(H?(C=C&1|2,i.flags|=128):C&=1,A(lr,C),on(a,i,d,l),d=er?ic:0,!H&&a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Mg(a,l,i);else if(a.tag===19)Mg(a,l,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(l=i.child,v=null;l!==null;)a=l.alternate,a!==null&&Ja(a)===null&&(v=l),l=l.sibling;l=v,l===null?(v=i.child,i.child=null):(v=l.sibling,l.sibling=null),p0(i,!1,v,l,b,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=i.child,i.child=null;v!==null;){if(a=v.alternate,a!==null&&Ja(a)===null){i.child=v;break}a=v.sibling,v.sibling=l,l=v,v=a}p0(i,!0,l,null,b,d);break;case"together":p0(i,!1,null,null,void 0,d);break;default:i.memoizedState=null}return i.child}function wo(a,i,l){if(a!==null&&(i.dependencies=a.dependencies),fl|=i.lanes,(l&i.childLanes)===0)if(a!==null){if(Ps(a,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(n(153));if(i.child!==null){for(a=i.child,l=Bn(a,a.pendingProps),i.child=l,l.return=i;a.sibling!==null;)a=a.sibling,l=l.sibling=Bn(a,a.pendingProps),l.return=i;l.sibling=null}return i.child}function g0(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&Xc(a)))}function Ix(a,i,l){switch(i.tag){case 3:ge(i,i.stateNode.containerInfo),Us(i,na,a.memoizedState.cache),go();break;case 27:case 5:Te(i);break;case 4:ge(i,i.stateNode.containerInfo);break;case 10:Us(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,yr(i),null;break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(ia(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Dg(a,i,l):(ia(i),a=wo(a,i,l),a!==null?a.sibling:null);ia(i);break;case 19:var v=(a.flags&128)!==0;if(d=(l&i.childLanes)!==0,d||(Ps(a,i,l,!1),d=(l&i.childLanes)!==0),v){if(d)return Bg(a,i,l);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),A(lr,lr.current),d)break;return null;case 22:return i.lanes=0,Cg(a,i,l,i.pendingProps);case 24:Us(i,na,a.memoizedState.cache)}return wo(a,i,l)}function Ug(a,i,l){if(a!==null)if(a.memoizedProps!==i.pendingProps)Ta=!0;else{if(!g0(a,l)&&(i.flags&128)===0)return Ta=!1,Ix(a,i,l);Ta=(a.flags&131072)!==0}else Ta=!1,er&&(i.flags&1048576)!==0&&nh(i,ic,i.index);switch(i.lanes=0,i.tag){case 16:e:{var d=i.pendingProps;if(a=ke(i.elementType),i.type=a,typeof a=="function")Vc(a)?(d=uc(a,d),i.tag=1,i=Rg(null,i,a,d,l)):(i.tag=0,i=c0(null,i,a,d,l));else{if(a!=null){var v=a.$$typeof;if(v===W){i.tag=11,i=jg(null,i,a,d,l);break e}else if(v===K){i.tag=14,i=Ag(null,i,a,d,l);break e}}throw i=le(a)||a,Error(n(306,i,""))}}return i;case 0:return c0(a,i,i.type,i.pendingProps,l);case 1:return d=i.type,v=uc(d,i.pendingProps),Rg(a,i,d,v,l);case 3:e:{if(ge(i,i.stateNode.containerInfo),a===null)throw Error(n(387));d=i.pendingProps;var b=i.memoizedState;v=b.element,$r(a,i),ua(i,d,null,l);var C=i.memoizedState;if(d=C.cache,Us(i,na,d),d!==b.cache&&vo(i,[na],l,!0),Tr(),d=C.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){i=Og(a,i,d,l);break e}else if(d!==v){v=Un(Error(n(424)),i),nl(v),i=Og(a,i,d,l);break e}else{switch(a=i.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Dr=zi(a.firstChild),Ua=i,er=!0,nn=null,Yr=!0,l=Ht(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(go(),d===v){i=wo(a,i,l);break e}on(a,i,d,l)}i=i.child}return i;case 26:return gh(a,i),a===null?(l=Y1(i.type,null,i.pendingProps,null))?i.memoizedState=l:er||(l=i.type,a=i.pendingProps,d=Oh(te.current).createElement(l),d[_r]=i,d[Ir]=a,ln(d,l,a),ea(d),i.stateNode=d):i.memoizedState=Y1(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return Te(i),a===null&&er&&(d=i.stateNode=V1(i.type,i.pendingProps,te.current),Ua=i,Yr=!0,v=Dr,yl(i.type)?(K0=v,Dr=zi(d.firstChild)):Dr=v),on(a,i,i.pendingProps.children,l),gh(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&er&&((v=d=Dr)&&(d=v5(d,i.type,i.pendingProps,Yr),d!==null?(i.stateNode=d,Ua=i,Dr=zi(d.firstChild),Yr=!1,v=!0):v=!1),v||Ms(i)),Te(i),v=i.type,b=i.pendingProps,C=a!==null?a.memoizedProps:null,d=b.children,H0(v,b)?d=null:C!==null&&H0(v,C)&&(i.flags|=32),i.memoizedState!==null&&(v=ed(a,i,Xf,null,null,l),Sd._currentValue=v),gh(a,i),on(a,i,d,l),i.child;case 6:return a===null&&er&&((a=l=Dr)&&(l=y5(l,i.pendingProps,Yr),l!==null?(i.stateNode=l,Ua=i,Dr=null,a=!0):a=!1),a||Ms(i)),null;case 13:return Dg(a,i,l);case 4:return ge(i,i.stateNode.containerInfo),d=i.pendingProps,a===null?i.child=Mr(i,null,d,l):on(a,i,d,l),i.child;case 11:return jg(a,i,i.type,i.pendingProps,l);case 7:return on(a,i,i.pendingProps,l),i.child;case 8:return on(a,i,i.pendingProps.children,l),i.child;case 12:return on(a,i,i.pendingProps.children,l),i.child;case 10:return d=i.pendingProps,Us(i,i.type,d.value),on(a,i,d.children,l),i.child;case 9:return v=i.type._context,d=i.pendingProps.children,zs(i),v=za(v),d=d(v),i.flags|=1,on(a,i,d,l),i.child;case 14:return Ag(a,i,i.type,i.pendingProps,l);case 15:return Eg(a,i,i.type,i.pendingProps,l);case 19:return Bg(a,i,l);case 31:return qx(a,i,l);case 22:return Cg(a,i,l,i.pendingProps);case 24:return zs(i),d=za(na),a===null?(v=Y(),v===null&&(v=Br,b=sl(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=l),v=b),i.memoizedState={parent:d,cache:v},rt(i),Us(i,na,v)):((a.lanes&l)!==0&&($r(a,i),ua(i,null,null,l),Tr()),v=a.memoizedState,b=i.memoizedState,v.parent!==d?(v={parent:d,cache:d},i.memoizedState=v,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=v),Us(i,na,d)):(d=b.cache,Us(i,na,d),d!==v.cache&&vo(i,[na],l,!0))),on(a,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function _o(a){a.flags|=4}function v0(a,i,l,d,v){if((i=(a.mode&32)!==0)&&(i=!1),i){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(u1())a.flags|=8192;else throw Pe=Ne,Le}else a.flags&=-16777217}function Pg(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Q1(i))if(u1())a.flags|=8192;else throw Pe=Ne,Le}function yh(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?_i():536870912,a.lanes|=i,hu|=i)}function ud(a,i){if(!er)switch(a.tailMode){case"hidden":i=a.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function Gr(a){var i=a.alternate!==null&&a.alternate.child===a.child,l=0,d=0;if(i)for(var v=a.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=d,a.childLanes=l,i}function Fx(a,i,l){var d=i.pendingProps;switch(Kc(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(i),null;case 1:return Gr(i),null;case 3:return l=i.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Fn(na),be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Pa(i)?_o(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zu())),Gr(i),null;case 26:var v=i.type,b=i.memoizedState;return a===null?(_o(i),b!==null?(Gr(i),Pg(i,b)):(Gr(i),v0(i,v,null,d,l))):b?b!==a.memoizedState?(_o(i),Gr(i),Pg(i,b)):(Gr(i),i.flags&=-16777217):(a=a.memoizedProps,a!==d&&_o(i),Gr(i),v0(i,v,a,d,l)),null;case 27:if($e(i),l=te.current,v=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==d&&_o(i);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Gr(i),null}a=L.current,Pa(i)?Xu(i):(a=V1(v,d,l),i.stateNode=a,_o(i))}return Gr(i),null;case 5:if($e(i),v=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==d&&_o(i);else{if(!d){if(i.stateNode===null)throw Error(n(166));return Gr(i),null}if(b=L.current,Pa(i))Xu(i);else{var C=Oh(te.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?C.createElement("select",{is:d.is}):C.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?C.createElement(v,{is:d.is}):C.createElement(v)}}b[_r]=i,b[Ir]=d;e:for(C=i.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===i)break e;for(;C.sibling===null;){if(C.return===null||C.return===i)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}i.stateNode=b;e:switch(ln(b,v,d),v){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&_o(i)}}return Gr(i),v0(i,i.type,a===null?null:a.memoizedProps,i.pendingProps,l),null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==d&&_o(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(n(166));if(a=te.current,Pa(i)){if(a=i.stateNode,l=i.memoizedProps,d=null,v=Ua,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}a[_r]=i,a=!!(a.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||D1(a.nodeValue,l)),a||Ms(i,!0)}else a=Oh(a).createTextNode(d),a[_r]=i,i.stateNode=a}return Gr(i),null;case 31:if(l=i.memoizedState,a===null||a.memoizedState!==null){if(d=Pa(i),l!==null){if(a===null){if(!d)throw Error(n(318));if(a=i.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[_r]=i}else go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Gr(i),a=!1}else l=Zu(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=l),a=!0;if(!a)return i.flags&256?(Nr(i),i):(Nr(i),null);if((i.flags&128)!==0)throw Error(n(558))}return Gr(i),null;case 13:if(d=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Pa(i),d!==null&&d.dehydrated!==null){if(a===null){if(!v)throw Error(n(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[_r]=i}else go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Gr(i),v=!1}else v=Zu(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return i.flags&256?(Nr(i),i):(Nr(i),null)}return Nr(i),(i.flags&128)!==0?(i.lanes=l,i):(l=d!==null,a=a!==null&&a.memoizedState!==null,l&&(d=i.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==v&&(d.flags|=2048)),l!==a&&l&&(i.child.flags|=8192),yh(i,i.updateQueue),Gr(i),null);case 4:return be(),a===null&&z0(i.stateNode.containerInfo),Gr(i),null;case 10:return Fn(i.type),Gr(i),null;case 19:if(j(lr),d=i.memoizedState,d===null)return Gr(i),null;if(v=(i.flags&128)!==0,b=d.rendering,b===null)if(v)ud(d,!1);else{if(pa!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(b=Ja(a),b!==null){for(i.flags|=128,ud(d,!1),a=b.updateQueue,i.updateQueue=a,yh(i,a),i.subtreeFlags=0,a=l,l=i.child;l!==null;)ac(l,a),l=l.sibling;return A(lr,lr.current&1|2),er&&kn(i,d.treeForkCount),i.child}a=a.sibling}d.tail!==null&&at()>Nh&&(i.flags|=128,v=!0,ud(d,!1),i.lanes=4194304)}else{if(!v)if(a=Ja(b),a!==null){if(i.flags|=128,v=!0,a=a.updateQueue,i.updateQueue=a,yh(i,a),ud(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!er)return Gr(i),null}else 2*at()-d.renderingStartTime>Nh&&l!==536870912&&(i.flags|=128,v=!0,ud(d,!1),i.lanes=4194304);d.isBackwards?(b.sibling=i.child,i.child=b):(a=d.last,a!==null?a.sibling=b:i.child=b,d.last=b)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=at(),a.sibling=null,l=lr.current,A(lr,v?l&1|2:l&1),er&&kn(i,d.treeForkCount),a):(Gr(i),null);case 22:case 23:return Nr(i),wa(),d=i.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(l&536870912)!==0&&(i.flags&128)===0&&(Gr(i),i.subtreeFlags&6&&(i.flags|=8192)):Gr(i),l=i.updateQueue,l!==null&&yh(i,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==l&&(i.flags|=2048),a!==null&&j($),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fn(na),Gr(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function $x(a,i){switch(Kc(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return Fn(na),be(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return $e(i),null;case 31:if(i.memoizedState!==null){if(Nr(i),i.alternate===null)throw Error(n(340));go()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 13:if(Nr(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(n(340));go()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return j(lr),null;case 4:return be(),null;case 10:return Fn(i.type),null;case 22:case 23:return Nr(i),wa(),a!==null&&j($),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return Fn(na),null;case 25:return null;default:return null}}function zg(a,i){switch(Kc(i),i.tag){case 3:Fn(na),be();break;case 26:case 27:case 5:$e(i);break;case 4:be();break;case 31:i.memoizedState!==null&&Nr(i);break;case 13:Nr(i);break;case 19:j(lr);break;case 10:Fn(i.type);break;case 22:case 23:Nr(i),wa(),a!==null&&j($);break;case 24:Fn(na)}}function dd(a,i){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var v=d.next;l=v;do{if((l.tag&a)===a){d=void 0;var b=l.create,C=l.inst;d=b(),C.destroy=d}l=l.next}while(l!==v)}}catch(H){jr(i,i.return,H)}}function dl(a,i,l){try{var d=i.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var b=v.next;d=b;do{if((d.tag&a)===a){var C=d.inst,H=C.destroy;if(H!==void 0){C.destroy=void 0,v=i;var fe=l,Oe=H;try{Oe()}catch(Ie){jr(v,fe,Ie)}}}d=d.next}while(d!==b)}}catch(Ie){jr(i,i.return,Ie)}}function qg(a){var i=a.updateQueue;if(i!==null){var l=a.stateNode;try{da(i,l)}catch(d){jr(a,a.return,d)}}}function Ig(a,i,l){l.props=uc(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(d){jr(a,i,d)}}function hd(a,i){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof l=="function"?a.refCleanup=l(d):l.current=d}}catch(v){jr(a,i,v)}}function Hs(a,i){var l=a.ref,d=a.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(v){jr(a,i,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){jr(a,i,v)}else l.current=null}function Fg(a){var i=a.type,l=a.memoizedProps,d=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(v){jr(a,a.return,v)}}function y0(a,i,l){try{var d=a.stateNode;d5(d,a.type,l,i),d[Ir]=i}catch(v){jr(a,a.return,v)}}function $g(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&yl(a.type)||a.tag===4}function b0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||$g(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&yl(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function x0(a,i,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(a),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=ni));else if(d!==4&&(d===27&&yl(a.type)&&(l=a.stateNode,i=null),a=a.child,a!==null))for(x0(a,i,l),a=a.sibling;a!==null;)x0(a,i,l),a=a.sibling}function bh(a,i,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,i?l.insertBefore(a,i):l.appendChild(a);else if(d!==4&&(d===27&&yl(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(bh(a,i,l),a=a.sibling;a!==null;)bh(a,i,l),a=a.sibling}function Hg(a){var i=a.stateNode,l=a.memoizedProps;try{for(var d=a.type,v=i.attributes;v.length;)i.removeAttributeNode(v[0]);ln(i,d,l),i[_r]=a,i[Ir]=l}catch(b){jr(a,a.return,b)}}var No=!1,La=!1,w0=!1,Vg=typeof WeakSet=="function"?WeakSet:Set,Xa=null;function Hx(a,i){if(a=a.containerInfo,F0=qh,a=os(a),Di(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var v=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var C=0,H=-1,fe=-1,Oe=0,Ie=0,Ke=a,De=null;t:for(;;){for(var Ue;Ke!==l||v!==0&&Ke.nodeType!==3||(H=C+v),Ke!==b||d!==0&&Ke.nodeType!==3||(fe=C+d),Ke.nodeType===3&&(C+=Ke.nodeValue.length),(Ue=Ke.firstChild)!==null;)De=Ke,Ke=Ue;for(;;){if(Ke===a)break t;if(De===l&&++Oe===v&&(H=C),De===b&&++Ie===d&&(fe=C),(Ue=Ke.nextSibling)!==null)break;Ke=De,De=Ke.parentNode}Ke=Ue}l=H===-1||fe===-1?null:{start:H,end:fe}}else l=null}l=l||{start:0,end:0}}else l=null;for($0={focusedElem:a,selectionRange:l},qh=!1,Xa=i;Xa!==null;)if(i=Xa,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,Xa=a;else for(;Xa!==null;){switch(i=Xa,b=i.alternate,a=i.flags,i.tag){case 0:if((a&4)!==0&&(a=i.updateQueue,a=a!==null?a.events:null,a!==null))for(l=0;l<a.length;l++)v=a[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,l=i,v=b.memoizedProps,b=b.memoizedState,d=l.stateNode;try{var dt=uc(l.type,v);a=d.getSnapshotBeforeUpdate(dt,b),d.__reactInternalSnapshotBeforeUpdate=a}catch(Ot){jr(l,l.return,Ot)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,l=a.nodeType,l===9)G0(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":G0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=i.sibling,a!==null){a.return=i.return,Xa=a;break}Xa=i.return}}function Gg(a,i,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:jo(a,l),d&4&&dd(5,l);break;case 1:if(jo(a,l),d&4)if(a=l.stateNode,i===null)try{a.componentDidMount()}catch(C){jr(l,l.return,C)}else{var v=uc(l.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(v,i,a.__reactInternalSnapshotBeforeUpdate)}catch(C){jr(l,l.return,C)}}d&64&&qg(l),d&512&&hd(l,l.return);break;case 3:if(jo(a,l),d&64&&(a=l.updateQueue,a!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{da(a,i)}catch(C){jr(l,l.return,C)}}break;case 27:i===null&&d&4&&Hg(l);case 26:case 5:jo(a,l),i===null&&d&4&&Fg(l),d&512&&hd(l,l.return);break;case 12:jo(a,l);break;case 31:jo(a,l),d&4&&Kg(a,l);break;case 13:jo(a,l),d&4&&Jg(a,l),d&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=Qx.bind(null,l),b5(a,l))));break;case 22:if(d=l.memoizedState!==null||No,!d){i=i!==null&&i.memoizedState!==null||La,v=No;var b=La;No=d,(La=i)&&!b?Ao(a,l,(l.subtreeFlags&8772)!==0):jo(a,l),No=v,La=b}break;case 30:break;default:jo(a,l)}}function Wg(a){var i=a.alternate;i!==null&&(a.alternate=null,Wg(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&Es(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Xr=null,Hn=!1;function So(a,i,l){for(l=l.child;l!==null;)Yg(a,i,l),l=l.sibling}function Yg(a,i,l){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Pt,l)}catch{}switch(l.tag){case 26:La||Hs(l,i),So(a,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:La||Hs(l,i);var d=Xr,v=Hn;yl(l.type)&&(Xr=l.stateNode,Hn=!1),So(a,i,l),wd(l.stateNode),Xr=d,Hn=v;break;case 5:La||Hs(l,i);case 6:if(d=Xr,v=Hn,Xr=null,So(a,i,l),Xr=d,Hn=v,Xr!==null)if(Hn)try{(Xr.nodeType===9?Xr.body:Xr.nodeName==="HTML"?Xr.ownerDocument.body:Xr).removeChild(l.stateNode)}catch(b){jr(l,i,b)}else try{Xr.removeChild(l.stateNode)}catch(b){jr(l,i,b)}break;case 18:Xr!==null&&(Hn?(a=Xr,q1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),xu(a)):q1(Xr,l.stateNode));break;case 4:d=Xr,v=Hn,Xr=l.stateNode.containerInfo,Hn=!0,So(a,i,l),Xr=d,Hn=v;break;case 0:case 11:case 14:case 15:dl(2,l,i),La||dl(4,l,i),So(a,i,l);break;case 1:La||(Hs(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"&&Ig(l,i,d)),So(a,i,l);break;case 21:So(a,i,l);break;case 22:La=(d=La)||l.memoizedState!==null,So(a,i,l),La=d;break;default:So(a,i,l)}}function Kg(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{xu(a)}catch(l){jr(i,i.return,l)}}}function Jg(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{xu(a)}catch(l){jr(i,i.return,l)}}function Vx(a){switch(a.tag){case 31:case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new Vg),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new Vg),i;default:throw Error(n(435,a.tag))}}function xh(a,i){var l=Vx(a);i.forEach(function(d){if(!l.has(d)){l.add(d);var v=e5.bind(null,a,d);d.then(v,v)}})}function Vn(a,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var v=l[d],b=a,C=i,H=C;e:for(;H!==null;){switch(H.tag){case 27:if(yl(H.type)){Xr=H.stateNode,Hn=!1;break e}break;case 5:Xr=H.stateNode,Hn=!1;break e;case 3:case 4:Xr=H.stateNode.containerInfo,Hn=!0;break e}H=H.return}if(Xr===null)throw Error(n(160));Yg(b,C,v),Xr=null,Hn=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Xg(i,a),i=i.sibling}var ps=null;function Xg(a,i){var l=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Vn(i,a),Gn(a),d&4&&(dl(3,a,a.return),dd(3,a),dl(5,a,a.return));break;case 1:Vn(i,a),Gn(a),d&512&&(La||l===null||Hs(l,l.return)),d&64&&No&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var v=ps;if(Vn(i,a),Gn(a),d&512&&(La||l===null||Hs(l,l.return)),d&4){var b=l!==null?l.memoizedState:null;if(d=a.memoizedState,l===null)if(d===null)if(a.stateNode===null){e:{d=a.type,l=a.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":b=v.getElementsByTagName("title")[0],(!b||b[Zn]||b[_r]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(d),v.head.insertBefore(b,v.querySelector("head > title"))),ln(b,d,l),b[_r]=a,ea(b),d=b;break e;case"link":var C=X1("link","href",v).get(d+(l.href||""));if(C){for(var H=0;H<C.length;H++)if(b=C[H],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(H,1);break t}}b=v.createElement(d),ln(b,d,l),v.head.appendChild(b);break;case"meta":if(C=X1("meta","content",v).get(d+(l.content||""))){for(H=0;H<C.length;H++)if(b=C[H],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(H,1);break t}}b=v.createElement(d),ln(b,d,l),v.head.appendChild(b);break;default:throw Error(n(468,d))}b[_r]=a,ea(b),d=b}a.stateNode=d}else Z1(v,a.type,a.stateNode);else a.stateNode=J1(v,d,a.memoizedProps);else b!==d?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,d===null?Z1(v,a.type,a.stateNode):J1(v,d,a.memoizedProps)):d===null&&a.stateNode!==null&&y0(a,a.memoizedProps,l.memoizedProps)}break;case 27:Vn(i,a),Gn(a),d&512&&(La||l===null||Hs(l,l.return)),l!==null&&d&4&&y0(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Vn(i,a),Gn(a),d&512&&(La||l===null||Hs(l,l.return)),a.flags&32){v=a.stateNode;try{ai(v,"")}catch(dt){jr(a,a.return,dt)}}d&4&&a.stateNode!=null&&(v=a.memoizedProps,y0(a,v,l!==null?l.memoizedProps:v)),d&1024&&(w0=!0);break;case 6:if(Vn(i,a),Gn(a),d&4){if(a.stateNode===null)throw Error(n(162));d=a.memoizedProps,l=a.stateNode;try{l.nodeValue=d}catch(dt){jr(a,a.return,dt)}}break;case 3:if(Bh=null,v=ps,ps=Dh(i.containerInfo),Vn(i,a),ps=v,Gn(a),d&4&&l!==null&&l.memoizedState.isDehydrated)try{xu(i.containerInfo)}catch(dt){jr(a,a.return,dt)}w0&&(w0=!1,Zg(a));break;case 4:d=ps,ps=Dh(a.stateNode.containerInfo),Vn(i,a),Gn(a),ps=d;break;case 12:Vn(i,a),Gn(a);break;case 31:Vn(i,a),Gn(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,xh(a,d)));break;case 13:Vn(i,a),Gn(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_h=at()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,xh(a,d)));break;case 22:v=a.memoizedState!==null;var fe=l!==null&&l.memoizedState!==null,Oe=No,Ie=La;if(No=Oe||v,La=Ie||fe,Vn(i,a),La=Ie,No=Oe,Gn(a),d&8192)e:for(i=a.stateNode,i._visibility=v?i._visibility&-2:i._visibility|1,v&&(l===null||fe||No||La||dc(a)),l=null,i=a;;){if(i.tag===5||i.tag===26){if(l===null){fe=l=i;try{if(b=fe.stateNode,v)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{H=fe.stateNode;var Ke=fe.memoizedProps.style,De=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;H.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(dt){jr(fe,fe.return,dt)}}}else if(i.tag===6){if(l===null){fe=i;try{fe.stateNode.nodeValue=v?"":fe.memoizedProps}catch(dt){jr(fe,fe.return,dt)}}}else if(i.tag===18){if(l===null){fe=i;try{var Ue=fe.stateNode;v?I1(Ue,!0):I1(fe.stateNode,!1)}catch(dt){jr(fe,fe.return,dt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=a.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,xh(a,l))));break;case 19:Vn(i,a),Gn(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,xh(a,d)));break;case 30:break;case 21:break;default:Vn(i,a),Gn(a)}}function Gn(a){var i=a.flags;if(i&2){try{for(var l,d=a.return;d!==null;){if($g(d)){l=d;break}d=d.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var v=l.stateNode,b=b0(a);bh(a,b,v);break;case 5:var C=l.stateNode;l.flags&32&&(ai(C,""),l.flags&=-33);var H=b0(a);bh(a,H,C);break;case 3:case 4:var fe=l.stateNode.containerInfo,Oe=b0(a);x0(a,Oe,fe);break;default:throw Error(n(161))}}catch(Ie){jr(a,a.return,Ie)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function Zg(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;Zg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function jo(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Gg(a,i.alternate,i),i=i.sibling}function dc(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:dl(4,i,i.return),dc(i);break;case 1:Hs(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Ig(i,i.return,l),dc(i);break;case 27:wd(i.stateNode);case 26:case 5:Hs(i,i.return),dc(i);break;case 22:i.memoizedState===null&&dc(i);break;case 30:dc(i);break;default:dc(i)}a=a.sibling}}function Ao(a,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,v=a,b=i,C=b.flags;switch(b.tag){case 0:case 11:case 15:Ao(v,b,l),dd(4,b);break;case 1:if(Ao(v,b,l),d=b,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Oe){jr(d,d.return,Oe)}if(d=b,v=d.updateQueue,v!==null){var H=d.stateNode;try{var fe=v.shared.hiddenCallbacks;if(fe!==null)for(v.shared.hiddenCallbacks=null,v=0;v<fe.length;v++)Ka(fe[v],H)}catch(Oe){jr(d,d.return,Oe)}}l&&C&64&&qg(b),hd(b,b.return);break;case 27:Hg(b);case 26:case 5:Ao(v,b,l),l&&d===null&&C&4&&Fg(b),hd(b,b.return);break;case 12:Ao(v,b,l);break;case 31:Ao(v,b,l),l&&C&4&&Kg(v,b);break;case 13:Ao(v,b,l),l&&C&4&&Jg(v,b);break;case 22:b.memoizedState===null&&Ao(v,b,l),hd(b,b.return);break;case 30:break;default:Ao(v,b,l)}i=i.sibling}}function _0(a,i){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&sc(l))}function N0(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&sc(a))}function gs(a,i,l,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qg(a,i,l,d),i=i.sibling}function Qg(a,i,l,d){var v=i.flags;switch(i.tag){case 0:case 11:case 15:gs(a,i,l,d),v&2048&&dd(9,i);break;case 1:gs(a,i,l,d);break;case 3:gs(a,i,l,d),v&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&sc(a)));break;case 12:if(v&2048){gs(a,i,l,d),a=i.stateNode;try{var b=i.memoizedProps,C=b.id,H=b.onPostCommit;typeof H=="function"&&H(C,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(fe){jr(i,i.return,fe)}}else gs(a,i,l,d);break;case 31:gs(a,i,l,d);break;case 13:gs(a,i,l,d);break;case 23:break;case 22:b=i.stateNode,C=i.alternate,i.memoizedState!==null?b._visibility&2?gs(a,i,l,d):fd(a,i):b._visibility&2?gs(a,i,l,d):(b._visibility|=2,cu(a,i,l,d,(i.subtreeFlags&10256)!==0||!1)),v&2048&&_0(C,i);break;case 24:gs(a,i,l,d),v&2048&&N0(i.alternate,i);break;default:gs(a,i,l,d)}}function cu(a,i,l,d,v){for(v=v&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var b=a,C=i,H=l,fe=d,Oe=C.flags;switch(C.tag){case 0:case 11:case 15:cu(b,C,H,fe,v),dd(8,C);break;case 23:break;case 22:var Ie=C.stateNode;C.memoizedState!==null?Ie._visibility&2?cu(b,C,H,fe,v):fd(b,C):(Ie._visibility|=2,cu(b,C,H,fe,v)),v&&Oe&2048&&_0(C.alternate,C);break;case 24:cu(b,C,H,fe,v),v&&Oe&2048&&N0(C.alternate,C);break;default:cu(b,C,H,fe,v)}i=i.sibling}}function fd(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=a,d=i,v=d.flags;switch(d.tag){case 22:fd(l,d),v&2048&&_0(d.alternate,d);break;case 24:fd(l,d),v&2048&&N0(d.alternate,d);break;default:fd(l,d)}i=i.sibling}}var md=8192;function uu(a,i,l){if(a.subtreeFlags&md)for(a=a.child;a!==null;)e1(a,i,l),a=a.sibling}function e1(a,i,l){switch(a.tag){case 26:uu(a,i,l),a.flags&md&&a.memoizedState!==null&&L5(l,ps,a.memoizedState,a.memoizedProps);break;case 5:uu(a,i,l);break;case 3:case 4:var d=ps;ps=Dh(a.stateNode.containerInfo),uu(a,i,l),ps=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=md,md=16777216,uu(a,i,l),md=d):uu(a,i,l));break;default:uu(a,i,l)}}function t1(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function pd(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];Xa=d,a1(d,a)}t1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)r1(a),a=a.sibling}function r1(a){switch(a.tag){case 0:case 11:case 15:pd(a),a.flags&2048&&dl(9,a,a.return);break;case 3:pd(a);break;case 12:pd(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,wh(a)):pd(a);break;default:pd(a)}}function wh(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];Xa=d,a1(d,a)}t1(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:dl(8,i,i.return),wh(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,wh(i));break;default:wh(i)}a=a.sibling}}function a1(a,i){for(;Xa!==null;){var l=Xa;switch(l.tag){case 0:case 11:case 15:dl(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:sc(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Xa=d;else e:for(l=a;Xa!==null;){d=Xa;var v=d.sibling,b=d.return;if(Wg(d),d===l){Xa=null;break e}if(v!==null){v.return=b,Xa=v;break e}Xa=b}}}var Gx={getCacheForType:function(a){var i=za(na),l=i.data.get(a);return l===void 0&&(l=a(),i.data.set(a,l)),l},cacheSignal:function(){return za(na).controller.signal}},Wx=typeof WeakMap=="function"?WeakMap:Map,br=0,Br=null,tr=null,ar=0,Sr=0,di=null,hl=!1,du=!1,S0=!1,Eo=0,pa=0,fl=0,hc=0,j0=0,hi=0,hu=0,gd=null,Wn=null,A0=!1,_h=0,n1=0,Nh=1/0,Sh=null,ml=null,Ia=0,pl=null,fu=null,Co=0,E0=0,C0=null,i1=null,vd=0,k0=null;function fi(){return(br&2)!==0&&ar!==0?ar&-ar:Q.T!==null?M0():Aa()}function s1(){if(hi===0)if((ar&536870912)===0||er){var a=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),hi=a}else hi=536870912;return a=Vr.current,a!==null&&(a.flags|=32),hi}function Yn(a,i,l){(a===Br&&(Sr===2||Sr===9)||a.cancelPendingCommit!==null)&&(mu(a,0),gl(a,ar,hi,!1)),wt(a,l),((br&2)===0||a!==Br)&&(a===Br&&((br&2)===0&&(hc|=l),pa===4&&gl(a,ar,hi,!1)),Vs(a))}function o1(a,i,l){if((br&6)!==0)throw Error(n(327));var d=!l&&(i&127)===0&&(i&a.expiredLanes)===0||Jn(a,i),v=d?Jx(a,i):L0(a,i,!0),b=d;do{if(v===0){du&&!d&&gl(a,i,0,!1);break}else{if(l=a.current.alternate,b&&!Yx(l)){v=L0(a,i,!1),b=!1;continue}if(v===2){if(b=i,a.errorRecoveryDisabledLanes&b)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var H=a;v=gd;var fe=H.current.memoizedState.isDehydrated;if(fe&&(mu(H,C).flags|=256),C=L0(H,C,!1),C!==2){if(S0&&!fe){H.errorRecoveryDisabledLanes|=b,hc|=b,v=4;break e}b=Wn,Wn=v,b!==null&&(Wn===null?Wn=b:Wn.push.apply(Wn,b))}v=C}if(b=!1,v!==2)continue}}if(v===1){mu(a,0),gl(a,i,0,!0);break}e:{switch(d=a,b=v,b){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:gl(d,i,hi,!hl);break e;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(v=_h+300-at(),10<v)){if(gl(d,i,hi,!hl),ir(d,0,!0)!==0)break e;Co=i,d.timeoutHandle=P1(l1.bind(null,d,l,Wn,Sh,A0,i,hi,hc,hu,hl,b,"Throttled",-0,0),v);break e}l1(d,l,Wn,Sh,A0,i,hi,hc,hu,hl,b,null,-0,0)}}break}while(!0);Vs(a)}function l1(a,i,l,d,v,b,C,H,fe,Oe,Ie,Ke,De,Ue){if(a.timeoutHandle=-1,Ke=i.subtreeFlags,Ke&8192||(Ke&16785408)===16785408){Ke={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},e1(i,b,Ke);var dt=(b&62914560)===b?_h-at():(b&4194048)===b?n1-at():0;if(dt=R5(Ke,dt),dt!==null){Co=b,a.cancelPendingCommit=dt(g1.bind(null,a,i,b,l,d,v,C,H,fe,Ie,Ke,null,De,Ue)),gl(a,b,C,!Oe);return}}g1(a,i,b,l,d,v,C,H,fe)}function Yx(a){for(var i=a;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var v=l[d],b=v.getSnapshot;v=v.value;try{if(!Ma(b(),v))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function gl(a,i,l,d){i&=~j0,i&=~hc,a.suspendedLanes|=i,a.pingedLanes&=~i,d&&(a.warmLanes|=i),d=a.expirationTimes;for(var v=i;0<v;){var b=31-Xt(v),C=1<<b;d[b]=-1,v&=~C}l!==0&&Ni(a,l,i)}function jh(){return(br&6)===0?(yd(0),!1):!0}function T0(){if(tr!==null){if(Sr===0)var a=tr.return;else a=tr,Bi=Bs=null,ru(a),Je=null,ft=0,a=tr;for(;a!==null;)zg(a.alternate,a),a=a.return;tr=null}}function mu(a,i){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,m5(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Co=0,T0(),Br=a,tr=l=Bn(a.current,null),ar=i,Sr=0,di=null,hl=!1,du=Jn(a,i),S0=!1,hu=hi=j0=hc=fl=pa=0,Wn=gd=null,A0=!1,(i&8)!==0&&(i|=i&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=i;0<d;){var v=31-Xt(d),b=1<<v;i|=a[v],d&=~b}return Eo=i,ec(),l}function c1(a,i){_t=null,Q.H=ld,i===xe||i===re?(i=Ve(),Sr=3):i===Le?(i=Ve(),Sr=4):Sr=i===l0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,di=i,tr===null&&(pa=1,mh(a,Un(i,a.current)))}function u1(){var a=Vr.current;return a===null?!0:(ar&4194048)===ar?ur===null:(ar&62914560)===ar||(ar&536870912)!==0?a===ur:!1}function d1(){var a=Q.H;return Q.H=ld,a===null?ld:a}function h1(){var a=Q.A;return Q.A=Gx,a}function Ah(){pa=4,hl||(ar&4194048)!==ar&&Vr.current!==null||(du=!0),(fl&134217727)===0&&(hc&134217727)===0||Br===null||gl(Br,ar,hi,!1)}function L0(a,i,l){var d=br;br|=2;var v=d1(),b=h1();(Br!==a||ar!==i)&&(Sh=null,mu(a,i)),i=!1;var C=pa;e:do try{if(Sr!==0&&tr!==null){var H=tr,fe=di;switch(Sr){case 8:T0(),C=6;break e;case 3:case 2:case 9:case 6:Vr.current===null&&(i=!0);var Oe=Sr;if(Sr=0,di=null,pu(a,H,fe,Oe),l&&du){C=0;break e}break;default:Oe=Sr,Sr=0,di=null,pu(a,H,fe,Oe)}}Kx(),C=pa;break}catch(Ie){c1(a,Ie)}while(!0);return i&&a.shellSuspendCounter++,Bi=Bs=null,br=d,Q.H=v,Q.A=b,tr===null&&(Br=null,ar=0,ec()),C}function Kx(){for(;tr!==null;)f1(tr)}function Jx(a,i){var l=br;br|=2;var d=d1(),v=h1();Br!==a||ar!==i?(Sh=null,Nh=at()+500,mu(a,i)):du=Jn(a,i);e:do try{if(Sr!==0&&tr!==null){i=tr;var b=di;t:switch(Sr){case 1:Sr=0,di=null,pu(a,i,b,1);break;case 2:case 9:if(Ce(b)){Sr=0,di=null,m1(i);break}i=function(){Sr!==2&&Sr!==9||Br!==a||(Sr=7),Vs(a)},b.then(i,i);break e;case 3:Sr=7;break e;case 4:Sr=5;break e;case 7:Ce(b)?(Sr=0,di=null,m1(i)):(Sr=0,di=null,pu(a,i,b,7));break;case 5:var C=null;switch(tr.tag){case 26:C=tr.memoizedState;case 5:case 27:var H=tr;if(C?Q1(C):H.stateNode.complete){Sr=0,di=null;var fe=H.sibling;if(fe!==null)tr=fe;else{var Oe=H.return;Oe!==null?(tr=Oe,Eh(Oe)):tr=null}break t}}Sr=0,di=null,pu(a,i,b,5);break;case 6:Sr=0,di=null,pu(a,i,b,6);break;case 8:T0(),pa=6;break e;default:throw Error(n(462))}}Xx();break}catch(Ie){c1(a,Ie)}while(!0);return Bi=Bs=null,Q.H=d,Q.A=v,br=l,tr!==null?0:(Br=null,ar=0,ec(),pa)}function Xx(){for(;tr!==null&&!Ze();)f1(tr)}function f1(a){var i=Ug(a.alternate,a,Eo);a.memoizedProps=a.pendingProps,i===null?Eh(a):tr=i}function m1(a){var i=a,l=i.alternate;switch(i.tag){case 15:case 0:i=Lg(l,i,i.pendingProps,i.type,void 0,ar);break;case 11:i=Lg(l,i,i.pendingProps,i.type.render,i.ref,ar);break;case 5:ru(i);default:zg(l,i),i=tr=ac(i,Eo),i=Ug(l,i,Eo)}a.memoizedProps=a.pendingProps,i===null?Eh(a):tr=i}function pu(a,i,l,d){Bi=Bs=null,ru(i),Je=null,ft=0;var v=i.return;try{if(zx(a,v,i,l,ar)){pa=1,mh(a,Un(l,a.current)),tr=null;return}}catch(b){if(v!==null)throw tr=v,b;pa=1,mh(a,Un(l,a.current)),tr=null;return}i.flags&32768?(er||d===1?a=!0:du||(ar&536870912)!==0?a=!1:(hl=a=!0,(d===2||d===9||d===3||d===6)&&(d=Vr.current,d!==null&&d.tag===13&&(d.flags|=16384))),p1(i,a)):Eh(i)}function Eh(a){var i=a;do{if((i.flags&32768)!==0){p1(i,hl);return}a=i.return;var l=Fx(i.alternate,i,Eo);if(l!==null){tr=l;return}if(i=i.sibling,i!==null){tr=i;return}tr=i=a}while(i!==null);pa===0&&(pa=5)}function p1(a,i){do{var l=$x(a.alternate,a);if(l!==null){l.flags&=32767,tr=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(a=a.sibling,a!==null)){tr=a;return}tr=a=l}while(a!==null);pa=6,tr=null}function g1(a,i,l,d,v,b,C,H,fe){a.cancelPendingCommit=null;do Ch();while(Ia!==0);if((br&6)!==0)throw Error(n(327));if(i!==null){if(i===a.current)throw Error(n(177));if(b=i.lanes|i.childLanes,b|=Fc,$i(a,l,b,C,H,fe),a===Br&&(tr=Br=null,ar=0),fu=i,pl=a,Co=l,E0=b,C0=v,i1=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,t5(Et,function(){return w1(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=Q.T,Q.T=null,v=ue.p,ue.p=2,C=br,br|=4;try{Hx(a,i,l)}finally{br=C,ue.p=v,Q.T=d}}Ia=1,v1(),y1(),b1()}}function v1(){if(Ia===1){Ia=0;var a=pl,i=fu,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var d=ue.p;ue.p=2;var v=br;br|=4;try{Xg(i,a);var b=$0,C=os(a.containerInfo),H=b.focusedElem,fe=b.selectionRange;if(C!==H&&H&&H.ownerDocument&&ss(H.ownerDocument.documentElement,H)){if(fe!==null&&Di(H)){var Oe=fe.start,Ie=fe.end;if(Ie===void 0&&(Ie=Oe),"selectionStart"in H)H.selectionStart=Oe,H.selectionEnd=Math.min(Ie,H.value.length);else{var Ke=H.ownerDocument||document,De=Ke&&Ke.defaultView||window;if(De.getSelection){var Ue=De.getSelection(),dt=H.textContent.length,Ot=Math.min(fe.start,dt),Or=fe.end===void 0?Ot:Math.min(fe.end,dt);!Ue.extend&&Ot>Or&&(C=Or,Or=Ot,Ot=C);var Ee=el(H,Ot),we=el(H,Or);if(Ee&&we&&(Ue.rangeCount!==1||Ue.anchorNode!==Ee.node||Ue.anchorOffset!==Ee.offset||Ue.focusNode!==we.node||Ue.focusOffset!==we.offset)){var Re=Ke.createRange();Re.setStart(Ee.node,Ee.offset),Ue.removeAllRanges(),Ot>Or?(Ue.addRange(Re),Ue.extend(we.node,we.offset)):(Re.setEnd(we.node,we.offset),Ue.addRange(Re))}}}}for(Ke=[],Ue=H;Ue=Ue.parentNode;)Ue.nodeType===1&&Ke.push({element:Ue,left:Ue.scrollLeft,top:Ue.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Ke.length;H++){var We=Ke[H];We.element.scrollLeft=We.left,We.element.scrollTop=We.top}}qh=!!F0,$0=F0=null}finally{br=v,ue.p=d,Q.T=l}}a.current=i,Ia=2}}function y1(){if(Ia===2){Ia=0;var a=pl,i=fu,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var d=ue.p;ue.p=2;var v=br;br|=4;try{Gg(a,i.alternate,i)}finally{br=v,ue.p=d,Q.T=l}}Ia=3}}function b1(){if(Ia===4||Ia===3){Ia=0,Qe();var a=pl,i=fu,l=Co,d=i1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ia=5:(Ia=0,fu=pl=null,x1(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(ml=null),oa(l),i=i.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Pt,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=Q.T,v=ue.p,ue.p=2,Q.T=null;try{for(var b=a.onRecoverableError,C=0;C<d.length;C++){var H=d[C];b(H.value,{componentStack:H.stack})}}finally{Q.T=i,ue.p=v}}(Co&3)!==0&&Ch(),Vs(a),v=a.pendingLanes,(l&261930)!==0&&(v&42)!==0?a===k0?vd++:(vd=0,k0=a):vd=0,yd(0)}}function x1(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,sc(i)))}function Ch(){return v1(),y1(),b1(),w1()}function w1(){if(Ia!==5)return!1;var a=pl,i=E0;E0=0;var l=oa(Co),d=Q.T,v=ue.p;try{ue.p=32>l?32:l,Q.T=null,l=C0,C0=null;var b=pl,C=Co;if(Ia=0,fu=pl=null,Co=0,(br&6)!==0)throw Error(n(331));var H=br;if(br|=4,r1(b.current),Qg(b,b.current,C,l),br=H,yd(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Pt,b)}catch{}return!0}finally{ue.p=v,Q.T=d,x1(a,i)}}function _1(a,i,l){i=Un(l,i),i=o0(a.stateNode,i,2),a=Yt(a,i,2),a!==null&&(wt(a,2),Vs(a))}function jr(a,i,l){if(a.tag===3)_1(a,a,l);else for(;i!==null;){if(i.tag===3){_1(i,a,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ml===null||!ml.has(d))){a=Un(l,a),l=Ng(2),d=Yt(i,l,2),d!==null&&(Sg(l,d,i,a),wt(d,2),Vs(d));break}}i=i.return}}function R0(a,i,l){var d=a.pingCache;if(d===null){d=a.pingCache=new Wx;var v=new Set;d.set(i,v)}else v=d.get(i),v===void 0&&(v=new Set,d.set(i,v));v.has(l)||(S0=!0,v.add(l),a=Zx.bind(null,a,i,l),i.then(a,a))}function Zx(a,i,l){var d=a.pingCache;d!==null&&d.delete(i),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,Br===a&&(ar&l)===l&&(pa===4||pa===3&&(ar&62914560)===ar&&300>at()-_h?(br&2)===0&&mu(a,0):j0|=l,hu===ar&&(hu=0)),Vs(a)}function N1(a,i){i===0&&(i=_i()),a=cs(a,i),a!==null&&(wt(a,i),Vs(a))}function Qx(a){var i=a.memoizedState,l=0;i!==null&&(l=i.retryLane),N1(a,l)}function e5(a,i){var l=0;switch(a.tag){case 31:case 13:var d=a.stateNode,v=a.memoizedState;v!==null&&(l=v.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(n(314))}d!==null&&d.delete(i),N1(a,l)}function t5(a,i){return Ge(a,i)}var kh=null,gu=null,O0=!1,Th=!1,D0=!1,vl=0;function Vs(a){a!==gu&&a.next===null&&(gu===null?kh=gu=a:gu=gu.next=a),Th=!0,O0||(O0=!0,a5())}function yd(a,i){if(!D0&&Th){D0=!0;do for(var l=!1,d=kh;d!==null;){if(a!==0){var v=d.pendingLanes;if(v===0)var b=0;else{var C=d.suspendedLanes,H=d.pingedLanes;b=(1<<31-Xt(42|a)+1)-1,b&=v&~(C&~H),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,E1(d,b))}else b=ar,b=ir(d,d===Br?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Jn(d,b)||(l=!0,E1(d,b));d=d.next}while(l);D0=!1}}function r5(){S1()}function S1(){Th=O0=!1;var a=0;vl!==0&&f5()&&(a=vl);for(var i=at(),l=null,d=kh;d!==null;){var v=d.next,b=j1(d,i);b===0?(d.next=null,l===null?kh=v:l.next=v,v===null&&(gu=l)):(l=d,(a!==0||(b&3)!==0)&&(Th=!0)),d=v}Ia!==0&&Ia!==5||yd(a),vl!==0&&(vl=0)}function j1(a,i){for(var l=a.suspendedLanes,d=a.pingedLanes,v=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var C=31-Xt(b),H=1<<C,fe=v[C];fe===-1?((H&l)===0||(H&d)!==0)&&(v[C]=Ha(H,i)):fe<=i&&(a.expiredLanes|=H),b&=~H}if(i=Br,l=ar,l=ir(a,a===i?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,l===0||a===i&&(Sr===2||Sr===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Ye(d),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Jn(a,l)){if(i=l&-l,i===a.callbackPriority)return i;switch(d!==null&&Ye(d),oa(l)){case 2:case 8:l=it;break;case 32:l=Et;break;case 268435456:l=Ct;break;default:l=Et}return d=A1.bind(null,a),l=Ge(l,d),a.callbackPriority=i,a.callbackNode=l,i}return d!==null&&d!==null&&Ye(d),a.callbackPriority=2,a.callbackNode=null,2}function A1(a,i){if(Ia!==0&&Ia!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(Ch()&&a.callbackNode!==l)return null;var d=ar;return d=ir(a,a===Br?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(o1(a,d,i),j1(a,at()),a.callbackNode!=null&&a.callbackNode===l?A1.bind(null,a):null)}function E1(a,i){if(Ch())return null;o1(a,i,!0)}function a5(){p5(function(){(br&6)!==0?Ge(nt,r5):S1()})}function M0(){if(vl===0){var a=p;a===0&&(a=zt,zt<<=1,(zt&261888)===0&&(zt=256)),vl=a}return vl}function C1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:dn(""+a)}function k1(a,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,a.id&&l.setAttribute("form",a.id),i.parentNode.insertBefore(l,i),a=new FormData(a),l.parentNode.removeChild(l),a}function n5(a,i,l,d,v){if(i==="submit"&&l&&l.stateNode===v){var b=C1((v[Ir]||null).action),C=d.submitter;C&&(i=(i=C[Ir]||null)?C1(i.formAction):C.getAttribute("formAction"),i!==null&&(b=i,C=null));var H=new On("action","action",null,d,v);a.push({event:H,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(vl!==0){var fe=C?k1(v,C):new FormData(v);t0(l,{pending:!0,data:fe,method:v.method,action:b},null,fe)}}else typeof b=="function"&&(H.preventDefault(),fe=C?k1(v,C):new FormData(v),t0(l,{pending:!0,data:fe,method:v.method,action:b},b,fe))},currentTarget:v}]})}}for(var B0=0;B0<fo.length;B0++){var U0=fo[B0],i5=U0.toLowerCase(),s5=U0[0].toUpperCase()+U0.slice(1);Mn(i5,"on"+s5)}Mn(ho,"onAnimationEnd"),Mn(Zl,"onAnimationIteration"),Mn(Wu,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(th,"onTransitionRun"),Mn(rh,"onTransitionStart"),Mn(ah,"onTransitionCancel"),Mn(Yu,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bd));function T1(a,i){i=(i&4)!==0;for(var l=0;l<a.length;l++){var d=a[l],v=d.event;d=d.listeners;e:{var b=void 0;if(i)for(var C=d.length-1;0<=C;C--){var H=d[C],fe=H.instance,Oe=H.currentTarget;if(H=H.listener,fe!==b&&v.isPropagationStopped())break e;b=H,v.currentTarget=Oe;try{b(v)}catch(Ie){Ql(Ie)}v.currentTarget=null,b=fe}else for(C=0;C<d.length;C++){if(H=d[C],fe=H.instance,Oe=H.currentTarget,H=H.listener,fe!==b&&v.isPropagationStopped())break e;b=H,v.currentTarget=Oe;try{b(v)}catch(Ie){Ql(Ie)}v.currentTarget=null,b=fe}}}}function rr(a,i){var l=i[wn];l===void 0&&(l=i[wn]=new Set);var d=a+"__bubble";l.has(d)||(L1(i,a,2,!1),l.add(d))}function P0(a,i,l){var d=0;i&&(d|=4),L1(l,a,d,i)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function z0(a){if(!a[Lh]){a[Lh]=!0,Ml.forEach(function(l){l!=="selectionchange"&&(o5.has(l)||P0(l,!1,a),P0(l,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[Lh]||(i[Lh]=!0,P0("selectionchange",!1,i))}}function L1(a,i,l,d){switch(s2(i)){case 2:var v=M5;break;case 8:v=B5;break;default:v=em}l=v.bind(null,i,l,a),v=void 0,!Wl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(v=!0),d?v!==void 0?a.addEventListener(i,l,{capture:!0,passive:v}):a.addEventListener(i,l,!0):v!==void 0?a.addEventListener(i,l,{passive:v}):a.addEventListener(i,l,!1)}function q0(a,i,l,d,v){var b=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var H=d.stateNode.containerInfo;if(H===v)break;if(C===4)for(C=d.return;C!==null;){var fe=C.tag;if((fe===3||fe===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;H!==null;){if(C=Qn(H),C===null)return;if(fe=C.tag,fe===5||fe===6||fe===26||fe===27){d=b=C;continue e}H=H.parentNode}}d=d.return}Uc(function(){var Oe=b,Ie=no(l),Ke=[];e:{var De=Ku.get(a);if(De!==void 0){var Ue=On,dt=a;switch(a){case"keypress":if(Rn(l)===0)break e;case"keydown":case"keyup":Ue=sr;break;case"focusin":dt="focus",Ue=Zi;break;case"focusout":dt="blur",Ue=Zi;break;case"beforeblur":case"afterblur":Ue=Zi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=Yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=Xi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=ba;break;case ho:case Zl:case Wu:Ue=_;break;case Yu:Ue=Da;break;case"scroll":case"scrollend":Ue=Wo;break;case"wheel":Ue=ii;break;case"copy":case"cut":case"paste":Ue=ne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=ta;break;case"toggle":case"beforetoggle":Ue=Kl}var Ot=(i&4)!==0,Or=!Ot&&(a==="scroll"||a==="scrollend"),Ee=Ot?De!==null?De+"Capture":null:De;Ot=[];for(var we=Oe,Re;we!==null;){var We=we;if(Re=We.stateNode,We=We.tag,We!==5&&We!==26&&We!==27||Re===null||Ee===null||(We=Sn(we,Ee),We!=null&&Ot.push(xd(we,We,Re))),Or)break;we=we.return}0<Ot.length&&(De=new Ue(De,dt,null,l,Ie),Ke.push({event:De,listeners:Ot}))}}if((i&7)===0){e:{if(De=a==="mouseover"||a==="pointerover",Ue=a==="mouseout"||a==="pointerout",De&&l!==Gi&&(dt=l.relatedTarget||l.fromElement)&&(Qn(dt)||dt[Va]))break e;if((Ue||De)&&(De=Ie.window===Ie?Ie:(De=Ie.ownerDocument)?De.defaultView||De.parentWindow:window,Ue?(dt=l.relatedTarget||l.toElement,Ue=Oe,dt=dt?Qn(dt):null,dt!==null&&(Or=o(dt),Ot=dt.tag,dt!==Or||Ot!==5&&Ot!==27&&Ot!==6)&&(dt=null)):(Ue=null,dt=Oe),Ue!==dt)){if(Ot=Yl,We="onMouseLeave",Ee="onMouseEnter",we="mouse",(a==="pointerout"||a==="pointerover")&&(Ot=ta,We="onPointerLeave",Ee="onPointerEnter",we="pointer"),Or=Ue==null?De:ro(Ue),Re=dt==null?De:ro(dt),De=new Ot(We,we+"leave",Ue,l,Ie),De.target=Or,De.relatedTarget=Re,We=null,Qn(Ie)===Oe&&(Ot=new Ot(Ee,we+"enter",dt,l,Ie),Ot.target=Re,Ot.relatedTarget=Or,We=Ot),Or=We,Ue&&dt)t:{for(Ot=l5,Ee=Ue,we=dt,Re=0,We=Ee;We;We=Ot(We))Re++;We=0;for(var jt=we;jt;jt=Ot(jt))We++;for(;0<Re-We;)Ee=Ot(Ee),Re--;for(;0<We-Re;)we=Ot(we),We--;for(;Re--;){if(Ee===we||we!==null&&Ee===we.alternate){Ot=Ee;break t}Ee=Ot(Ee),we=Ot(we)}Ot=null}else Ot=null;Ue!==null&&R1(Ke,De,Ue,Ot,!1),dt!==null&&Or!==null&&R1(Ke,Or,dt,Ot,!0)}}e:{if(De=Oe?ro(Oe):window,Ue=De.nodeName&&De.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&De.type==="file")var pr=Rs;else if(Jl(De))if(hn)pr=Ri;else{pr=ra;var gt=Zo}else Ue=De.nodeName,!Ue||Ue.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Oe&&Hl(Oe.elementType)&&(pr=Rs):pr=Ic;if(pr&&(pr=pr(a,Oe))){An(Ke,pr,l,Ie);break e}gt&&gt(a,De,Oe),a==="focusout"&&Oe&&De.type==="number"&&Oe.memoizedProps.value!=null&&Il(De,"number",De.value)}switch(gt=Oe?ro(Oe):window,a){case"focusin":(Jl(gt)||gt.contentEditable==="true")&&(En=gt,ls=Oe,Ga=null);break;case"focusout":Ga=ls=En=null;break;case"mousedown":Dn=!0;break;case"contextmenu":case"mouseup":case"dragend":Dn=!1,fr(Ke,l,Ie);break;case"selectionchange":if(uo)break;case"keydown":case"keyup":fr(Ke,l,Ie)}var Kt;if(Ci)e:{switch(a){case"compositionstart":var nr="onCompositionStart";break e;case"compositionend":nr="onCompositionEnd";break e;case"compositionupdate":nr="onCompositionUpdate";break e}nr=void 0}else ki?Ls(a,l)&&(nr="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(nr="onCompositionStart");nr&&(ts&&l.locale!=="ko"&&(ki||nr!=="onCompositionStart"?nr==="onCompositionEnd"&&ki&&(Kt=Pc()):(jn=Ie,so="value"in jn?jn.value:jn.textContent,ki=!0)),gt=Rh(Oe,nr),0<gt.length&&(nr=new Ae(nr,a,null,l,Ie),Ke.push({event:nr,listeners:gt}),Kt?nr.data=Kt:(Kt=Ko(l),Kt!==null&&(nr.data=Kt)))),(Kt=co?rn(a,l):rs(a,l))&&(nr=Rh(Oe,"onBeforeInput"),0<nr.length&&(gt=new Ae("onBeforeInput","beforeinput",null,l,Ie),Ke.push({event:gt,listeners:nr}),gt.data=Kt)),n5(Ke,a,Oe,l,Ie)}T1(Ke,i)})}function xd(a,i,l){return{instance:a,listener:i,currentTarget:l}}function Rh(a,i){for(var l=i+"Capture",d=[];a!==null;){var v=a,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Sn(a,l),v!=null&&d.unshift(xd(a,v,b)),v=Sn(a,i),v!=null&&d.push(xd(a,v,b))),a.tag===3)return d;a=a.return}return[]}function l5(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function R1(a,i,l,d,v){for(var b=i._reactName,C=[];l!==null&&l!==d;){var H=l,fe=H.alternate,Oe=H.stateNode;if(H=H.tag,fe!==null&&fe===d)break;H!==5&&H!==26&&H!==27||Oe===null||(fe=Oe,v?(Oe=Sn(l,b),Oe!=null&&C.unshift(xd(l,Oe,fe))):v||(Oe=Sn(l,b),Oe!=null&&C.push(xd(l,Oe,fe)))),l=l.return}C.length!==0&&a.push({event:i,listeners:C})}var c5=/\r\n?/g,u5=/\u0000|\uFFFD/g;function O1(a){return(typeof a=="string"?a:""+a).replace(c5,`
`).replace(u5,"")}function D1(a,i){return i=O1(i),O1(a)===i}function Rr(a,i,l,d,v,b){switch(l){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||ai(a,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&ai(a,""+d);break;case"className":Vi(a,"class",d);break;case"tabIndex":Vi(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(a,l,d);break;case"style":Dc(a,d,b);break;case"data":if(i!=="object"){Vi(a,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||l!=="href")){a.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=dn(""+d),a.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(i!=="input"&&Rr(a,i,"name",v.name,v,null),Rr(a,i,"formEncType",v.formEncType,v,null),Rr(a,i,"formMethod",v.formMethod,v,null),Rr(a,i,"formTarget",v.formTarget,v,null)):(Rr(a,i,"encType",v.encType,v,null),Rr(a,i,"method",v.method,v,null),Rr(a,i,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=dn(""+d),a.setAttribute(l,d);break;case"onClick":d!=null&&(a.onclick=ni);break;case"onScroll":d!=null&&rr("scroll",a);break;case"onScrollEnd":d!=null&&rr("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}l=dn(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""+d):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":d===!0?a.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,d):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(l,d):a.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(l):a.setAttribute(l,d);break;case"popover":rr("beforetoggle",a),rr("toggle",a),Nn(a,"popover",d);break;case"xlinkActuate":ri(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ri(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ri(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ri(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ri(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ri(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ri(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ri(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ri(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Nn(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Vl.get(l)||l,Nn(a,l,d))}}function I0(a,i,l,d,v,b){switch(l){case"style":Dc(a,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(n(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"children":typeof d=="string"?ai(a,d):(typeof d=="number"||typeof d=="bigint")&&ai(a,""+d);break;case"onScroll":d!=null&&rr("scroll",a);break;case"onScrollEnd":d!=null&&rr("scrollend",a);break;case"onClick":d!=null&&(a.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_n.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),i=l.slice(2,v?l.length-7:void 0),b=a[Ir]||null,b=b!=null?b[l]:null,typeof b=="function"&&a.removeEventListener(i,b,v),typeof d=="function")){typeof b!="function"&&b!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(i,d,v);break e}l in a?a[l]=d:d===!0?a.setAttribute(l,""):Nn(a,l,d)}}}function ln(a,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rr("error",a),rr("load",a);var d=!1,v=!1,b;for(b in l)if(l.hasOwnProperty(b)){var C=l[b];if(C!=null)switch(b){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:Rr(a,i,b,C,l,null)}}v&&Rr(a,i,"srcSet",l.srcSet,l,null),d&&Rr(a,i,"src",l.src,l,null);return;case"input":rr("invalid",a);var H=b=C=v=null,fe=null,Oe=null;for(d in l)if(l.hasOwnProperty(d)){var Ie=l[d];if(Ie!=null)switch(d){case"name":v=Ie;break;case"type":C=Ie;break;case"checked":fe=Ie;break;case"defaultChecked":Oe=Ie;break;case"value":b=Ie;break;case"defaultValue":H=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,i));break;default:Rr(a,i,d,Ie,l,null)}}Rc(a,b,H,fe,Oe,C,v,!1);return;case"select":rr("invalid",a),d=C=b=null;for(v in l)if(l.hasOwnProperty(v)&&(H=l[v],H!=null))switch(v){case"value":b=H;break;case"defaultValue":C=H;break;case"multiple":d=H;default:Rr(a,i,v,H,l,null)}i=b,l=C,a.multiple=!!d,i!=null?tn(a,!!d,i,!1):l!=null&&tn(a,!!d,l,!0);return;case"textarea":rr("invalid",a),b=v=d=null;for(C in l)if(l.hasOwnProperty(C)&&(H=l[C],H!=null))switch(C){case"value":d=H;break;case"defaultValue":v=H;break;case"children":b=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:Rr(a,i,C,H,l,null)}$l(a,d,v,b);return;case"option":for(fe in l)if(l.hasOwnProperty(fe)&&(d=l[fe],d!=null))switch(fe){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Rr(a,i,fe,d,l,null)}return;case"dialog":rr("beforetoggle",a),rr("toggle",a),rr("cancel",a),rr("close",a);break;case"iframe":case"object":rr("load",a);break;case"video":case"audio":for(d=0;d<bd.length;d++)rr(bd[d],a);break;case"image":rr("error",a),rr("load",a);break;case"details":rr("toggle",a);break;case"embed":case"source":case"link":rr("error",a),rr("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in l)if(l.hasOwnProperty(Oe)&&(d=l[Oe],d!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:Rr(a,i,Oe,d,l,null)}return;default:if(Hl(i)){for(Ie in l)l.hasOwnProperty(Ie)&&(d=l[Ie],d!==void 0&&I0(a,i,Ie,d,l,void 0));return}}for(H in l)l.hasOwnProperty(H)&&(d=l[H],d!=null&&Rr(a,i,H,d,l,null))}function d5(a,i,l,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,C=null,H=null,fe=null,Oe=null,Ie=null;for(Ue in l){var Ke=l[Ue];if(l.hasOwnProperty(Ue)&&Ke!=null)switch(Ue){case"checked":break;case"value":break;case"defaultValue":fe=Ke;default:d.hasOwnProperty(Ue)||Rr(a,i,Ue,null,d,Ke)}}for(var De in d){var Ue=d[De];if(Ke=l[De],d.hasOwnProperty(De)&&(Ue!=null||Ke!=null))switch(De){case"type":b=Ue;break;case"name":v=Ue;break;case"checked":Oe=Ue;break;case"defaultChecked":Ie=Ue;break;case"value":C=Ue;break;case"defaultValue":H=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(n(137,i));break;default:Ue!==Ke&&Rr(a,i,De,Ue,d,Ke)}}Ho(a,C,H,fe,Oe,Ie,b,v);return;case"select":Ue=C=H=De=null;for(b in l)if(fe=l[b],l.hasOwnProperty(b)&&fe!=null)switch(b){case"value":break;case"multiple":Ue=fe;default:d.hasOwnProperty(b)||Rr(a,i,b,null,d,fe)}for(v in d)if(b=d[v],fe=l[v],d.hasOwnProperty(v)&&(b!=null||fe!=null))switch(v){case"value":De=b;break;case"defaultValue":H=b;break;case"multiple":C=b;default:b!==fe&&Rr(a,i,v,b,d,fe)}i=H,l=C,d=Ue,De!=null?tn(a,!!l,De,!1):!!d!=!!l&&(i!=null?tn(a,!!l,i,!0):tn(a,!!l,l?[]:"",!1));return;case"textarea":Ue=De=null;for(H in l)if(v=l[H],l.hasOwnProperty(H)&&v!=null&&!d.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Rr(a,i,H,null,d,v)}for(C in d)if(v=d[C],b=l[C],d.hasOwnProperty(C)&&(v!=null||b!=null))switch(C){case"value":De=v;break;case"defaultValue":Ue=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==b&&Rr(a,i,C,v,d,b)}Fl(a,De,Ue);return;case"option":for(var dt in l)if(De=l[dt],l.hasOwnProperty(dt)&&De!=null&&!d.hasOwnProperty(dt))switch(dt){case"selected":a.selected=!1;break;default:Rr(a,i,dt,null,d,De)}for(fe in d)if(De=d[fe],Ue=l[fe],d.hasOwnProperty(fe)&&De!==Ue&&(De!=null||Ue!=null))switch(fe){case"selected":a.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:Rr(a,i,fe,De,d,Ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in l)De=l[Ot],l.hasOwnProperty(Ot)&&De!=null&&!d.hasOwnProperty(Ot)&&Rr(a,i,Ot,null,d,De);for(Oe in d)if(De=d[Oe],Ue=l[Oe],d.hasOwnProperty(Oe)&&De!==Ue&&(De!=null||Ue!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,i));break;default:Rr(a,i,Oe,De,d,Ue)}return;default:if(Hl(i)){for(var Or in l)De=l[Or],l.hasOwnProperty(Or)&&De!==void 0&&!d.hasOwnProperty(Or)&&I0(a,i,Or,void 0,d,De);for(Ie in d)De=d[Ie],Ue=l[Ie],!d.hasOwnProperty(Ie)||De===Ue||De===void 0&&Ue===void 0||I0(a,i,Ie,De,d,Ue);return}}for(var Ee in l)De=l[Ee],l.hasOwnProperty(Ee)&&De!=null&&!d.hasOwnProperty(Ee)&&Rr(a,i,Ee,null,d,De);for(Ke in d)De=d[Ke],Ue=l[Ke],!d.hasOwnProperty(Ke)||De===Ue||De==null&&Ue==null||Rr(a,i,Ke,De,d,Ue)}function M1(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h5(){if(typeof performance.getEntriesByType=="function"){for(var a=0,i=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var v=l[d],b=v.transferSize,C=v.initiatorType,H=v.duration;if(b&&H&&M1(C)){for(C=0,H=v.responseEnd,d+=1;d<l.length;d++){var fe=l[d],Oe=fe.startTime;if(Oe>H)break;var Ie=fe.transferSize,Ke=fe.initiatorType;Ie&&M1(Ke)&&(fe=fe.responseEnd,C+=Ie*(fe<H?1:(H-Oe)/(fe-Oe)))}if(--d,i+=8*(b+C)/(v.duration/1e3),a++,10<a)break}}if(0<a)return i/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var F0=null,$0=null;function Oh(a){return a.nodeType===9?a:a.ownerDocument}function B1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U1(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function H0(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var V0=null;function f5(){var a=window.event;return a&&a.type==="popstate"?a===V0?!1:(V0=a,!0):(V0=null,!1)}var P1=typeof setTimeout=="function"?setTimeout:void 0,m5=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,p5=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(a){return z1.resolve(null).then(a).catch(g5)}:P1;function g5(a){setTimeout(function(){throw a})}function yl(a){return a==="head"}function q1(a,i){var l=i,d=0;do{var v=l.nextSibling;if(a.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(d===0){a.removeChild(v),xu(i);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")wd(a.ownerDocument.documentElement);else if(l==="head"){l=a.ownerDocument.head,wd(l);for(var b=l.firstChild;b;){var C=b.nextSibling,H=b.nodeName;b[Zn]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=C}}else l==="body"&&wd(a.ownerDocument.body);l=v}while(l);xu(i)}function I1(a,i){var l=a;a=0;do{var d=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(a===0)break;a--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||a++;l=d}while(l)}function G0(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":G0(l),Es(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function v5(a,i,l,d){for(;a.nodeType===1;){var v=l;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Zn])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=zi(a.nextSibling),a===null)break}return null}function y5(a,i,l){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=zi(a.nextSibling),a===null))return null;return a}function F1(a,i){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!i||(a=zi(a.nextSibling),a===null))return null;return a}function W0(a){return a.data==="$?"||a.data==="$~"}function Y0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function b5(a,i){var l=a.ownerDocument;if(a.data==="$~")a._reactRetry=i;else if(a.data!=="$?"||l.readyState!=="loading")i();else{var d=function(){i(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function zi(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return a}var K0=null;function $1(a){a=a.nextSibling;for(var i=0;a;){if(a.nodeType===8){var l=a.data;if(l==="/$"||l==="/&"){if(i===0)return zi(a.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}a=a.nextSibling}return null}function H1(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return a;i--}else l!=="/$"&&l!=="/&"||i++}a=a.previousSibling}return null}function V1(a,i,l){switch(i=Oh(l),a){case"html":if(a=i.documentElement,!a)throw Error(n(452));return a;case"head":if(a=i.head,!a)throw Error(n(453));return a;case"body":if(a=i.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function wd(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Es(a)}var qi=new Map,G1=new Set;function Dh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ko=ue.d;ue.d={f:x5,r:w5,D:_5,C:N5,L:S5,m:j5,X:E5,S:A5,M:C5};function x5(){var a=ko.f(),i=jh();return a||i}function w5(a){var i=ei(a);i!==null&&i.tag===5&&i.type==="form"?cg(i):ko.r(a)}var vu=typeof document>"u"?null:document;function W1(a,i,l){var d=vu;if(d&&typeof i=="string"&&i){var v=la(i);v='link[rel="'+a+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),G1.has(v)||(G1.add(v),a={rel:a,crossOrigin:l,href:i},d.querySelector(v)===null&&(i=d.createElement("link"),ln(i,"link",a),ea(i),d.head.appendChild(i)))}}function _5(a){ko.D(a),W1("dns-prefetch",a,null)}function N5(a,i){ko.C(a,i),W1("preconnect",a,i)}function S5(a,i,l){ko.L(a,i,l);var d=vu;if(d&&a&&i){var v='link[rel="preload"][as="'+la(i)+'"]';i==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+la(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+la(l.imageSizes)+'"]')):v+='[href="'+la(a)+'"]';var b=v;switch(i){case"style":b=yu(a);break;case"script":b=bu(a)}qi.has(b)||(a=w({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:a,as:i},l),qi.set(b,a),d.querySelector(v)!==null||i==="style"&&d.querySelector(_d(b))||i==="script"&&d.querySelector(Nd(b))||(i=d.createElement("link"),ln(i,"link",a),ea(i),d.head.appendChild(i)))}}function j5(a,i){ko.m(a,i);var l=vu;if(l&&a){var d=i&&typeof i.as=="string"?i.as:"script",v='link[rel="modulepreload"][as="'+la(d)+'"][href="'+la(a)+'"]',b=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=bu(a)}if(!qi.has(b)&&(a=w({rel:"modulepreload",href:a},i),qi.set(b,a),l.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Nd(b)))return}d=l.createElement("link"),ln(d,"link",a),ea(d),l.head.appendChild(d)}}}function A5(a,i,l){ko.S(a,i,l);var d=vu;if(d&&a){var v=Si(d).hoistableStyles,b=yu(a);i=i||"default";var C=v.get(b);if(!C){var H={loading:0,preload:null};if(C=d.querySelector(_d(b)))H.loading=5;else{a=w({rel:"stylesheet",href:a,"data-precedence":i},l),(l=qi.get(b))&&J0(a,l);var fe=C=d.createElement("link");ea(fe),ln(fe,"link",a),fe._p=new Promise(function(Oe,Ie){fe.onload=Oe,fe.onerror=Ie}),fe.addEventListener("load",function(){H.loading|=1}),fe.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Mh(C,i,d)}C={type:"stylesheet",instance:C,count:1,state:H},v.set(b,C)}}}function E5(a,i){ko.X(a,i);var l=vu;if(l&&a){var d=Si(l).hoistableScripts,v=bu(a),b=d.get(v);b||(b=l.querySelector(Nd(v)),b||(a=w({src:a,async:!0},i),(i=qi.get(v))&&X0(a,i),b=l.createElement("script"),ea(b),ln(b,"link",a),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function C5(a,i){ko.M(a,i);var l=vu;if(l&&a){var d=Si(l).hoistableScripts,v=bu(a),b=d.get(v);b||(b=l.querySelector(Nd(v)),b||(a=w({src:a,async:!0,type:"module"},i),(i=qi.get(v))&&X0(a,i),b=l.createElement("script"),ea(b),ln(b,"link",a),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(v,b))}}function Y1(a,i,l,d){var v=(v=te.current)?Dh(v):null;if(!v)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=yu(l.href),l=Si(v).hoistableStyles,d=l.get(i),d||(d={type:"style",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=yu(l.href);var b=Si(v).hoistableStyles,C=b.get(a);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,C),(b=v.querySelector(_d(a)))&&!b._p&&(C.instance=b,C.state.loading=5),qi.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qi.set(a,l),b||k5(v,a,l,C.state))),i&&d===null)throw Error(n(528,""));return C}if(i&&d!==null)throw Error(n(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=bu(l),l=Si(v).hoistableScripts,d=l.get(i),d||(d={type:"script",instance:null,count:0,state:null},l.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function yu(a){return'href="'+la(a)+'"'}function _d(a){return'link[rel="stylesheet"]['+a+"]"}function K1(a){return w({},a,{"data-precedence":a.precedence,precedence:null})}function k5(a,i,l,d){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=a.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),ln(i,"link",l),ea(i),a.head.appendChild(i))}function bu(a){return'[src="'+la(a)+'"]'}function Nd(a){return"script[async]"+a}function J1(a,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var d=a.querySelector('style[data-href~="'+la(l.href)+'"]');if(d)return i.instance=d,ea(d),d;var v=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),ea(d),ln(d,"style",v),Mh(d,l.precedence,a),i.instance=d;case"stylesheet":v=yu(l.href);var b=a.querySelector(_d(v));if(b)return i.state.loading|=4,i.instance=b,ea(b),b;d=K1(l),(v=qi.get(v))&&J0(d,v),b=(a.ownerDocument||a).createElement("link"),ea(b);var C=b;return C._p=new Promise(function(H,fe){C.onload=H,C.onerror=fe}),ln(b,"link",d),i.state.loading|=4,Mh(b,l.precedence,a),i.instance=b;case"script":return b=bu(l.src),(v=a.querySelector(Nd(b)))?(i.instance=v,ea(v),v):(d=l,(v=qi.get(b))&&(d=w({},l),X0(d,v)),a=a.ownerDocument||a,v=a.createElement("script"),ea(v),ln(v,"link",d),a.head.appendChild(v),i.instance=v);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Mh(d,l.precedence,a));return i.instance}function Mh(a,i,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,b=v,C=0;C<d.length;C++){var H=d[C];if(H.dataset.precedence===i)b=H;else if(b!==v)break}b?b.parentNode.insertBefore(a,b.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(a,i.firstChild))}function J0(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function X0(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var Bh=null;function X1(a,i,l){if(Bh===null){var d=new Map,v=Bh=new Map;v.set(l,d)}else v=Bh,d=v.get(l),d||(d=new Map,v.set(l,d));if(d.has(a))return d;for(d.set(a,null),l=l.getElementsByTagName(a),v=0;v<l.length;v++){var b=l[v];if(!(b[Zn]||b[_r]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(i)||"";C=a+C;var H=d.get(C);H?H.push(b):d.set(C,[b])}}return d}function Z1(a,i,l){a=a.ownerDocument||a,a.head.insertBefore(l,i==="title"?a.querySelector("head > title"):null)}function T5(a,i,l){if(l===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return a=i.disabled,typeof i.precedence=="string"&&a==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Q1(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function L5(a,i,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=yu(d.href),b=i.querySelector(_d(v));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(a.count++,a=Uh.bind(a),i.then(a,a)),l.state.loading|=4,l.instance=b,ea(b);return}b=i.ownerDocument||i,d=K1(d),(v=qi.get(v))&&J0(d,v),b=b.createElement("link"),ea(b);var C=b;C._p=new Promise(function(H,fe){C.onload=H,C.onerror=fe}),ln(b,"link",d),l.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(a.count++,l=Uh.bind(a),i.addEventListener("load",l),i.addEventListener("error",l))}}var Z0=0;function R5(a,i){return a.stylesheets&&a.count===0&&zh(a,a.stylesheets),0<a.count||0<a.imgCount?function(l){var d=setTimeout(function(){if(a.stylesheets&&zh(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+i);0<a.imgBytes&&Z0===0&&(Z0=62500*h5());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&zh(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>Z0?50:800)+i);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(v)}}:null}function Uh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ph=null;function zh(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ph=new Map,i.forEach(O5,a),Ph=null,Uh.call(a))}function O5(a,i){if(!(i.state.loading&4)){var l=Ph.get(a);if(l)var d=l.get(null);else{l=new Map,Ph.set(a,l);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var C=v[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),d=C)}d&&l.set(null,d)}v=i.instance,C=v.getAttribute("data-precedence"),b=l.get(C)||d,b===d&&l.set(null,v),l.set(C,v),this.count++,d=Uh.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),b?b.parentNode.insertBefore(v,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),i.state.loading|=4}}var Sd={$$typeof:D,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function D5(a,i,l,d,v,b,C,H,fe){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.hiddenUpdates=Tn(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function e2(a,i,l,d,v,b,C,H,fe,Oe,Ie,Ke){return a=new D5(a,i,l,C,fe,Oe,Ie,Ke,H),i=1,b===!0&&(i|=24),b=Ya(3,null,null,i),a.current=b,b.stateNode=a,i=sl(),i.refCount++,a.pooledCache=i,i.refCount++,b.memoizedState={element:d,isDehydrated:l,cache:i},rt(b),a}function t2(a){return a?(a=Ba,a):Ba}function r2(a,i,l,d,v,b){v=t2(v),d.context===null?d.context=v:d.pendingContext=v,d=Tt(i),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=Yt(a,d,i),l!==null&&(Yn(l,a,i),vr(l,a,i))}function a2(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<i?l:i}}function Q0(a,i){a2(a,i),(a=a.alternate)&&a2(a,i)}function n2(a){if(a.tag===13||a.tag===31){var i=cs(a,67108864);i!==null&&Yn(i,a,67108864),Q0(a,67108864)}}function i2(a){if(a.tag===13||a.tag===31){var i=fi();i=zr(i);var l=cs(a,i);l!==null&&Yn(l,a,i),Q0(a,i)}}var qh=!0;function M5(a,i,l,d){var v=Q.T;Q.T=null;var b=ue.p;try{ue.p=2,em(a,i,l,d)}finally{ue.p=b,Q.T=v}}function B5(a,i,l,d){var v=Q.T;Q.T=null;var b=ue.p;try{ue.p=8,em(a,i,l,d)}finally{ue.p=b,Q.T=v}}function em(a,i,l,d){if(qh){var v=tm(d);if(v===null)q0(a,i,d,Ih,l),o2(a,d);else if(P5(v,a,i,l,d))d.stopPropagation();else if(o2(a,d),i&4&&-1<U5.indexOf(a)){for(;v!==null;){var b=ei(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=yt(b.pendingLanes);if(C!==0){var H=b;for(H.pendingLanes|=2,H.entangledLanes|=2;C;){var fe=1<<31-Xt(C);H.entanglements[1]|=fe,C&=~fe}Vs(b),(br&6)===0&&(Nh=at()+500,yd(0))}}break;case 31:case 13:H=cs(b,2),H!==null&&Yn(H,b,2),jh(),Q0(b,2)}if(b=tm(d),b===null&&q0(a,i,d,Ih,l),b===v)break;v=b}v!==null&&d.stopPropagation()}else q0(a,i,d,null,l)}}function tm(a){return a=no(a),rm(a)}var Ih=null;function rm(a){if(Ih=null,a=Qn(a),a!==null){var i=o(a);if(i===null)a=null;else{var l=i.tag;if(l===13){if(a=u(i),a!==null)return a;a=null}else if(l===31){if(a=h(i),a!==null)return a;a=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Ih=a,null}function s2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(At()){case nt:return 2;case it:return 8;case Et:case lt:return 32;case Ct:return 268435456;default:return 32}default:return 32}}var am=!1,bl=null,xl=null,wl=null,jd=new Map,Ad=new Map,_l=[],U5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o2(a,i){switch(a){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":xl=null;break;case"mouseover":case"mouseout":wl=null;break;case"pointerover":case"pointerout":jd.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ad.delete(i.pointerId)}}function Ed(a,i,l,d,v,b){return a===null||a.nativeEvent!==b?(a={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:b,targetContainers:[v]},i!==null&&(i=ei(i),i!==null&&n2(i)),a):(a.eventSystemFlags|=d,i=a.targetContainers,v!==null&&i.indexOf(v)===-1&&i.push(v),a)}function P5(a,i,l,d,v){switch(i){case"focusin":return bl=Ed(bl,a,i,l,d,v),!0;case"dragenter":return xl=Ed(xl,a,i,l,d,v),!0;case"mouseover":return wl=Ed(wl,a,i,l,d,v),!0;case"pointerover":var b=v.pointerId;return jd.set(b,Ed(jd.get(b)||null,a,i,l,d,v)),!0;case"gotpointercapture":return b=v.pointerId,Ad.set(b,Ed(Ad.get(b)||null,a,i,l,d,v)),!0}return!1}function l2(a){var i=Qn(a.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){a.blockedOn=i,As(a.priority,function(){i2(l)});return}}else if(i===31){if(i=h(l),i!==null){a.blockedOn=i,As(a.priority,function(){i2(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Fh(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var l=tm(a.nativeEvent);if(l===null){l=a.nativeEvent;var d=new l.constructor(l.type,l);Gi=d,l.target.dispatchEvent(d),Gi=null}else return i=ei(l),i!==null&&n2(i),a.blockedOn=l,!1;i.shift()}return!0}function c2(a,i,l){Fh(a)&&l.delete(i)}function z5(){am=!1,bl!==null&&Fh(bl)&&(bl=null),xl!==null&&Fh(xl)&&(xl=null),wl!==null&&Fh(wl)&&(wl=null),jd.forEach(c2),Ad.forEach(c2)}function $h(a,i){a.blockedOn===i&&(a.blockedOn=null,am||(am=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,z5)))}var Hh=null;function u2(a){Hh!==a&&(Hh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Hh===a&&(Hh=null);for(var i=0;i<a.length;i+=3){var l=a[i],d=a[i+1],v=a[i+2];if(typeof d!="function"){if(rm(d||l)===null)continue;break}var b=ei(l);b!==null&&(a.splice(i,3),i-=3,t0(b,{pending:!0,data:v,method:l.method,action:d},d,v))}}))}function xu(a){function i(fe){return $h(fe,a)}bl!==null&&$h(bl,a),xl!==null&&$h(xl,a),wl!==null&&$h(wl,a),jd.forEach(i),Ad.forEach(i);for(var l=0;l<_l.length;l++){var d=_l[l];d.blockedOn===a&&(d.blockedOn=null)}for(;0<_l.length&&(l=_l[0],l.blockedOn===null);)l2(l),l.blockedOn===null&&_l.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var v=l[d],b=l[d+1],C=v[Ir]||null;if(typeof b=="function")C||u2(l);else if(C){var H=null;if(b&&b.hasAttribute("formAction")){if(v=b,C=b[Ir]||null)H=C.formAction;else if(rm(v)!==null)continue}else H=C.action;typeof H=="function"?l[d+1]=H:(l.splice(d,3),d-=3),u2(l)}}}function d2(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return v=C})},focusReset:"manual",scroll:"manual"})}function i(){v!==null&&(v(),v=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),v!==null&&(v(),v=null)}}}function nm(a){this._internalRoot=a}Vh.prototype.render=nm.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(n(409));var l=i.current,d=fi();r2(l,d,a,i,null,null)},Vh.prototype.unmount=nm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;r2(a.current,2,null,a,null,null),jh(),i[Va]=null}};function Vh(a){this._internalRoot=a}Vh.prototype.unstable_scheduleHydration=function(a){if(a){var i=Aa();a={blockedOn:null,target:a,priority:i};for(var l=0;l<_l.length&&i!==0&&i<_l[l].priority;l++);_l.splice(l,0,a),l===0&&l2(a)}};var h2=e.version;if(h2!=="19.2.3")throw Error(n(527,h2,"19.2.3"));ue.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=m(i),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var q5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{Pt=Gh.inject(q5),Nt=Gh}catch{}}return kd.createRoot=function(a,i){if(!s(a))throw Error(n(299));var l=!1,d="",v=bg,b=xg,C=wg;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(v=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),i=e2(a,1,!1,null,null,l,d,null,v,b,C,d2),a[Va]=i.current,z0(a),new nm(i)},kd.hydrateRoot=function(a,i,l){if(!s(a))throw Error(n(299));var d=!1,v="",b=bg,C=xg,H=wg,fe=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(H=l.onRecoverableError),l.formState!==void 0&&(fe=l.formState)),i=e2(a,1,!0,i,l??null,d,v,fe,b,C,H,d2),i.context=t2(null),l=i.current,d=fi(),d=zr(d),v=Tt(d),v.callback=null,Yt(l,v,d),l=d,i.current.lanes=l,wt(i,l),Vs(i),a[Va]=i.current,z0(a),new Vh(i)},kd.version="19.2.3",kd}var _2;function Z5(){if(_2)return om.exports;_2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),om.exports=X5(),om.exports}var Q5=Z5();const ew=Ry(Q5);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N2="popstate";function tw(t={}){function e(s,o){let{pathname:u="/",search:h="",hash:f=""}=Cc(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Xm("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){let u=s.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=s.location.href,m=f.indexOf("#");h=m===-1?f:f.slice(0,m)}return h+"#"+(typeof o=="string"?o:zd(o))}function n(s,o){xi(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return aw(e,r,n,t)}function Qr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rw(){return Math.random().toString(36).substring(2,10)}function S2(t,e){return{usr:t.state,key:t.key,idx:e}}function Xm(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cc(e):e,state:r,key:e&&e.key||n||rw()}}function zd({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Cc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function aw(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,u=s.history,h="POP",f=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function w(){h="POP";let O=g(),R=O==null?null:O-m;m=O,f&&f({action:h,location:k.location,delta:R})}function N(O,R){h="PUSH";let G=Xm(k.location,O,R);r&&r(G,O),m=g()+1;let D=S2(G,m),W=k.createHref(G);try{u.pushState(D,"",W)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;s.location.assign(W)}o&&f&&f({action:h,location:k.location,delta:1})}function x(O,R){h="REPLACE";let G=Xm(k.location,O,R);r&&r(G,O),m=g();let D=S2(G,m),W=k.createHref(G);u.replaceState(D,"",W),o&&f&&f({action:h,location:k.location,delta:0})}function T(O){return nw(O)}let k={get action(){return h},get location(){return t(s,u)},listen(O){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(N2,w),f=O,()=>{s.removeEventListener(N2,w),f=null}},createHref(O){return e(s,O)},createURL:T,encodeLocation(O){let R=T(O);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:N,replace:x,go(O){return u.go(O)}};return k}function nw(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Qr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:zd(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Oy(t,e,r="/"){return iw(t,e,r,!1)}function iw(t,e,r,n){let s=typeof e=="string"?Cc(e):e,o=qo(s.pathname||"/",r);if(o==null)return null;let u=Dy(t);sw(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=vw(o);h=pw(u[f],m,n)}return h}function Dy(t,e=[],r=[],n="",s=!1){let o=(u,h,f=s,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&f)return;Qr(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let w=Po([n,g.relativePath]),N=r.concat(g);u.children&&u.children.length>0&&(Qr(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Dy(u.children,e,N,w,f)),!(u.path==null&&!u.index)&&e.push({path:w,score:fw(w,u.index),routesMeta:N})};return t.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,h);else for(let m of My(u.path))o(u,h,!0,m)}),e}function My(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let u=My(n.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function sw(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:mw(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var ow=/^:[\w-]+$/,lw=3,cw=2,uw=1,dw=10,hw=-2,j2=t=>t==="*";function fw(t,e){let r=t.split("/"),n=r.length;return r.some(j2)&&(n+=hw),e&&(n+=cw),r.filter(s=>!j2(s)).reduce((s,o)=>s+(ow.test(o)?lw:o===""?uw:dw),n)}function mw(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function pw(t,e,r=!1){let{routesMeta:n}=t,s={},o="/",u=[];for(let h=0;h<n.length;++h){let f=n[h],m=h===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",w=Nf({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),N=f.route;if(!w&&m&&r&&!n[n.length-1].route.index&&(w=Nf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:Po([o,w.pathname]),pathnameBase:ww(Po([o,w.pathnameBase])),route:N}),w.pathnameBase!=="/"&&(o=Po([o,w.pathnameBase]))}return u}function Nf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=gw(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:n.reduce((m,{paramName:g,isOptional:w},N)=>{if(g==="*"){let T=h[N]||"";u=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const x=h[N];return w&&!x?m[g]=void 0:m[g]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:t}}function gw(t,e=!1,r=!0){xi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(n.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function vw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var By=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yw=t=>By.test(t);function bw(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Cc(t):t,o;if(r)if(yw(r))o=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),xi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${r}`)}r.startsWith("/")?o=A2(r.substring(1),"/"):o=A2(r,e)}else o=e;return{pathname:o,search:_w(n),hash:Nw(s)}}function A2(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function dm(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xw(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Rp(t){let e=xw(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Op(t,e,r,n=!1){let s;typeof t=="string"?s=Cc(t):(s={...t},Qr(!s.pathname||!s.pathname.includes("?"),dm("?","pathname","search",s)),Qr(!s.pathname||!s.pathname.includes("#"),dm("#","pathname","hash",s)),Qr(!s.search||!s.search.includes("#"),dm("#","search","hash",s)));let o=t===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=r;else{let w=e.length-1;if(!n&&u.startsWith("..")){let N=u.split("/");for(;N[0]==="..";)N.shift(),w-=1;s.pathname=N.join("/")}h=w>=0?e[w]:"/"}let f=bw(s,h),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}var Po=t=>t.join("/").replace(/\/\/+/g,"/"),ww=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_w=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Nw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Sw=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function jw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Aw(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Uy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Py(t,e){let r=t;if(typeof r!="string"||!By.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,s=!1;if(Uy)try{let o=new URL(window.location.href),u=r.startsWith("//")?new URL(o.protocol+r):new URL(r),h=qo(u.pathname,e);u.origin===o.origin&&h!=null?r=h+u.search+u.hash:s=!0}catch{xi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:s,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zy=["POST","PUT","PATCH","DELETE"];new Set(zy);var Ew=["GET",...zy];new Set(Ew);var Hu=X.createContext(null);Hu.displayName="DataRouter";var Bf=X.createContext(null);Bf.displayName="DataRouterState";var Cw=X.createContext(!1),qy=X.createContext({isTransitioning:!1});qy.displayName="ViewTransition";var kw=X.createContext(new Map);kw.displayName="Fetchers";var Tw=X.createContext(null);Tw.displayName="Await";var wi=X.createContext(null);wi.displayName="Navigation";var Jd=X.createContext(null);Jd.displayName="Location";var Ns=X.createContext({outlet:null,matches:[],isDataRoute:!1});Ns.displayName="Route";var Dp=X.createContext(null);Dp.displayName="RouteError";var Iy="REACT_ROUTER_ERROR",Lw="REDIRECT",Rw="ROUTE_ERROR_RESPONSE";function Ow(t){if(t.startsWith(`${Iy}:${Lw}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Dw(t){if(t.startsWith(`${Iy}:${Rw}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Sw(e.status,e.statusText,e.data)}catch{}}function Mw(t,{relative:e}={}){Qr(Vu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=X.useContext(wi),{hash:s,pathname:o,search:u}=Xd(t,{relative:e}),h=o;return r!=="/"&&(h=o==="/"?r:Po([r,o])),n.createHref({pathname:h,search:u,hash:s})}function Vu(){return X.useContext(Jd)!=null}function Ol(){return Qr(Vu(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Jd).location}var Fy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $y(t){X.useContext(wi).static||X.useLayoutEffect(t)}function Uf(){let{isDataRoute:t}=X.useContext(Ns);return t?Kw():Bw()}function Bw(){Qr(Vu(),"useNavigate() may be used only in the context of a <Router> component.");let t=X.useContext(Hu),{basename:e,navigator:r}=X.useContext(wi),{matches:n}=X.useContext(Ns),{pathname:s}=Ol(),o=JSON.stringify(Rp(n)),u=X.useRef(!1);return $y(()=>{u.current=!0}),X.useCallback((f,m={})=>{if(xi(u.current,Fy),!u.current)return;if(typeof f=="number"){r.go(f);return}let g=Op(f,JSON.parse(o),s,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Po([e,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[e,r,o,s,t])}X.createContext(null);function Uw(){let{matches:t}=X.useContext(Ns),e=t[t.length-1];return e?e.params:{}}function Xd(t,{relative:e}={}){let{matches:r}=X.useContext(Ns),{pathname:n}=Ol(),s=JSON.stringify(Rp(r));return X.useMemo(()=>Op(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function Pw(t,e){return Hy(t,e)}function Hy(t,e,r,n,s){var G;Qr(Vu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=X.useContext(wi),{matches:u}=X.useContext(Ns),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",w=h&&h.route;{let D=w&&w.path||"";Gy(m,!w||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let N=Ol(),x;if(e){let D=typeof e=="string"?Cc(e):e;Qr(g==="/"||((G=D.pathname)==null?void 0:G.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),x=D}else x=N;let T=x.pathname||"/",k=T;if(g!=="/"){let D=g.replace(/^\//,"").split("/");k="/"+T.replace(/^\//,"").split("/").slice(D.length).join("/")}let O=Oy(t,{pathname:k});xi(w||O!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),xi(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=$w(O&&O.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:Po([g,o.encodeLocation?o.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:Po([g,o.encodeLocation?o.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),u,r,n,s);return e&&R?X.createElement(Jd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},R):R}function zw(){let t=Yw(),e=jw(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:o},"ErrorBoundary")," or"," ",X.createElement("code",{style:o},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),r?X.createElement("pre",{style:s},r):null,u)}var qw=X.createElement(zw,null),Vy=class extends X.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=Dw(t.digest);r&&(t=r)}let e=t!==void 0?X.createElement(Ns.Provider,{value:this.props.routeContext},X.createElement(Dp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?X.createElement(Iw,{error:t},e):e}};Vy.contextType=Cw;var hm=new WeakMap;function Iw({children:t,error:e}){let{basename:r}=X.useContext(wi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=Ow(e.digest);if(n){let s=hm.get(e);if(s)throw s;let o=Py(n.location,r);if(Uy&&!hm.get(e))if(o.isExternal||n.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:n.replace}));throw hm.set(e,u),u}return X.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function Fw({routeContext:t,match:e,children:r}){let n=X.useContext(Hu);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(Ns.Provider,{value:t},r)}function $w(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,u=r==null?void 0:r.errors;if(u!=null){let g=o.findIndex(w=>w.route.id&&(u==null?void 0:u[w.route.id])!==void 0);Qr(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(r)for(let g=0;g<o.length;g++){let w=o[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=g),w.route.id){let{loaderData:N,errors:x}=r,T=w.route.loader&&!N.hasOwnProperty(w.route.id)&&(!x||x[w.route.id]===void 0);if(w.route.lazy||T){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let m=r&&n?(g,w)=>{var N,x;n(g,{location:r.location,params:((x=(N=r.matches)==null?void 0:N[0])==null?void 0:x.params)??{},unstable_pattern:Aw(r.matches),errorInfo:w})}:void 0;return o.reduceRight((g,w,N)=>{let x,T=!1,k=null,O=null;r&&(x=u&&w.route.id?u[w.route.id]:void 0,k=w.route.errorElement||qw,h&&(f<0&&N===0?(Gy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,O=null):f===N&&(T=!0,O=w.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,N+1)),G=()=>{let D;return x?D=k:T?D=O:w.route.Component?D=X.createElement(w.route.Component,null):w.route.element?D=w.route.element:D=g,X.createElement(Fw,{match:w,routeContext:{outlet:g,matches:R,isDataRoute:r!=null},children:D})};return r&&(w.route.ErrorBoundary||w.route.errorElement||N===0)?X.createElement(Vy,{location:r.location,revalidation:r.revalidation,component:k,error:x,children:G(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:m}):G()},null)}function Mp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hw(t){let e=X.useContext(Hu);return Qr(e,Mp(t)),e}function Vw(t){let e=X.useContext(Bf);return Qr(e,Mp(t)),e}function Gw(t){let e=X.useContext(Ns);return Qr(e,Mp(t)),e}function Bp(t){let e=Gw(t),r=e.matches[e.matches.length-1];return Qr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Ww(){return Bp("useRouteId")}function Yw(){var n;let t=X.useContext(Dp),e=Vw("useRouteError"),r=Bp("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Kw(){let{router:t}=Hw("useNavigate"),e=Bp("useNavigate"),r=X.useRef(!1);return $y(()=>{r.current=!0}),X.useCallback(async(s,o={})=>{xi(r.current,Fy),r.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var E2={};function Gy(t,e,r){!e&&!E2[t]&&(E2[t]=!0,xi(!1,r))}X.memo(Jw);function Jw({routes:t,future:e,state:r,onError:n}){return Hy(t,void 0,r,n,e)}function Xw({to:t,replace:e,state:r,relative:n}){Qr(Vu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=X.useContext(wi);xi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=X.useContext(Ns),{pathname:u}=Ol(),h=Uf(),f=Op(t,Rp(o),u,n==="path"),m=JSON.stringify(f);return X.useEffect(()=>{h(JSON.parse(m),{replace:e,state:r,relative:n})},[h,m,n,e,r]),null}function uf(t){Qr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zw({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){Qr(!Vu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),f=X.useMemo(()=>({basename:h,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[h,s,o,u]);typeof r=="string"&&(r=Cc(r));let{pathname:m="/",search:g="",hash:w="",state:N=null,key:x="default"}=r,T=X.useMemo(()=>{let k=qo(m,h);return k==null?null:{location:{pathname:k,search:g,hash:w,state:N,key:x},navigationType:n}},[h,m,g,w,N,x,n]);return xi(T!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${w}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:X.createElement(wi.Provider,{value:f},X.createElement(Jd.Provider,{children:e,value:T}))}function Qw({children:t,location:e}){return Pw(Zm(t),e)}function Zm(t,e=[]){let r=[];return X.Children.forEach(t,(n,s)=>{if(!X.isValidElement(n))return;let o=[...e,s];if(n.type===X.Fragment){r.push.apply(r,Zm(n.props.children,o));return}Qr(n.type===uf,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=Zm(n.props.children,o)),r.push(u)}),r}var df="get",hf="application/x-www-form-urlencoded";function Pf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function e4(t){return Pf(t)&&t.tagName.toLowerCase()==="button"}function t4(t){return Pf(t)&&t.tagName.toLowerCase()==="form"}function r4(t){return Pf(t)&&t.tagName.toLowerCase()==="input"}function a4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function n4(t,e){return t.button===0&&(!e||e==="_self")&&!a4(t)}var Wh=null;function i4(){if(Wh===null)try{new FormData(document.createElement("form"),0),Wh=!1}catch{Wh=!0}return Wh}var s4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(t){return t!=null&&!s4.has(t)?(xi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hf}"`),null):t}function o4(t,e){let r,n,s,o,u;if(t4(t)){let h=t.getAttribute("action");n=h?qo(h,e):null,r=t.getAttribute("method")||df,s=fm(t.getAttribute("enctype"))||hf,o=new FormData(t)}else if(e4(t)||r4(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(n=f?qo(f,e):null,r=t.getAttribute("formmethod")||h.getAttribute("method")||df,s=fm(t.getAttribute("formenctype"))||fm(h.getAttribute("enctype"))||hf,o=new FormData(h,t),!i4()){let{name:m,type:g,value:w}=t;if(g==="image"){let N=m?`${m}.`:"";o.append(`${N}x`,"0"),o.append(`${N}y`,"0")}else m&&o.append(m,w)}}else{if(Pf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=df,n=null,s=hf,u=t}return o&&s==="text/plain"&&(u=o,o=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Up(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function l4(t,e,r,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${n}`:s.pathname=`${s.pathname}.${n}`:s.pathname==="/"?s.pathname=`_root.${n}`:e&&qo(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function c4(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function d4(t,e,r){let n=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await c4(o,r);return u.links?u.links():[]}return[]}));return p4(n.flat(1).filter(u4).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function C2(t,e,r,n,s,o){let u=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,h=(f,m)=>{var g;return r[m].pathname!==f.pathname||((g=r[m].route.path)==null?void 0:g.endsWith("*"))&&r[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):o==="data"?e.filter((f,m)=>{var w;let g=n.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let N=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=r[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function h4(t,e,{includeHydrateFallback:r}={}){return f4(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function f4(t){return[...new Set(t)]}function m4(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function p4(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let o=JSON.stringify(m4(s));return r.has(o)||(r.add(o),n.push({key:o,link:s})),n},[])}function Wy(){let t=X.useContext(Hu);return Up(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function g4(){let t=X.useContext(Bf);return Up(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pp=X.createContext(void 0);Pp.displayName="FrameworkContext";function Yy(){let t=X.useContext(Pp);return Up(t,"You must render this element inside a <HydratedRouter> element"),t}function v4(t,e){let r=X.useContext(Pp),[n,s]=X.useState(!1),[o,u]=X.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:g,onTouchStart:w}=e,N=X.useRef(null);X.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let k=R=>{R.forEach(G=>{u(G.isIntersecting)})},O=new IntersectionObserver(k,{threshold:.5});return N.current&&O.observe(N.current),()=>{O.disconnect()}}},[t]),X.useEffect(()=>{if(n){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[n]);let x=()=>{s(!0)},T=()=>{s(!1),u(!1)};return r?t!=="intent"?[o,N,{}]:[o,N,{onFocus:Td(h,x),onBlur:Td(f,T),onMouseEnter:Td(m,x),onMouseLeave:Td(g,T),onTouchStart:Td(w,x)}]:[!1,N,{}]}function Td(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function y4({page:t,...e}){let{router:r}=Wy(),n=X.useMemo(()=>Oy(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?X.createElement(x4,{page:t,matches:n,...e}):null}function b4(t){let{manifest:e,routeModules:r}=Yy(),[n,s]=X.useState([]);return X.useEffect(()=>{let o=!1;return d4(t,e,r).then(u=>{o||s(u)}),()=>{o=!0}},[t,e,r]),n}function x4({page:t,matches:e,...r}){let n=Ol(),{future:s,manifest:o,routeModules:u}=Yy(),{basename:h}=Wy(),{loaderData:f,matches:m}=g4(),g=X.useMemo(()=>C2(t,e,m,o,n,"data"),[t,e,m,o,n]),w=X.useMemo(()=>C2(t,e,m,o,n,"assets"),[t,e,m,o,n]),N=X.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let k=new Set,O=!1;if(e.forEach(G=>{var W;let D=o.routes[G.route.id];!D||!D.hasLoader||(!g.some(ie=>ie.route.id===G.route.id)&&G.route.id in f&&((W=u[G.route.id])!=null&&W.shouldRevalidate)||D.hasClientLoader?O=!0:k.add(G.route.id))}),k.size===0)return[];let R=l4(t,h,s.unstable_trailingSlashAwareDataRequests,"data");return O&&k.size>0&&R.searchParams.set("_routes",e.filter(G=>k.has(G.route.id)).map(G=>G.route.id).join(",")),[R.pathname+R.search]},[h,s.unstable_trailingSlashAwareDataRequests,f,n,o,g,e,t,u]),x=X.useMemo(()=>h4(w,o),[w,o]),T=b4(w);return X.createElement(X.Fragment,null,N.map(k=>X.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),x.map(k=>X.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),T.map(({key:k,link:O})=>X.createElement("link",{key:k,nonce:r.nonce,...O})))}function w4(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var _4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_4&&(window.__reactRouterVersion="7.12.0")}catch{}function N4({basename:t,children:e,unstable_useTransitions:r,window:n}){let s=X.useRef();s.current==null&&(s.current=tw({window:n,v5Compat:!0}));let o=s.current,[u,h]=X.useState({action:o.action,location:o.location}),f=X.useCallback(m=>{r===!1?h(m):X.startTransition(()=>h(m))},[r]);return X.useLayoutEffect(()=>o.listen(f),[o,f]),X.createElement(Zw,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:r})}var Ky=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jy=X.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:o,replace:u,state:h,target:f,to:m,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:N,...x},T){let{basename:k,unstable_useTransitions:O}=X.useContext(wi),R=typeof m=="string"&&Ky.test(m),G=Py(m,k);m=G.to;let D=Mw(m,{relative:s}),[W,ie,se]=v4(n,x),K=E4(m,{replace:u,state:h,target:f,preventScrollReset:g,relative:s,viewTransition:w,unstable_defaultShouldRevalidate:N,unstable_useTransitions:O});function Z(ye){e&&e(ye),ye.defaultPrevented||K(ye)}let V=X.createElement("a",{...x,...se,href:G.absoluteURL||D,onClick:G.isExternal||o?e:Z,ref:w4(T,ie),target:f,"data-discover":!R&&r==="render"?"true":void 0});return W&&!R?X.createElement(X.Fragment,null,V,X.createElement(y4,{page:D})):V});Jy.displayName="Link";var S4=X.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:o,to:u,viewTransition:h,children:f,...m},g){let w=Xd(u,{relative:m.relative}),N=Ol(),x=X.useContext(Bf),{navigator:T,basename:k}=X.useContext(wi),O=x!=null&&R4(w)&&h===!0,R=T.encodeLocation?T.encodeLocation(w).pathname:w.pathname,G=N.pathname,D=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(G=G.toLowerCase(),D=D?D.toLowerCase():null,R=R.toLowerCase()),D&&k&&(D=qo(D,k)||D);const W=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let ie=G===R||!s&&G.startsWith(R)&&G.charAt(W)==="/",se=D!=null&&(D===R||!s&&D.startsWith(R)&&D.charAt(R.length)==="/"),K={isActive:ie,isPending:se,isTransitioning:O},Z=ie?e:void 0,V;typeof n=="function"?V=n(K):V=[n,ie?"active":null,se?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let ye=typeof o=="function"?o(K):o;return X.createElement(Jy,{...m,"aria-current":Z,className:V,ref:g,style:ye,to:u,viewTransition:h},typeof f=="function"?f(K):f)});S4.displayName="NavLink";var j4=X.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:o,method:u=df,action:h,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:N,...x},T)=>{let{unstable_useTransitions:k}=X.useContext(wi),O=T4(),R=L4(h,{relative:m}),G=u.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&Ky.test(h),W=ie=>{if(f&&f(ie),ie.defaultPrevented)return;ie.preventDefault();let se=ie.nativeEvent.submitter,K=(se==null?void 0:se.getAttribute("formmethod"))||u,Z=()=>O(se||ie.currentTarget,{fetcherKey:e,method:K,navigate:r,replace:s,state:o,relative:m,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:N});k&&r!==!1?X.startTransition(()=>Z()):Z()};return X.createElement("form",{ref:T,method:G,action:R,onSubmit:n?f:W,...x,"data-discover":!D&&t==="render"?"true":void 0})});j4.displayName="Form";function A4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xy(t){let e=X.useContext(Hu);return Qr(e,A4(t)),e}function E4(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let m=Uf(),g=Ol(),w=Xd(t,{relative:o});return X.useCallback(N=>{if(n4(N,e)){N.preventDefault();let x=r!==void 0?r:zd(g)===zd(w),T=()=>m(t,{replace:x,state:n,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h});f?X.startTransition(()=>T()):T()}},[g,m,w,r,n,e,t,s,o,u,h,f])}var C4=0,k4=()=>`__${String(++C4)}__`;function T4(){let{router:t}=Xy("useSubmit"),{basename:e}=X.useContext(wi),r=Ww(),n=t.fetch,s=t.navigate;return X.useCallback(async(o,u={})=>{let{action:h,method:f,encType:m,formData:g,body:w}=o4(o,e);if(u.navigate===!1){let N=u.fetcherKey||k4();await n(N,r,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:w,formMethod:u.method||f,formEncType:u.encType||m,flushSync:u.flushSync})}else await s(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:w,formMethod:u.method||f,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[n,s,e,r])}function L4(t,{relative:e}={}){let{basename:r}=X.useContext(wi),n=X.useContext(Ns);Qr(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...Xd(t||".",{relative:e})},u=Ol();if(t==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(w=>w).forEach(w=>h.append("index",w));let g=h.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Po([r,o.pathname])),zd(o)}function R4(t,{relative:e}={}){let r=X.useContext(qy);Qr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Xy("useViewTransitionState"),s=Xd(t,{relative:e});if(!r.isTransitioning)return!1;let o=qo(r.currentLocation.pathname,n)||r.currentLocation.pathname,u=qo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Nf(s.pathname,u)!=null||Nf(s.pathname,o)!=null}function zf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function O4(t,e,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function h(g){try{m(n.next(g))}catch(w){u(w)}}function f(g){try{m(n.throw(g))}catch(w){u(w)}}function m(g){g.done?o(g.value):s(g.value).then(h,f)}m((n=n.apply(t,e||[])).next())})}const D4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class zp extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class M4 extends zp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class k2 extends zp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class T2 extends zp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Qm;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Qm||(Qm={}));class B4{constructor(e,{headers:r={},customFetch:n,region:s=Qm.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=D4(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return O4(this,arguments,void 0,function*(r,n={}){var s;let o,u;try{const{headers:h,method:f,body:m,signal:g,timeout:w}=n;let N={},{region:x}=n;x||(x=this.region);const T=new URL(`${this.url}/${r}`);x&&x!=="any"&&(N["x-region"]=x,T.searchParams.set("forceFunctionRegion",x));let k;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",k=m):typeof m=="string"?(N["Content-Type"]="text/plain",k=m):typeof FormData<"u"&&m instanceof FormData?k=m:(N["Content-Type"]="application/json",k=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?k=JSON.stringify(m):k=m;let O=g;w&&(u=new AbortController,o=setTimeout(()=>u.abort(),w),g?(O=u.signal,g.addEventListener("abort",()=>u.abort())):O=u.signal);const R=yield this.fetch(T.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),h),body:k,signal:O}).catch(ie=>{throw new M4(ie)}),G=R.headers.get("x-relay-error");if(G&&G==="true")throw new k2(R);if(!R.ok)throw new T2(R);let D=((s=R.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),W;return D==="application/json"?W=yield R.json():D==="application/octet-stream"||D==="application/pdf"?W=yield R.blob():D==="text/event-stream"?W=R:D==="multipart/form-data"?W=yield R.formData():W=yield R.text(),{data:W,error:null,response:R}}catch(h){return{data:null,error:h,response:h instanceof T2||h instanceof k2?h.context:void 0}}finally{o&&clearTimeout(o)}})}}var U4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},P4=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let u=null,h=null,f=null,m=o.status,g=o.statusText;if(o.ok){var w,N;if(r.method!=="HEAD"){var x;const R=await o.text();R===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?h=R:h=JSON.parse(R))}const k=(w=r.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),O=(N=o.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");k&&O&&O.length>1&&(f=parseInt(O[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var T;const k=await o.text();try{u=JSON.parse(k),Array.isArray(u)&&o.status===404&&(h=[],u=null,m=200,g="OK")}catch{o.status===404&&k===""?(m=204,g="No Content"):u={message:k}}if(u&&r.isMaybeSingle&&(!(u==null||(T=u.details)===null||T===void 0)&&T.includes("0 rows"))&&(u=null,m=200,g="OK"),u&&r.shouldThrowOnError)throw new U4(u)}return{error:u,data:h,count:f,status:m,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var u;let h="";const f=o==null?void 0:o.cause;if(f){var m,g,w,N;const T=(m=f==null?void 0:f.message)!==null&&m!==void 0?m:"",k=(g=f==null?void 0:f.code)!==null&&g!==void 0?g:"";h=`${(w=o==null?void 0:o.name)!==null&&w!==void 0?w:"FetchError"}: ${o==null?void 0:o.message}`,h+=`

Caused by: ${(N=f==null?void 0:f.name)!==null&&N!==void 0?N:"Error"}: ${T}`,k&&(h+=` (${k})`),f!=null&&f.stack&&(h+=`
${f.stack}`)}else{var x;h=(x=o==null?void 0:o.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(u=o==null?void 0:o.name)!==null&&u!==void 0?u:"FetchError"}: ${o==null?void 0:o.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},z4=class extends P4{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var u;const h=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${f}"; options=${h};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const L2=new RegExp("[,()]");var Tu=class extends z4{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&L2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&L2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},q4=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let o=!1;const u=(t??"*").split("").map(m=>/\s/.test(m)&&!o?"":(m==='"'&&(o=!o),m)).join(""),{url:h,headers:f}=this.cloneRequestState();return h.searchParams.set("select",u),n&&f.append("Prefer",`count=${n}`),new Tu({method:s,url:h,headers:f,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:o,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),r||u.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);o.searchParams.set("columns",f.join(","))}}return new Tu({method:s,url:o,headers:u,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const u="POST",{url:h,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&h.searchParams.set("on_conflict",e),n&&f.append("Prefer",`count=${n}`),s||f.append("Prefer","missing=default"),Array.isArray(t)){const m=t.reduce((g,w)=>g.concat(Object.keys(w)),[]);if(m.length>0){const g=[...new Set(m)].map(w=>`"${w}"`);h.searchParams.set("columns",g.join(","))}}return new Tu({method:u,url:h,headers:f,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Tu({method:n,url:s,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Tu({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},I4=class Zy{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new q4(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Zy(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){var u;let h;const f=new URL(`${this.url}/rpc/${e}`);let m;const g=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(g)),w=n&&Object.values(r).some(g);w?(h="POST",m=r):n||s?(h=n?"HEAD":"GET",Object.entries(r).filter(([x,T])=>T!==void 0).map(([x,T])=>[x,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([x,T])=>{f.searchParams.append(x,T)})):(h="POST",m=r);const N=new Headers(this.headers);return w?N.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&N.set("Prefer",`count=${o}`),new Tu({method:h,url:f,headers:N,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class F4{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $4="2.90.1",H4=`realtime-js/${$4}`,Qy="1.0.0",V4="2.0.0",R2=Qy,ep=1e4,G4=1e3,W4=100;var Al;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Al||(Al={}));var Fa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Fa||(Fa={}));var ws;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ws||(ws={}));var tp;(function(t){t.websocket="websocket"})(tp||(tp={}));var vc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vc||(vc={}));class Y4{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},u=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,n){var s,o;const u=e.topic,h=(s=e.ref)!==null&&s!==void 0?s:"",f=(o=e.join_ref)!==null&&o!==void 0?o:"",m=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},w=Object.keys(g).length===0?"":JSON.stringify(g);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+u.length+m.length+w.length,x=new ArrayBuffer(this.HEADER_LENGTH+N);let T=new DataView(x),k=0;T.setUint8(k++,this.KINDS.userBroadcastPush),T.setUint8(k++,f.length),T.setUint8(k++,h.length),T.setUint8(k++,u.length),T.setUint8(k++,m.length),T.setUint8(k++,w.length),T.setUint8(k++,r),Array.from(f,R=>T.setUint8(k++,R.charCodeAt(0))),Array.from(h,R=>T.setUint8(k++,R.charCodeAt(0))),Array.from(u,R=>T.setUint8(k++,R.charCodeAt(0))),Array.from(m,R=>T.setUint8(k++,R.charCodeAt(0))),Array.from(w,R=>T.setUint8(k++,R.charCodeAt(0)));var O=new Uint8Array(x.byteLength+n.byteLength);return O.set(new Uint8Array(x),0),O.set(new Uint8Array(n),x.byteLength),O.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,o,u,h,f]=n;return r({join_ref:s,ref:o,topic:u,event:h,payload:f})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2),u=r.getUint8(3),h=r.getUint8(4);let f=this.HEADER_LENGTH+4;const m=n.decode(e.slice(f,f+s));f=f+s;const g=n.decode(e.slice(f,f+o));f=f+o;const w=n.decode(e.slice(f,f+u));f=f+u;const N=e.slice(f,e.byteLength),x=h===this.JSON_ENCODING?JSON.parse(n.decode(N)):N,T={type:this.BROADCAST_EVENT,event:g,payload:x};return u>0&&(T.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:T}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class eb{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(qr||(qr={}));const O2=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,u)=>(o[u]=K4(u,t,e,s),o),{}):{}},K4=(t,e,r,n)=>{const s=e.find(h=>h.name===t),o=s==null?void 0:s.type,u=r[t];return o&&!n.includes(o)?tb(o,u):rp(u)},tb=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Q4(e,r)}switch(t){case qr.bool:return J4(e);case qr.float4:case qr.float8:case qr.int2:case qr.int4:case qr.int8:case qr.numeric:case qr.oid:return X4(e);case qr.json:case qr.jsonb:return Z4(e);case qr.timestamp:return e3(e);case qr.abstime:case qr.date:case qr.daterange:case qr.int4range:case qr.int8range:case qr.money:case qr.reltime:case qr.text:case qr.time:case qr.timestamptz:case qr.timetz:case qr.tsrange:case qr.tstzrange:return rp(e);default:return rp(e)}},rp=t=>t,J4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},X4=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Z4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Q4=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const u=t.slice(1,r);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(h=>tb(e,h))}return t},e3=t=>typeof t=="string"?t.replace(" ","T"):t,rb=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class mm{constructor(e,r,n={},s=ep){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var D2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(D2||(D2={}));class Dd{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dd.syncState(this.state,s,o,u),this.pendingDiffs.forEach(f=>{this.state=Dd.syncDiff(this.state,f,o,u)}),this.pendingDiffs=[],h()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Dd.syncDiff(this.state,s,o,u),h())}),this.onJoin((s,o,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:u})}),this.onLeave((s,o,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),u=this.transformState(r),h={},f={};return this.map(o,(m,g)=>{u[m]||(f[m]=g)}),this.map(u,(m,g)=>{const w=o[m];if(w){const N=g.map(O=>O.presence_ref),x=w.map(O=>O.presence_ref),T=g.filter(O=>x.indexOf(O.presence_ref)<0),k=w.filter(O=>N.indexOf(O.presence_ref)<0);T.length>0&&(h[m]=T),k.length>0&&(f[m]=k)}else h[m]=g}),this.syncDiff(o,{joins:h,leaves:f},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(h,f)=>{var m;const g=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(f),g.length>0){const w=e[h].map(x=>x.presence_ref),N=g.filter(x=>w.indexOf(x.presence_ref)<0);e[h].unshift(...N)}n(h,g,f)}),this.map(u,(h,f)=>{let m=e[h];if(!m)return;const g=f.map(w=>w.presence_ref);m=m.filter(w=>g.indexOf(w.presence_ref)<0),e[h]=m,s(h,m,f),m.length===0&&delete e[h]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var M2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(M2||(M2={}));var Md;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Md||(Md={}));var Do;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Do||(Do={}));class Mu{constructor(e,r={config:{}},n){var s,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Fa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mm(this,ws.join,this.params,this.timeout),this.rejoinTimer=new eb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fa.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Fa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Fa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ws.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Dd(this),this.broadcastEndpointURL=rb(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Fa.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,m=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&s!==void 0?s:[],g=!!this.bindings[Md.PRESENCE]&&this.bindings[Md.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,w={},N={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(Do.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(Do.CLOSED)),this.updateJoinPayload(Object.assign({config:N},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var T;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e==null||e(Do.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,O=(T=k==null?void 0:k.length)!==null&&T!==void 0?T:0,R=[];for(let G=0;G<O;G++){const D=k[G],{filter:{event:W,schema:ie,table:se,filter:K}}=D,Z=x&&x[G];if(Z&&Z.event===W&&Mu.isFilterValueEqual(Z.schema,ie)&&Mu.isFilterValueEqual(Z.table,se)&&Mu.isFilterValueEqual(Z.filter,K))R.push(Object.assign(Object.assign({},D),{id:Z.id}));else{this.unsubscribe(),this.state=Fa.errored,e==null||e(Do.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(Do.SUBSCRIBED);return}}).receive("error",x=>{this.state=Fa.errored,e==null||e(Do.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Do.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Fa.joined&&e===Md.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const m=await h.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,h,f;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fa.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ws.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new mm(this,ws.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fa.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),u}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new mm(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>W4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const u=e.toLocaleLowerCase(),{close:h,error:f,leave:m,join:g}=ws;if(n&&[h,f,m,g].indexOf(u)>=0&&n!==this._joinRef())return;let N=this._onMessage(u,r,n);if(r&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var T,k,O;return((T=x.filter)===null||T===void 0?void 0:T.event)==="*"||((O=(k=x.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(x=>x.callback(N,n)):(o=this.bindings[u])===null||o===void 0||o.filter(x=>{var T,k,O,R,G,D,W,ie;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in x){const se=x.id,K=(T=x.filter)===null||T===void 0?void 0:T.event;return se&&((k=r.ids)===null||k===void 0?void 0:k.includes(se))&&(K==="*"||(K==null?void 0:K.toLocaleLowerCase())===((O=r.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))&&(!(!((R=x.filter)===null||R===void 0)&&R.table)||x.filter.table===((G=r.data)===null||G===void 0?void 0:G.table))}else{const se=(W=(D=x==null?void 0:x.filter)===null||D===void 0?void 0:D.event)===null||W===void 0?void 0:W.toLocaleLowerCase();return se==="*"||se===((ie=r==null?void 0:r.event)===null||ie===void 0?void 0:ie.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===u}).map(x=>{if(typeof N=="object"&&"ids"in N){const T=N.data,{schema:k,table:O,commit_timestamp:R,type:G,errors:D}=T;N=Object.assign(Object.assign({},{schema:k,table:O,commit_timestamp:R,eventType:G,new:{},old:{},errors:D}),this._getPayloadRecords(T))}x.callback(N,n)})}_isClosed(){return this.state===Fa.closed}_isJoined(){return this.state===Fa.joined}_isJoining(){return this.state===Fa.joining}_isLeaving(){return this.state===Fa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Mu.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ws.close,{},e)}_onError(e){this._on(ws.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=O2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=O2(e.columns,e.old_record)),r}}const pm=()=>{},Yh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},t3=[1e3,2e3,5e3,1e4],r3=1e4,a3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class n3{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ep,this.transport=null,this.heartbeatIntervalMs=Yh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pm,this.ref=0,this.reconnectTimer=null,this.vsn=R2,this.logger=pm,this.conn=null,this.sendBuffer=[],this.serializer=new Y4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${tp.websocket}`,this.httpEndpoint=rb(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=F4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Al.connecting:return vc.Connecting;case Al.open:return vc.Open;case Al.closing:return vc.Closing;default:return vc.Closed}}isConnected(){return this.connectionState()===vc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Mu(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,u=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(G4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Yh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",m)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:o,ref:u}=r,h=u?`(${u})`:"",f=o.status||"";this.log("receive",`${f} ${n} ${s} ${h}`.trim(),o),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(s,o,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Al.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Al.open||this.conn.readyState===Al.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ws.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([a3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:H4};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(ws.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new eb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,u,h,f,m,g,w,N,x;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:ep,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Yh.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:pm,this.vsn=(f=e==null?void 0:e.vsn)!==null&&f!==void 0?f:R2,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e==null?void 0:e.reconnectAfterMs)!==null&&m!==void 0?m:(T=>t3[T-1]||r3),this.vsn){case Qy:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((T,k)=>k(JSON.stringify(T))),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:((T,k)=>k(JSON.parse(T)));break;case V4:this.encode=(N=e==null?void 0:e.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var qd=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function i3(t,e,r){const n=new URL(e,t);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function s3(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function o3(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:u}){const h=i3(t.baseUrl,n,s),f=await s3(t.auth),m=await e(h,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...f,...u},body:o?JSON.stringify(o):void 0}),g=await m.text(),w=(m.headers.get("content-type")||"").includes("application/json"),N=w&&g?JSON.parse(g):g;if(!m.ok){const x=w?N:void 0,T=x==null?void 0:x.error;throw new qd((T==null?void 0:T.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:T==null?void 0:T.type,icebergCode:T==null?void 0:T.code,details:x})}return{status:m.status,headers:m.headers,data:N}}}}function Kh(t){return t.join("")}var l3=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Kh(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kh(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kh(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kh(t.namespace)}`}),!0}catch(e){if(e instanceof qd&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof qd&&r.status===409)return;throw r}}};function wu(t){return t.join("")}var c3=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wu(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wu(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${wu(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wu(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wu(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wu(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof qd&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof qd&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},u3=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=o3({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new l3(this.client,e),this.tableOps=new c3(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},qf=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function sa(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var d3=class extends qf{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ap=class extends qf{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const qp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),h3=()=>Response,np=t=>{if(Array.isArray(t))return t.map(r=>np(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=np(n)}),e},f3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},m3=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function p3(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g3(t){var e=p3(t,"string");return Id(e)=="symbol"?e:e+""}function v3(t,e,r){return(e=g3(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(r),!0).forEach(function(n){v3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const gm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},y3=async(t,e,r)=>{t instanceof await h3()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const s=t.status||500,o=(n==null?void 0:n.statusCode)||s+"";e(new d3(gm(n),s,o))}).catch(n=>{e(new ap(gm(n),n))}):e(new ap(gm(t),t))},b3=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(f3(n)?(s.headers=Ut({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Ut(Ut({},s),r))};async function Zd(t,e,r,n,s,o){return new Promise((u,h)=>{t(r,b3(e,n,s,o)).then(f=>{if(!f.ok)throw f;return n!=null&&n.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>y3(f,h,n))})}async function Fd(t,e,r,n){return Zd(t,"GET",e,r,n)}async function xs(t,e,r,n,s){return Zd(t,"POST",e,n,s,r)}async function ip(t,e,r,n,s){return Zd(t,"PUT",e,n,s,r)}async function x3(t,e,r,n){return Zd(t,"HEAD",e,Ut(Ut({},r),{},{noResolveJson:!0}),n)}async function Ip(t,e,r,n,s){return Zd(t,"DELETE",e,n,s,r)}var w3=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(sa(e))return{data:null,error:e};throw e}}};let ab;ab=Symbol.toStringTag;var _3=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[ab]="BlobDownloadBuilder",this.promise=null}asStream(){return new w3(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(sa(e))return{data:null,error:e};throw e}}};const N3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},U2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var S3=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=qp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let o;const u=Ut(Ut({},U2),n);let h=Ut(Ut({},s.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),f&&o.append("metadata",s.encodeMetadata(f)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),f&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(f))):(o=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=s.toBase64(s.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),n!=null&&n.headers&&(h=Ut(Ut({},h),n.headers));const m=s._removeEmptyFolders(e),g=s._getFinalPath(m),w=await(t=="PUT"?ip:xs)(s.fetch,`${s.url}/object/${g}`,o,Ut({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(sa(o))return{data:null,error:o};throw o}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const o=s._removeEmptyFolders(t),u=s._getFinalPath(o),h=new URL(s.url+`/object/upload/sign/${u}`);h.searchParams.set("token",e);try{let f;const m=Ut({upsert:U2.upsert},n),g=Ut(Ut({},s.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",m.cacheControl)):(f=r,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType),{data:{path:o,fullPath:(await ip(s.fetch,h.toString(),f,{headers:g})).Key},error:null}}catch(f){if(s.shouldThrowOnError)throw f;if(sa(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=Ut({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const o=await xs(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),u=new URL(r.url+o.url),h=u.searchParams.get("token");if(!h)throw new qf("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:h},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sa(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await xs(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sa(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await xs(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sa(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),o=await xs(n.fetch,`${n.url}/object/sign/${s}`,Ut({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sa(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await xs(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(u=>Ut(Ut({},u),{},{signedUrl:u.signedURL?encodeURI(`${n.url}${u.signedURL}${o}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sa(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(t),u=()=>Fd(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new _3(u,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:np(await Fd(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(sa(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await x3(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(sa(n)&&n instanceof ap){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&n.push(u);let h=n.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${h}`)}}}async remove(t){var e=this;try{return{data:await Ip(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sa(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=Ut(Ut(Ut({},N3),e),{},{prefix:t||""});return{data:await xs(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(sa(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=Ut({},t);return{data:await xs(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sa(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const nb="2.90.1",ib={"X-Client-Info":`storage-js/${nb}`};var j3=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Ut(Ut({},ib),e),this.fetch=qp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Fd(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sa(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Fd(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sa(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await xs(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sa(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await ip(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sa(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await xs(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sa(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ip(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sa(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},A3=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},ib),e),this.fetch=qp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await xs(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sa(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Fd(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sa(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ip(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(sa(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!m3(t))throw new qf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new u3({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const u=s[o];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(s,h),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}};const Fp={"X-Client-Info":`storage-js/${nb}`,"Content-Type":"application/json"};var sb=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function vi(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var vm=class extends sb{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},E3=class extends sb{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const $p=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),C3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},P2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),k3=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const u=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new vm(P2(o),n,u))}).catch(()=>{const o=n+"";e(new vm(s.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";e(new vm(s.statusText||`HTTP ${n} error`,n,o))}}else e(new E3(P2(t),t))},T3=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(C3(n)?(s.headers=Ut({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Ut(Ut({},s),r)):s};async function L3(t,e,r,n,s,o){return new Promise((u,h)=>{t(r,T3(e,n,s,o)).then(f=>{if(!f.ok)throw f;if(n!=null&&n.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>k3(f,h,n))})}async function yi(t,e,r,n,s){return L3(t,"POST",e,n,s,r)}var R3=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},Fp),e),this.fetch=$p(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await yi(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await yi(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}}},O3=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},Fp),e),this.fetch=$p(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await yi(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await yi(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await yi(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}},D3=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},Fp),e),this.fetch=$p(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await yi(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await yi(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}}},M3=class extends D3{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new B3(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},B3=class extends R3{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Ut(Ut({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Ut(Ut({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new U3(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},U3=class extends O3{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Ut(Ut({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Ut(Ut({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Ut(Ut({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Ut(Ut({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Ut(Ut({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},P3=class extends j3{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new S3(this.url,this.headers,t,this.fetch)}get vectors(){return new M3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new A3(this.url+"/iceberg",this.headers,this.fetch)}};const ob="2.90.1",Lu=30*1e3,sp=3,ym=sp*Lu,z3="http://localhost:9999",q3="supabase.auth.token",I3={"X-Client-Info":`gotrue-js/${ob}`},op="X-Supabase-Api-Version",lb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},F3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$3=600*1e3;class $d extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function bt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class H3 extends $d{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function V3(t){return bt(t)&&t.name==="AuthApiError"}class yc extends $d{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class $o extends $d{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class gi extends $o{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function G3(t){return bt(t)&&t.name==="AuthSessionMissingError"}class _u extends $o{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jh extends $o{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xh extends $o{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function W3(t){return bt(t)&&t.name==="AuthImplicitGrantRedirectError"}class z2 extends $o{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Y3 extends $o{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class lp extends $o{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function bm(t){return bt(t)&&t.name==="AuthRetryableFetchError"}class q2 extends $o{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class cp extends $o{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),I2=` 	
\r=`.split(""),K3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<I2.length;e+=1)t[I2[e].charCodeAt(0)]=-2;for(let e=0;e<Sf.length;e+=1)t[Sf[e].charCodeAt(0)]=e;return t})();function F2(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Sf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Sf[n]),e.queuedBits-=6}}function cb(t,e,r){const n=K3[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $2(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=u=>{Z3(u,n,r)};for(let u=0;u<t.length;u+=1)cb(t.charCodeAt(u),s,o);return e.join("")}function J3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function X3(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}J3(n,e)}}function Z3(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Uu(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)cb(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Q3(t){const e=[];return X3(t,r=>e.push(r)),new Uint8Array(e)}function xc(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>F2(s,r,n)),F2(null,r,n),e.join("")}function e_(t){return Math.round(Date.now()/1e3)+t}function t_(){return Symbol("auth-callback")}const un=()=>typeof window<"u"&&typeof document<"u",fc={tested:!1,writable:!1},ub=()=>{if(!un())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fc.tested)return fc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),fc.tested=!0,fc.writable=!0}catch{fc.tested=!0,fc.writable=!1}return fc.writable};function r_(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const db=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),a_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ru=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},mc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},cn=async(t,e)=>{await t.removeItem(e)};class If{constructor(){this.promise=new If.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}If.promiseConstructor=Promise;function xm(t){const e=t.split(".");if(e.length!==3)throw new cp("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!F3.test(e[n]))throw new cp("JWT not in base64url format");return{header:JSON.parse($2(e[0])),payload:JSON.parse($2(e[1])),signature:Uu(e[2]),raw:{header:e[0],payload:e[1]}}}async function n_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function i_(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await t(o);if(!e(o,null,u)){n(u);return}}catch(u){if(!e(o,u)){s(u);return}}})()})}function s_(t){return("0"+t.toString(16)).substr(-2)}function o_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,s_).join("")}async function l_(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function c_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await l_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Nu(t,e,r=!1){const n=o_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ru(t,`${e}-code-verifier`,s);const o=await c_(n);return[o,n===o?"plain":"s256"]}const u_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function d_(t){const e=t.headers.get(op);if(!e||!e.match(u_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function h_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function f_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const m_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Su(t){if(!m_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function p_(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function H2(t){return JSON.parse(JSON.stringify(t))}const pc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),g_=[502,503,504];async function V2(t){var e;if(!a_(t))throw new lp(pc(t),0);if(g_.includes(t.status))throw new lp(pc(t),t.status);let r;try{r=await t.json()}catch(o){throw new yc(pc(o),o)}let n;const s=d_(t);if(s&&s.getTime()>=lb["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new q2(pc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new gi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new q2(pc(r),t.status,r.weak_password.reasons);throw new H3(pc(r),t.status||500,n)}const v_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Bt(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[op]||(o[op]=lb["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const u=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(u.redirect_to=n.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await y_(t,e,r+h,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function y_(t,e,r,n,s,o){const u=v_(e,n,s,o);let h;try{h=await t(r,Object.assign({},u))}catch(f){throw console.error(f),new lp(pc(f),0)}if(h.ok||await V2(h),n!=null&&n.noResolveJson)return h;try{return await h.json()}catch(f){await V2(f)}}function bs(t){var e;let r=null;w_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=e_(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function G2(t){const e=bs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function El(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function b_(t){return{data:t,error:null}}function x_(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,u=zf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function W2(t){return t}function w_(t){return t.access_token&&t.refresh_token&&t.expires_in}const _m=["global","local","others"];class __{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=db(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=_m[0]){if(_m.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_m.join(", ")}`);try{return await Bt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:El})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=zf(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:x_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(bt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Bt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:El})}catch(r){if(bt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,u,h,f;try{const m={nextPage:null,lastPage:0,total:0},g=await Bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:W2});if(g.error)throw g.error;const w=await g.json(),N=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(T=>{const k=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);m[`${O}Page`]=k}),m.total=parseInt(N)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(bt(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Su(e);try{return await Bt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:El})}catch(r){if(bt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Su(e);try{return await Bt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:El})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Su(e);try{return await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:El})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Su(e.userId);try{const{data:r,error:n}=await Bt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Su(e.userId),Su(e.id);try{return{data:await Bt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,o,u,h,f;try{const m={nextPage:null,lastPage:0,total:0},g=await Bt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:W2});if(g.error)throw g.error;const w=await g.json(),N=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(T=>{const k=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);m[`${O}Page`]=k}),m.total=parseInt(N)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(bt(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Bt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Bt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Bt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Bt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Bt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(bt(r))return{data:null,error:r};throw r}}}function Y2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ju={debug:!!(globalThis&&ub()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class N_ extends hb{}async function S_(t,e,r){ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ju.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ju.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new N_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ju.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function j_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fb(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function A_(t){return parseInt(t,16)}function E_(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function C_(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:u,notBefore:h,requestId:f,resources:m,scheme:g,uri:w,version:N}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=fb(t.address),T=g?`${g}://${n}`:n,k=t.statement?`${t.statement}
`:"",O=`${T} wants you to sign in with your Ethereum account:
${x}

${k}`;let R=`URI: ${w}
Version: ${N}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(s&&(R+=`
Expiration Time: ${s.toISOString()}`),h&&(R+=`
Not Before: ${h.toISOString()}`),f&&(R+=`
Request ID: ${f}`),m){let G=`
Resources:`;for(const D of m){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);G+=`
- ${D}`}R+=G}return`${O}
${R}`}class Ra extends Error{constructor({message:e,code:r,cause:n,name:s}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class jf extends Ra{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function k_({error:t,options:e}){var r,n,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ra({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ra({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ra({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ra({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ra({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ra({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Ra({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ra({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(mb(u)){if(o.rp.id!==u)return new Ra({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ra({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ra({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ra({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ra({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function T_({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ra({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ra({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(mb(n)){if(r.rpId!==n)return new Ra({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ra({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ra({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ra({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class L_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const R_=new L_;function O_(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=zf(t,["challenge","user","excludeCredentials"]),o=Uu(e).buffer,u=Object.assign(Object.assign({},r),{id:Uu(r.id).buffer}),h=Object.assign(Object.assign({},s),{challenge:o,user:u});if(n&&n.length>0){h.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const m=n[f];h.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:Uu(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function D_(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=zf(t,["challenge","allowCredentials"]),s=Uu(e).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const h=r[u];o.allowCredentials[u]=Object.assign(Object.assign({},h),{id:Uu(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function M_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:xc(new Uint8Array(t.response.attestationObject)),clientDataJSON:xc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function B_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:xc(new Uint8Array(s.authenticatorData)),clientDataJSON:xc(new Uint8Array(s.clientDataJSON)),signature:xc(new Uint8Array(s.signature)),userHandle:s.userHandle?xc(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mb(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function K2(){var t,e;return!!(un()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function U_(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new jf("Browser returned unexpected credential type",e)}:{data:null,error:new jf("Empty credential response",e)}}catch(e){return{data:null,error:k_({error:e,options:t})}}}async function P_(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new jf("Browser returned unexpected credential type",e)}:{data:null,error:new jf("Empty credential response",e)}}catch(e){return{data:null,error:T_({error:e,options:t})}}}const z_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},q_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Af(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const o in s){const u=s[o];if(u!==void 0)if(Array.isArray(u))n[o]=u;else if(r(u))n[o]=u;else if(e(u)){const h=n[o];e(h)?n[o]=Af(h,u):n[o]=Af(u)}else n[o]=u}return n}function I_(t,e){return Af(z_,t,e||{})}function F_(t,e){return Af(q_,t,e||{})}class $_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},o){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:h};const f=s??R_.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=I_(u.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:g,error:w}=await U_({publicKey:m,signal:f});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:w}}case"request":{const m=F_(u.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:g,error:w}=await P_(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:f}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:w}}}}catch(u){return bt(u)?{data:null,error:u}:{data:null,error:new yc("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new $d("rpId is required for WebAuthn authentication")};try{if(!K2())return{data:null,error:new yc("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(u){return bt(u)?{data:null,error:u}:{data:null,error:new yc("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new $d("rpId is required for WebAuthn registration")};try{if(!K2())return{data:null,error:new yc("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var w;return(w=g.data)===null||w===void 0?void 0:w.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===e&&N.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:h};const{data:f,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(u){return bt(u)?{data:null,error:u}:{data:null,error:new yc("Unexpected error in register",u)}}}}j_();const H_={url:z3,storageKey:q3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:I3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function J2(t,e,r){return await r()}const Au={};class Hd{get jwks(){var e,r;return(r=(e=Au[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Au[this.storageKey]=Object.assign(Object.assign({},Au[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Au[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Au[this.storageKey]=Object.assign(Object.assign({},Au[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},H_),e);if(this.storageKey=o.storageKey,this.instanceID=(r=Hd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Hd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&un()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new __({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=db(o.fetch),this.lock=o.lock||J2,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&un()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=S_:this.lock=J2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:ub()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Y2(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Y2(this.memoryStorage)),un()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ob}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(un()&&(r=r_(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),un()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),W3(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:u,redirectType:h}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return bt(r)?this._returnResult({error:r}):this._returnResult({error:new yc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:bs}),{data:u,error:h}=o;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(o){if(bt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:g,password:w,options:N}=e;let x=null,T=null;this.flowType==="pkce"&&([x,T]=await Nu(this.storage,this.storageKey)),o=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:g,password:w,data:(r=N==null?void 0:N.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:x,code_challenge_method:T},xform:bs})}else if("phone"in e){const{phone:g,password:w,options:N}=e;o=await Bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:w,data:(n=N==null?void 0:N.data)!==null&&n!==void 0?n:{},channel:(s=N==null?void 0:N.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:bs})}else throw new Jh("You must provide either an email or phone number and a password");const{data:u,error:h}=o;if(h||!u)return await cn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(o){if(await cn(this.storage,`${this.storageKey}-code-verifier`),bt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:u,options:h}=e;r=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:G2})}else if("phone"in e){const{phone:o,password:u,options:h}=e;r=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:G2})}else throw new Jh("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new _u;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,o,u,h,f,m,g,w,N;let x,T;if("message"in e)x=e.message,T=e.signature;else{const{chain:k,wallet:O,statement:R,options:G}=e;let D;if(un())if(typeof O=="object")D=O;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")D=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(G!=null&&G.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=O}const W=new URL((r=G==null?void 0:G.url)!==null&&r!==void 0?r:window.location.href),ie=await D.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ie||ie.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const se=fb(ie[0]);let K=(n=G==null?void 0:G.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!K){const V=await D.request({method:"eth_chainId"});K=A_(V)}const Z={domain:W.host,address:se,statement:R,uri:W.href,version:"1",chainId:K,nonce:(s=G==null?void 0:G.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(u=(o=G==null?void 0:G.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=G==null?void 0:G.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=G==null?void 0:G.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=G==null?void 0:G.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=G==null?void 0:G.signInWithEthereum)===null||g===void 0?void 0:g.resources};x=C_(Z),T=await D.request({method:"personal_sign",params:[E_(x),se]})}try{const{data:k,error:O}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:T},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(N=e.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:bs});if(O)throw O;if(!k||!k.session||!k.user){const R=new _u;return this._returnResult({data:{user:null,session:null},error:R})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:O})}catch(k){if(bt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var r,n,s,o,u,h,f,m,g,w,N,x;let T,k;if("message"in e)T=e.message,k=e.signature;else{const{chain:O,wallet:R,statement:G,options:D}=e;let W;if(un())if(typeof R=="object")W=R;else{const se=window;if("solana"in se&&typeof se.solana=="object"&&("signIn"in se.solana&&typeof se.solana.signIn=="function"||"signMessage"in se.solana&&typeof se.solana.signMessage=="function"))W=se.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=R}const ie=new URL((r=D==null?void 0:D.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in W&&W.signIn){const se=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:ie.host,uri:ie.href}),G?{statement:G}:null));let K;if(Array.isArray(se)&&se[0]&&typeof se[0]=="object")K=se[0];else if(se&&typeof se=="object"&&"signedMessage"in se&&"signature"in se)K=se;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)T=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),k=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${ie.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${ie.href}`,`Issued At: ${(s=(n=D==null?void 0:D.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=D==null?void 0:D.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((u=D==null?void 0:D.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((f=D==null?void 0:D.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((w=(g=D==null?void 0:D.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||w===void 0)&&w.length?["Resources",...D.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const se=await W.signMessage(new TextEncoder().encode(T),"utf8");if(!se||!(se instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=se}}try{const{data:O,error:R}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:xc(k)},!((N=e.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:bs});if(R)throw R;if(!O||!O.session||!O.user){const G=new _u;return this._returnResult({data:{user:null,session:null},error:G})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:R})}catch(O){if(bt(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(e){const r=await mc(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Y3;const{data:o,error:u}=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:bs});if(await cn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const h=new _u;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:u})}catch(o){if(await cn(this.storage,`${this.storageKey}-code-verifier`),bt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:u}=e,h=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:bs}),{data:f,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const g=new _u;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(r){if(bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,o,u;try{if("email"in e){const{email:h,options:f}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Nu(this.storage,this.storageKey));const{error:w}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in e){const{phone:h,options:f}=e,{data:m,error:g}=await Bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},create_user:(o=f==null?void 0:f.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g})}throw new Jh("You must provide either an email or phone number.")}catch(h){if(await cn(this.storage,`${this.storageKey}-code-verifier`),bt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:u,error:h}=await Bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:bs});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,m=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(s){if(bt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,o,u;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Nu(this.storage,this.storageKey));const m=await Bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:b_});return!((o=m.data)===null||o===void 0)&&o.url&&un()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await cn(this.storage,`${this.storageKey}-code-verifier`),bt(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new gi;const{error:s}=await Bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(bt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:u}=await Bt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:u,error:h}=await Bt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new Jh("You must provide either an email or phone number and a type")}catch(r){if(bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await mc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ym:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const u=await mc(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=wm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=p_(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:El}):await this._useSession(async r=>{var n,s,o;const{data:u,error:h}=r;if(h)throw h;return!(!((n=u.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gi}:await Bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:El})})}catch(r){if(bt(r))return G3(r)&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new gi;const u=s.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await Nu(this.storage,this.storageKey));const{data:m,error:g}=await Bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:El});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(n){if(await cn(this.storage,`${this.storageKey}-code-verifier`),bt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gi;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:u}=xm(e.access_token);if(u.exp&&(n=u.exp,s=n<=r),s){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(bt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:u,error:h}=r;if(h)throw h;e=(n=u.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new gi;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(bt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!un())throw new Xh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new z2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new z2("No code detected.");const{data:G,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:u,expires_in:h,expires_at:f,token_type:m}=e;if(!o||!h||!u||!m)throw new Xh("No session defined in URL");const g=Math.round(Date.now()/1e3),w=parseInt(h);let N=g+w;f&&(N=parseInt(f));const x=N-g;x*1e3<=Lu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${w}s`);const T=N-w;g-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,N,g):g-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,N,g);const{data:k,error:O}=await this._getUser(o);if(O)throw O;const R={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:w,expires_at:N,refresh_token:u,token_type:m,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:e.type},error:null})}catch(n){if(bt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await mc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const u=(n=s.session)===null||n===void 0?void 0:n.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(V3(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=t_(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:u}=r;if(u)throw u;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Nu(this.storage,this.storageKey,!0));try{return await Bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await cn(this.storage,`${this.storageKey}-code-verifier`),bt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var u,h,f,m,g;const{data:w,error:N}=o;if(N)throw N;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Bt(this.fetch,"GET",x,{headers:this.headers,jwt:(g=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return un()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(bt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:u,provider:h,token:f,access_token:m,nonce:g}=e,w=await Bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:h,id_token:f,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:bs}),{data:N,error:x}=w;return x?this._returnResult({data:{user:null,session:null},error:x}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new _u}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:x}))}catch(s){if(await cn(this.storage,`${this.storageKey}-code-verifier`),bt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:u}=r;if(u)throw u;return await Bt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await i_(async s=>(s>0&&await n_(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:bs})),(s,o)=>{const u=200*Math.pow(2,s);return o&&bm(o)&&Date.now()+u-n<Lu})}catch(n){if(this._debug(r,"error",n),bt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),un()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await mc(this.storage,this.storageKey);if(s&&this.userStorage){let u=await mc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:s.user},await Ru(this.userStorage,this.storageKey+"-user",u)),s.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:wm()}else if(s&&!s.user&&!s.user){const u=await mc(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(s.user=u.user,await cn(this.storage,this.storageKey+"-user"),await Ru(this.storage,this.storageKey,s)):s.user=wm()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ym;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${ym}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:u}=await this._callRefreshToken(s.refresh_token);u&&(console.error(u),bm(u)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(s.access_token);!h&&(u!=null&&u.user)?(s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(n,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new gi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new If;const{data:o,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!o.session)throw new gi;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(s,"error",o),bt(o)){const u={data:null,error:o};return bm(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,r)}catch(f){o.push(f)}});if(await Promise.all(u),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await cn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ru(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=H2(s);await Ru(this.storage,this.storageKey,o)}else{const s=H2(r);await Ru(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await cn(this.storage,this.storageKey),await cn(this.storage,this.storageKey+"-code-verifier"),await cn(this.storage,this.storageKey+"-user"),this.userStorage&&await cn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&un()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Lu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Lu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Lu}ms, refresh threshold is ${sp} ticks`),s<=sp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof hb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!un()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,u]=await Nu(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(h.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await Bt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:m}=await Bt(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&f.type==="totp"&&(!((s=f==null?void 0:f.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?M_(e.webauthn.credential_response):B_(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await Bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=await Bt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:O_(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:D_(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=xm(n.access_token);let u=null;o.aal&&(u=o.aal);let h=u;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const m=o.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Bt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new gi})})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new gi});const u=await Bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&un()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new gi});const u=await Bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&un()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Bt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new gi})})}catch(e){if(bt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Bt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new gi})})}catch(r){if(bt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(h=>h.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(h=>h.kid===e),n&&this.jwks_cached_at+$3>s)return n;const{data:o,error:u}=await Bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(h=>h.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:x,error:T}=await this.getSession();if(T||!x.session)return this._returnResult({data:null,error:T});n=x.session.access_token}const{header:s,payload:o,signature:u,raw:{header:h,payload:f}}=xm(n);r!=null&&r.allowExpired||h_(o.exp);const m=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!m){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:o,header:s,signature:u},error:null}}const g=f_(s.alg),w=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,w,u,Q3(`${h}.${f}`)))throw new cp("Invalid JWT signature");return{data:{claims:o,header:s,signature:u},error:null}}catch(n){if(bt(n))return this._returnResult({data:null,error:n});throw n}}}Hd.nextInstanceID={};const V_=Hd,G_="2.90.1";let Od="";typeof Deno<"u"?Od="deno":typeof document<"u"?Od="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Od="react-native":Od="node";const W_={"X-Client-Info":`supabase-js-${Od}/${G_}`},Y_={headers:W_},K_={schema:"public"},J_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},X_={};function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function Z_(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q_(t){var e=Z_(t,"string");return Vd(e)=="symbol"?e:e+""}function eN(t,e,r){return(e=Q_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(r),!0).forEach(function(n){eN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const tN=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rN=()=>Headers,aN=(t,e,r)=>{const n=tN(r),s=rN();return async(o,u)=>{var h;const f=(h=await e())!==null&&h!==void 0?h:t;let m=new s(u==null?void 0:u.headers);return m.has("apikey")||m.set("apikey",t),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),n(o,va(va({},u),{},{headers:m}))}};function nN(t){return t.endsWith("/")?t:t+"/"}function iN(t,e){var r,n;const{db:s,auth:o,realtime:u,global:h}=t,{db:f,auth:m,realtime:g,global:w}=e,N={db:va(va({},f),s),auth:va(va({},m),o),realtime:va(va({},g),u),storage:{},global:va(va(va({},w),h),{},{headers:va(va({},(r=w==null?void 0:w.headers)!==null&&r!==void 0?r:{}),(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?N.accessToken=t.accessToken:delete N.accessToken,N}function sN(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nN(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var oN=class extends V_{constructor(t){super(t)}},lN=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const o=sN(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,h={db:K_,realtime:X_,auth:va(va({},J_),{},{storageKey:u}),global:Y_},f=iN(r??{},h);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=f.auth)!==null&&m!==void 0?m:{},this.headers,f.global.fetch)}this.fetch=aN(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(va({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new I4(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new P3(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new B4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:u,lock:h,debug:f,throwOnError:m},g,w){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oN({url:this.authUrl.href,headers:va(va({},N),g),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:u,lock:h,debug:f,throwOnError:m,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new n3(this.realtimeUrl.href,va(va({},t),{},{params:va(va({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const cN=(t,e,r)=>new lN(t,e,r);function uN(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}uN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dN="https://apmykrlvahdllakrjdbp.supabase.co",hN="sb_publishable_sbG7mEBN9__P-JnZlwnjng_tbbuNMnT",qe=cN(dN,hN),fN="3OJkvoQ7fpMgoTjra",mN="service_yx5vrg8",pN="template_hg6gecb",mi=async t=>{const e={email:t.to[0].email,to_name:t.to[0].name,subject:t.subject,html_content:t.htmlContent};try{const r=await fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:mN,template_id:pN,user_id:fN,template_params:e})});if(!r.ok){const n=await r.text();throw new Error(`Error EmailJS: ${n}`)}}catch(r){console.error(" Error al enviar email:",r)}},Gs={sendWelcomeEmail:async(t,e)=>{const r="Bienvenido al equipo de voluntarios de FamilySearch!",n=`
      <div style="font-family: sans-serif; color: #333; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #4f46e5;">Bienvenido, ${t.fullName.split(" ")[0]}!</h1>
        <p>Gracias por unirte a nuestro equipo de voluntarios. Estamos emocionados de contar contigo.</p>
        
        ${e?`
        <div style="background-color: #f3f4f6; padding: 20px; border-radius: 8px; margin: 20px 0;">
          <p style="margin: 0; font-weight: bold;">Tus credenciales de acceso:</p>
          <p style="margin: 10px 0;"> Email: ${t.email}</p>
          <p style="margin: 0;"> Contrasea: <strong style="font-size: 1.2em; color: #4f46e5;">${e}</strong></p>
        </div>
        <p>Por favor, guarda esta contrasea en un lugar seguro. Podrs usarla para ingresar al portal y gestionar tus turnos.</p>
        `:`
        <p>Tu registro ha sido exitoso.</p>
        `}

        <div style="text-align: center; margin-top: 30px;">
          <a href="${window.location.origin}" style="background-color: #4f46e5; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold;">Ir al Portal</a>
        </div>
      </div>
    `;await mi({to:[{email:t.email,name:t.fullName}],subject:r,htmlContent:n})},sendBookingConfirmation:async(t,e,r,n,s)=>{const o=`Confirmacin de Turno - ${e.nombre}`;let u="#",h="#";try{const m=s.split(/-|/).map(W=>W.trim()),g=m[0],w=m[1]||g,N=new Date(n+"T"+g+":00"),x=new Date(n+"T"+w+":00"),T=W=>{const ie=se=>se<10?"0"+se:se.toString();return W.getFullYear()+ie(W.getMonth()+1)+ie(W.getDate())+"T"+ie(W.getHours())+ie(W.getMinutes())+"00"},k=T(N),O=T(x),R=encodeURIComponent(`Voluntariado: ${e.nombre} - ${r}`),G=encodeURIComponent(`Turno de voluntariado para ${e.nombre}.
Rol: ${r}
Ubicacin: ${e.ubicacion}`),D=encodeURIComponent(e.ubicacion);u=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${R}&dates=${k}/${O}&details=${G}&location=${D}`,h=`https://outlook.live.com/calendar/0/deeplink/compose?subject=${R}&body=${G}&startdt=${N.toISOString()}&enddt=${x.toISOString()}&location=${D}`}catch(m){console.error("Error generating calendar links",m)}const f=`
      <h1>Turno Confirmado</h1>
      <p>Hola ${t.fullName.split(" ")[0]}, tu inscripcin ha sido guardada con xito.</p>
      <div style="background-color: #f3f4f6; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <p><strong>Evento:</strong> ${e.nombre}</p>
        <p><strong>Rol:</strong> ${r}</p>
        <p><strong>Fecha:</strong> ${n}</p>
        <p><strong>Horario:</strong> ${s}</p>
        <p><strong>Ubicacin:</strong> ${e.ubicacion}</p>
      </div>
      <p><strong>Agendar:</strong> <a href="${u}" target="_blank">Agregar a Google Calendar</a> | <a href="${h}" target="_blank">Outlook</a></p>
      
      <div style="margin: 20px 0;">
        <a href="${window.location.origin}" style="background-color: #2563eb; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Ir a la Aplicacin</a>
      </div>

      <p>Por favor, llega 15 minutos antes de tu horario.</p>
    `;await mi({to:[{email:t.email,name:t.fullName}],subject:o,htmlContent:f})},sendCancellationRequestReceived:async(t,e,r,n)=>{const s="Hemos recibido tu solicitud de baja",o=`
      <p>Hola ${t.fullName.split(" ")[0]},</p>
      <p>Hemos recibido tu solicitud para cancelar tu turno en <strong>${e}</strong> el ${r} a las ${n}.</p>
      <p>Tu solicitud est <strong>pendiente de aprobacin</strong> por un coordinador. Sigues figurando como responsable del turno hasta que recibas la confirmacin de la baja.</p>
    `;await mi({to:[{email:t.email,name:t.fullName}],subject:s,htmlContent:o})},sendCancellationApproved:async(t,e,r)=>{const n="Tu baja ha sido aprobada",s=`
      <p>Hola ${t.fullName.split(" ")[0]},</p>
      <p>Te confirmamos que tu solicitud de baja para el evento <strong>${e}</strong> del da ${r} ha sido aprobada.</p>
      <p>La vacante ha sido liberada. Gracias por avisar!</p>
    `;await mi({to:[{email:t.email,name:t.fullName}],subject:n,htmlContent:s})},sendCancellationRejected:async(t,e,r,n)=>{const s="Informacin sobre tu solicitud de baja",o=`
            <p>Hola ${t.fullName.split(" ")[0]},</p>
            <p>Te informamos que tu solicitud de baja para el evento <strong>${e}</strong> del da ${r} a las ${n} no ha podido ser procesada en este momento.</p>
            <p><strong>Por lo tanto, tu turno sigue vigente.</strong></p>
            <p>Si tienes alguna duda, por favor comuncate con tu coordinador.</p>
            <div style="margin: 20px 0;">
                <a href="${window.location.origin}" style="background-color: #2563eb; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Revisar mis Turnos</a>
            </div>
        `;await mi({to:[{email:t.email,name:t.fullName}],subject:s,htmlContent:o})},sendShiftModificationAlert:async(t,e,r,n,s)=>{const o="URGENTE: Cambio en tu turno programado",u=`
      <h2 style="color: #dc2626;">Atencin! Cambio de Horario</h2>
      <p>Hola ${t.fullName.split(" ")[0]},</p>
      <p>El coordinador ha modificado los horarios del evento <strong>${e}</strong> para el da ${s}.</p>
      <div style="background-color: #fff1f2; padding: 15px; border-radius: 8px; border-left: 4px solid #f43f5e;">
        <p><strong>Tu turno ha cambiado:</strong></p>
        <p>Horario Anterior: <span style="text-decoration: line-through; color: #999;">${r}</span></p>
        <p>Nuevo Horario: <strong>${n}</strong></p>
      </div>
      <p>Si no puedes asistir en este nuevo horario, por favor ingresa al portal para gestionar tu baja.</p>
    `;await mi({to:[{email:t.email,name:t.fullName}],subject:o,htmlContent:u})},sendReminderEmail:async(t,e,r,n,s,o)=>{const u="Recordatorio: Tu turno es maana",h=`
      <h1>Te esperamos maana!</h1>
      <p>Hola ${t.fullName.split(" ")[0]}, recuerda que tienes un turno programado.</p>
      <ul>
        <li><strong>Evento:</strong> ${e}</li>
        <li><strong>Rol:</strong> ${r}</li>
        <li><strong>Horario:</strong> ${s} (${n})</li>
        <li><strong>Lugar:</strong> ${o}</li>
      </ul>
      <p>Recuerda llevar ropa cmoda y tu mejor sonrisa :)</p>
     `;await mi({to:[{email:t.email,name:t.fullName}],subject:u,htmlContent:h})},sendAttendanceThankYou:async(t,e,r,n,s)=>{const o="Muchas gracias por tu servicio hoy!",u=`
      <h1>Gracias ${t.fullName.split(" ")[0]}!</h1>
      <p>Queremos agradecerte sinceramente por tu tiempo y dedicacin en el evento <strong>${e}</strong>.</p>
      <div style="background-color: #f3f4f6; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <p><strong>Detalles del Turno:</strong></p>
        <p>Rol: ${r}</p>
        <p>Fecha: ${n}</p>
        <p>Horario: ${s}</p>
      </div>
      <p>Tu servicio ha sido fundamental para el xito de hoy.</p>
      <p>Esperamos contar contigo nuevamente.</p>
      <p><em>"Cuando estamos al servicio de nuestros semejantes, solo estamos al servicio de nuestro Dios."</em></p>
      <div style="margin: 20px 0;">
         <a href="${window.location.origin}" style="background-color: #2563eb; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Ir al Portal</a>
      </div>
     `;await mi({to:[{email:t.email,name:t.fullName}],subject:o,htmlContent:u})},sendAbsenceFollowUp:async(t,e,r,n)=>{const s="Te extraamos hoy",o=`
      <h1>Hola ${t.fullName.split(" ")[0]}!</h1>
      <p>Notamos que no pudiste asistir a tu turno programado para hoy en <strong>${e}</strong>.</p>
      <div style="background-color: #f3f4f6; padding: 15px; border-radius: 8px; margin: 15px 0;">
        <p><strong>Detalles del Turno:</strong></p>
        <p>Fecha: ${r}</p>
        <p>Horario: ${n}</p>
      </div>
      <p>Te echamos de menos en el equipo y esperamos verte en una prxima oportunidad.</p>
      <div style="margin: 20px 0;">
         <a href="${window.location.origin}" style="background-color: #2563eb; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Revisar mis turnos</a>
      </div>
     `;await mi({to:[{email:t.email,name:t.fullName}],subject:s,htmlContent:o})},sendBookingCancelledByAdmin:async(t,e,r,n)=>{const s="Aviso: Tu turno ha sido cancelado",o=`
      <p>Hola ${t.fullName.split(" ")[0]},</p>
      <p>Te informamos que tu turno en el evento <strong>${e}</strong> ha sido cancelado por un administrador.</p>
      <div style="background-color: #fee2e2; padding: 15px; border-radius: 8px; margin: 15px 0; border: 1px solid #ef4444;">
        <p><strong>Detalles del turno removido:</strong></p>
        <p>Fecha: ${r}</p>
        <p>Horario: ${n}</p>
      </div>
      <p>Ya no tienes este compromiso asignado en tu calendario.</p>
      <p>Si crees que esto es un error, por favor contacta a tu coordinador.</p>
      <div style="margin: 20px 0;">
         <a href="${window.location.origin}" style="background-color: #2563eb; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Ver mis turnos actuales</a>
      </div>
     `;await mi({to:[{email:t.email,name:t.fullName}],subject:s,htmlContent:o})},sendPasswordRecovery:async t=>{const e="Recuperacin de Contrasea - Voluntarios",r=`
            <h1>Hola ${t.fullName.split(" ")[0]}</h1>
            <p>Has solicitado recuperar tu contrasea para acceder al sistema de gestin de voluntarios.</p>
            <div style="background-color: #f3f4f6; padding: 15px; border-radius: 8px; margin: 15px 0; text-align: center;">
                <p>Tu contrasea actual es:</p>
                <p style="font-size: 24px; font-weight: bold; letter-spacing: 2px;">${t.password}</p>
            </div>
            <p>Te recomendamos eliminar este correo despus de iniciar sesin por seguridad.</p>
            <div style="margin: 20px 0;">
                 <a href="${window.location.origin}" style="background-color: #2563eb; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Ir a Iniciar Sesin</a>
            </div>
        `;await mi({to:[{email:t.email,name:t.fullName}],subject:e,htmlContent:r})},sendAdminCredentials:async(t,e)=>{const r="Asignacin de Rol y Credenciales - Voluntarios",n=t.role==="admin"?"Administrador":t.role==="coordinator"?"Coordinador":"Usuario",s=`
            <h1>Hola ${t.fullName.split(" ")[0]}</h1>
            <p>Se te ha asignado el rol de <strong>${n}</strong> en la plataforma de voluntarios.</p>
            <p>A continuacin tus credenciales para ingresar:</p>
            <div style="background-color: #f3f4f6; padding: 15px; border-radius: 8px; margin: 15px 0;">
                <p><strong>Usuario (DNI o Email):</strong> ${t.dni||t.email}</p>
                <p><strong>Contrasea:</strong> ${e}</p>
            </div>
            <p>Por favor, ingresa al sistema y gestiona tus tareas.</p>
            <div style="margin: 20px 0;">
                 <a href="${window.location.origin}" style="background-color: #2563eb; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Ingresar al Sistema</a>
            </div>
        `;await mi({to:[{email:t.email,name:t.fullName}],subject:r,htmlContent:s})},sendDeletedUserLoginAlert:async(t,e)=>{if(e.length===0)return;const r="ALERTA: Intento de acceso de usuario eliminado",n=e.map(o=>({email:o.email,name:o.fullName})),s=`
            <h2 style="color: #dc2626;">Alerta de Seguridad</h2>
            <p>El usuario <strong>${t.fullName}</strong> (${t.email} / DNI: ${t.dni}) intent iniciar sesin en el sistema.</p>
            <p>Este usuario se encuentra actualmente en estado <strong>Eliminado</strong>.</p>
            <p>El usuario ha recibido un mensaje indicando que su cuenta est en revisin.</p>
            <div style="background-color: #f3f4f6; padding: 15px; border-radius: 8px; margin: 15px 0;">
                <p><strong>Accin requerida:</strong></p>
                <p>Por favor, revise si este usuario debe ser reactivado o si debe permanecer eliminado.</p>
                <ul>
                    <li>Si desea reactivarlo: Busque al usuario en Gestin de Usuarios (filtro 'Eliminados') y active su cuenta.</li>
                    <li>Si debe permanecer eliminado: No se requiere accin, el acceso seguir bloqueado.</li>
                </ul>
            </div>
            <div style="margin: 20px 0;">
                 <a href="${window.location.origin}" style="background-color: #2563eb; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Ir al Panel de Administracin</a>
            </div>
        `;for(const o of n)await mi({to:[o],subject:r,htmlContent:s})}},_a=t=>({id:t.id,dni:t.dni,fullName:t.full_name,email:t.email,phone:t.phone,tshirtSize:t.tshirt_size,isMember:t.is_member,attendedPrevious:t.attended_previous,isOver18:t.is_over_18,howTheyHeard:t.how_they_heard,role:t.role,password:t.password,status:t.status,createdAt:t.created_at}),To=t=>({id:t.id,slug:t.slug,nombre:t.nombre,ubicacion:t.ubicacion,pais:t.pais,contactEmail:t.contact_email,fechaInicio:t.fecha_inicio,fechaFin:t.fecha_fin,descripcion:t.descripcion,estado:t.estado,voluntarios:0,turnos:0,ocupacion:0,createdAt:t.created_at}),Ys=t=>({id:t.id,eventId:t.event_id,name:t.name,description:t.description,detailedTasks:t.detailed_tasks,youtubeUrl:t.youtube_url,experienceLevel:t.experience_level,requiresApproval:t.requires_approval,isVisible:t.is_visible,createdAt:t.created_at}),Ii=t=>({id:t.id,eventId:t.event_id,date:t.date,timeSlot:t.time_slot,roleId:t.role_id,totalVacancies:t.total_vacancies,availableVacancies:t.total_vacancies,coordinatorIds:t.coordinator_ids||[]}),vs=t=>({id:t.id,userId:t.user_id,shiftId:t.shift_id||void 0,eventId:t.event_id,status:t.status,attendance:t.attendance,foodDelivered:t.food_delivered,requestedAt:t.requested_at,cancelledAt:t.cancelled_at,shift:t.shifts?{...Ii(t.shifts),role:t.shifts.roles?Ys(t.shifts.roles):void 0}:void 0,user:t.users?_a(t.users):void 0}),Nm=t=>({id:t.id,eventId:t.event_id,name:t.name,description:t.description,quantity:t.quantity,category:t.category,isRequired:t.is_required,createdAt:t.created_at}),gN=(t,e)=>{const[r]=e.split("-"),n=r?r.trim():"00:00",s=new Date(`${t}T${n}:00`),o=new Date,h=(s.getTime()-o.getTime())/(1e3*60*60);return h<=24&&h>0},Lt={login:async(t,e)=>{const{data:r,error:n}=await qe.from("users").select("*").or(`dni.eq.${t},email.eq.${t}`).maybeSingle();if(!r)throw new Error("Usuario no encontrado");if(r.status==="deleted"){const{data:h}=await qe.from("users").select("*").eq("role","superadmin");if(h){const f=h.map(_a);Gs.sendDeletedUserLoginAlert(_a(r),f).catch(console.error)}throw new Error("Su cuenta esta en proceso de revision, el administrador del sistema le contactara.")}const s=r.email;if(!e)throw new Error("Contrasea requerida");const{data:o,error:u}=await qe.auth.signInWithPassword({email:s,password:e});if(u)throw u.message==="Invalid login credentials"?new Error("Contrasea incorrecta"):u;return o.user?_a(r):null},recoverPassword:async t=>{const n=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?window.location.origin:"https://laconeo.github.io/voluntarios/";console.log("Recovery Redirect URL:",n);const{error:s}=await qe.auth.resetPasswordForEmail(t,{redirectTo:n});if(s)throw s},register:async(t,e)=>{const{data:r}=await qe.from("users").select("*").eq("dni",t.dni).maybeSingle();if(r){const{data:g,error:w}=await qe.from("users").update({full_name:t.fullName,phone:t.phone,tshirt_size:t.tshirtSize,is_member:t.isMember,attended_previous:t.attendedPrevious,is_over_18:t.isOver18,how_they_heard:t.howTheyHeard,status:"active"}).eq("id",r.id).select().single();if(w)throw w;return _a(g)}const n=Math.random().toString(36).slice(-8)+Math.random().toString(36).slice(-8),{data:s,error:o}=await qe.auth.signUp({email:t.email,password:n});if(o)throw o.message.includes("User already registered")?new Error("El correo ya est registrado en el sistema de Autenticacin (Auth), pero no tiene perfil de voluntario. Esto ocurre si el usuario fue eliminado de la base de datos manualmente pero no de la lista de usuarios autorizados. Por favor, elimine el usuario desde el panel de 'Authentication' en Supabase para poder registrarlo nuevamente."):o;if(!s.user)throw new Error("Error creando usuario de autenticacin");const u={id:s.user.id,dni:t.dni,full_name:t.fullName,email:t.email,phone:t.phone,tshirt_size:t.tshirtSize,is_member:t.isMember,attended_previous:t.attendedPrevious,is_over_18:t.isOver18,how_they_heard:t.howTheyHeard,role:t.role||"volunteer",status:"active"},{data:h,error:f}=await qe.from("users").insert(u).select().single();if(f)throw console.error("Profile creation failed. Details:",{message:f.message,details:f.details,hint:f.hint,code:f.code}),new Error(`Error creando perfil: ${f.message}`);const m=_a(h);if(Gs.sendWelcomeEmail(m,n).catch(console.error),e)try{await qe.from("bookings").insert({id:`bk_gen_${Date.now()}`,user_id:m.id,event_id:e,shift_id:null,status:"confirmed",requested_at:new Date().toISOString()})}catch(g){console.warn("Could not auto-enroll user in event.",g)}return m},updateUser:async t=>{const e={dni:t.dni,full_name:t.fullName,email:t.email,phone:t.phone,tshirt_size:t.tshirtSize,is_member:t.isMember,attended_previous:t.attendedPrevious,is_over_18:t.isOver18,how_they_heard:t.howTheyHeard,role:t.role,status:t.status},{data:r,error:n}=await qe.from("users").update(e).eq("id",t.id).select().single();if(n)throw n;return _a(r)},deleteUser:async t=>{const{data:e}=await qe.from("bookings").select("shift_id").eq("user_id",t).eq("status","confirmed");if(await qe.from("bookings").update({status:"cancelled"}).eq("user_id",t).neq("status","cancelled"),e&&e.length>0){const n=[...new Set(e.map(s=>s.shift_id))];for(const s of n)await Lt.processWaitlist(s)}const{error:r}=await qe.from("users").update({status:"deleted"}).eq("id",t);if(r)throw r},getAllUsers:async()=>{const{data:t,error:e}=await qe.from("users").select("*");if(e)throw e;return t.map(_a)},getUserById:async t=>{const{data:e,error:r}=await qe.from("users").select("*").eq("id",t).single();return r?null:_a(e)},getUsersByIds:async t=>{if(!t||t.length===0)return[];const{data:e,error:r}=await qe.from("users").select("*").in("id",t);if(r)throw r;return(e||[]).map(_a)},getAllEvents:async()=>{const{data:t,error:e}=await qe.from("events").select("*");if(e)throw e;const{data:r}=await qe.from("bookings").select("event_id, user_id").eq("status","confirmed");return t.map(s=>{const o=To(s);if(r){const u=r.filter(f=>f.event_id===s.id),h=new Set(u.map(f=>f.user_id));o.voluntarios=h.size}return o})},getEventById:async t=>{const{data:e,error:r}=await qe.from("events").select("*").eq("id",t).single();return r?null:To(e)},getEventBySlug:async t=>{const{data:e,error:r}=await qe.from("events").select("*").eq("slug",t).single();return r?null:To(e)},createEvent:async t=>{const e={id:`event_${Date.now()}`,slug:t.slug||t.nombre.toLowerCase().replace(/ /g,"-"),nombre:t.nombre,ubicacion:t.ubicacion,pais:t.pais,contact_email:t.contactEmail,fecha_inicio:t.fechaInicio,fecha_fin:t.fechaFin,descripcion:t.descripcion,estado:t.estado||"Activo"},{data:r,error:n}=await qe.from("events").insert(e).select().single();if(n)throw n;return To(r)},updateEvent:async(t,e)=>{const r={};e.nombre&&(r.nombre=e.nombre),e.slug&&(r.slug=e.slug),e.ubicacion&&(r.ubicacion=e.ubicacion),e.pais&&(r.pais=e.pais),e.contactEmail!==void 0&&(r.contact_email=e.contactEmail),e.fechaInicio&&(r.fecha_inicio=e.fechaInicio),e.fechaFin&&(r.fecha_fin=e.fechaFin),e.descripcion&&(r.descripcion=e.descripcion),e.estado&&(r.estado=e.estado);const{data:n,error:s}=await qe.from("events").update(r).eq("id",t).select().single();if(s)throw s;return To(n)},archiveEvent:async t=>{const{data:e,error:r}=await qe.from("events").update({estado:"Archivado"}).eq("id",t).select().single();if(r)throw r;return To(e)},deleteEvent:async t=>{const{count:e}=await qe.from("bookings").select("*",{count:"exact",head:!0}).eq("event_id",t);if(e&&e>0)throw new Error("No se puede eliminar evento con voluntarios registrados");const{error:r}=await qe.from("events").delete().eq("id",t);if(r)throw r},assignAdminToEvent:async(t,e,r)=>{const n={id:`ea_${Date.now()}`,user_id:t,event_id:e,assigned_by:r},{data:s,error:o}=await qe.from("event_admins").insert(n).select().single();if(o)throw o;return await qe.from("users").update({role:"admin"}).eq("id",t),{id:s.id,userId:s.user_id,eventId:s.event_id,assignedAt:s.assigned_at,assignedBy:s.assigned_by}},getEventAdmins:async t=>{const{data:e}=await qe.from("event_admins").select("user_id").eq("event_id",t);if(!e||e.length===0)return[];const r=e.map(s=>s.user_id),{data:n}=await qe.from("users").select("*").in("id",r);return(n||[]).map(_a)},revokeAdminFromEvent:async(t,e)=>{const{error:r}=await qe.from("event_admins").delete().match({user_id:t,event_id:e});if(r)throw r;const{count:n}=await qe.from("event_admins").select("*",{count:"exact",head:!0}).eq("user_id",t);n===0&&await qe.from("users").update({role:"volunteer"}).eq("id",t)},getRolesByEvent:async t=>{const{data:e,error:r}=await qe.from("roles").select("*").eq("event_id",t);if(r)throw r;return e.map(Ys)},getRoleById:async t=>{const{data:e,error:r}=await qe.from("roles").select("*").eq("id",t).single();return r?null:Ys(e)},getAllRoles:async()=>{const{data:t,error:e}=await qe.from("roles").select("*");if(e)throw e;return t.map(Ys)},createRole:async t=>{const e={id:`role_${Date.now()}`,event_id:t.eventId,name:t.name,description:t.description,detailed_tasks:t.detailedTasks,youtube_url:t.youtubeUrl,experience_level:t.experienceLevel,requires_approval:t.requiresApproval,is_visible:t.isVisible??!0},{data:r,error:n}=await qe.from("roles").insert(e).select().single();if(n)throw n;return Ys(r)},updateRole:async(t,e)=>{const r={};e.name&&(r.name=e.name),e.description&&(r.description=e.description),e.detailedTasks&&(r.detailed_tasks=e.detailedTasks),e.youtubeUrl!==void 0&&(r.youtube_url=e.youtubeUrl),e.experienceLevel&&(r.experience_level=e.experienceLevel),e.requiresApproval!==void 0&&(r.requires_approval=e.requiresApproval),e.isVisible!==void 0&&(r.is_visible=e.isVisible);const{data:n,error:s}=await qe.from("roles").update(r).eq("id",t).select().single();if(s)throw s;return Ys(n)},deleteRole:async t=>{const{count:e}=await qe.from("shifts").select("*",{count:"exact",head:!0}).eq("role_id",t);if(e&&e>0)throw new Error("No se puede eliminar rol con turnos asignados");await qe.from("roles").delete().eq("id",t)},getShiftsForDate:async(t,e)=>{const{data:r,error:n}=await qe.from("shifts").select("*").eq("event_id",t).eq("date",e);if(n)throw n;const s=r.map(u=>u.id),{data:o}=await qe.from("bookings").select("shift_id").in("shift_id",s).eq("status","confirmed");return r.map(u=>{const h=(o==null?void 0:o.filter(m=>m.shift_id===u.id).length)||0,f=u.coordinator_ids?u.coordinator_ids.length:0;return{...Ii(u),availableVacancies:Math.max(0,u.total_vacancies-h-f)}})},getShiftsByEvent:async t=>{const{data:e,error:r}=await qe.from("shifts").select("*").eq("event_id",t);if(r)throw r;return e.map(Ii)},getShiftById:async t=>{const{data:e,error:r}=await qe.from("shifts").select("*").eq("id",t).single();return r?null:Ii(e)},createShift:async t=>{const e={id:`shift_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,event_id:t.eventId,date:t.date,time_slot:t.timeSlot,role_id:t.roleId,total_vacancies:t.totalVacancies,coordinator_ids:t.coordinatorIds||[]},{data:r,error:n}=await qe.from("shifts").insert(e).select().single();if(n)throw n;return Ii(r)},updateShift:async(t,e)=>{if(e.totalVacancies!==void 0){const{count:f}=await qe.from("bookings").select("*",{count:"exact",head:!0}).eq("shift_id",t).eq("status","confirmed");if(f&&e.totalVacancies<f)throw new Error(`No se puede reducir el cupo a ${e.totalVacancies} porque ya hay ${f} voluntarios inscritos.`)}const{data:r}=await qe.from("shifts").select("*").eq("id",t).single();if(!r)throw new Error("Turno no encontrado");const n={};e.date&&(n.date=e.date),e.timeSlot&&(n.time_slot=e.timeSlot),e.totalVacancies&&(n.total_vacancies=e.totalVacancies),e.coordinatorIds&&(n.coordinator_ids=e.coordinatorIds);const{data:s,error:o}=await qe.from("shifts").update(n).eq("id",t).select().single();if(o)throw o;if(e.timeSlot&&e.timeSlot!==r.time_slot||e.date&&e.date!==r.date){const{data:f}=await qe.from("bookings").select("user_id, users(*)").eq("shift_id",t).eq("status","confirmed"),{data:m}=await qe.from("events").select("nombre").eq("id",r.event_id).single();f&&m&&f.forEach(g=>{g.users&&Gs.sendShiftModificationAlert(_a(g.users),m.nombre,r.time_slot,s.time_slot,s.date).catch(console.error)})}const u=Ii(s),{count:h}=await qe.from("bookings").select("*",{count:"exact",head:!0}).eq("shift_id",t).eq("status","confirmed");return u.availableVacancies=u.totalVacancies-(h||0),u},deleteShift:async t=>{const{count:e}=await qe.from("bookings").select("*",{count:"exact",head:!0}).eq("shift_id",t).neq("status","cancelled");if(e&&e>0)throw new Error("No se puede eliminar un turno con voluntarios inscritos");await qe.from("shifts").delete().eq("id",t)},getEventShiftDates:async t=>{const{data:e}=await qe.from("shifts").select("date").eq("event_id",t);return e?Array.from(new Set(e.map(n=>n.date))).sort():[]},assignCoordinatorToShift:async(t,e)=>{const{data:r}=await qe.from("shifts").select("*").eq("id",t).single();if(!r)throw new Error("Turno no encontrado");await qe.from("users").update({role:"coordinator"}).eq("id",e);const{data:n}=await qe.from("shifts").select("id, coordinator_ids").eq("event_id",r.event_id).eq("date",r.date).eq("time_slot",r.time_slot);if(n&&n.length>0)for(const s of n){const o=s.coordinator_ids||[];if(!o.includes(e)){const u=[...o,e];await qe.from("shifts").update({coordinator_ids:u}).eq("id",s.id)}}return Ii({...r,coordinator_ids:[...r.coordinator_ids||[],e]})},removeCoordinatorFromShift:async(t,e)=>{const{data:r}=await qe.from("shifts").select("*").eq("id",t).single();if(!r)throw new Error("Turno no encontrado");const{data:n}=await qe.from("shifts").select("id, coordinator_ids").eq("event_id",r.event_id).eq("date",r.date).eq("time_slot",r.time_slot);if(n&&n.length>0)for(const h of n){const f=h.coordinator_ids||[],m=f.filter(g=>g!==e);f.length!==m.length&&await qe.from("shifts").update({coordinator_ids:m}).eq("id",h.id)}const{count:s}=await qe.from("shifts").select("*",{count:"exact",head:!0}).contains("coordinator_ids",[e]);s===0&&await qe.from("users").update({role:"volunteer"}).eq("id",e);const{count:o}=await qe.from("bookings").select("*",{count:"exact",head:!0}).eq("user_id",e).eq("event_id",r.event_id).neq("status","cancelled"),{count:u}=await qe.from("shifts").select("*",{count:"exact",head:!0}).eq("event_id",r.event_id).contains("coordinator_ids",[e]);if(o===0&&u===0){const h=`booking_${Date.now()}_general`;await qe.from("bookings").insert({id:h,user_id:e,event_id:r.event_id,shift_id:null,status:"confirmed",requested_at:new Date().toISOString()})}return Ii({...r,coordinator_ids:(r.coordinator_ids||[]).filter(h=>h!==e)})},createBooking:async(t,e)=>{const{data:r}=await qe.from("shifts").select("*").eq("id",e).single();if(!r)throw new Error("Turno no encontrado.");const{data:n}=await qe.from("bookings").select("*").eq("user_id",t).eq("shift_id",e).neq("status","cancelled").maybeSingle();if(n)throw new Error("Ya ests inscripto en este turno.");const{count:s}=await qe.from("bookings").select("*",{count:"exact",head:!0}).eq("shift_id",e).eq("status","confirmed");if(s!==null&&s>=r.total_vacancies){const{count:w}=await qe.from("waitlist").select("*",{count:"exact",head:!0}).eq("shift_id",e),N=(w||0)+1;await qe.from("waitlist").insert({id:`wl_${Date.now()}`,user_id:t,shift_id:e,event_id:r.event_id,position:N});const x={id:`booking_${Date.now()}`,user_id:t,shift_id:e,event_id:r.event_id,status:"waitlist",requested_at:new Date().toISOString()},{data:T}=await qe.from("bookings").insert(x).select().single();throw new Error("No hay vacantes disponibles. Te agregamos a la lista de espera.")}const{data:o}=await qe.from("roles").select("*").eq("id",r.role_id).single(),u=o!=null&&o.requires_approval?"pending_approval":"confirmed",h={id:`booking_${Date.now()}`,user_id:t,shift_id:e,event_id:r.event_id,status:u,requested_at:new Date().toISOString()},{data:f}=await qe.from("bookings").insert(h).select().single();if(o&&o.name.toLowerCase().includes("coordinador"))try{const{data:w}=await qe.from("shifts").select("id, coordinator_ids").eq("event_id",r.event_id).eq("date",r.date).eq("time_slot",r.time_slot);if(w&&w.length>0){console.log(` Found ${w.length} shifts with date ${r.date} and time ${r.time_slot}`);for(const N of w){const x=N.coordinator_ids||[];if(!x.includes(t)){const T=[...x,t];await qe.from("shifts").update({coordinator_ids:T}).eq("id",N.id),console.log(` Added coordinator ${t} to shift ${N.id}`)}}console.log(` Auto-assigned user ${t} as coordinator to ${w.length} shifts`)}}catch(w){console.error("Error auto-assigning coordinator:",w)}const{data:m}=await qe.from("events").select("*").eq("id",r.event_id).single(),{data:g}=await qe.from("users").select("*").eq("id",t).single();return m&&o&&g&&Gs.sendBookingConfirmation(_a(g),To(m),o.name,r.date,r.time_slot).catch(console.error),vs(f)},enrollUserInEvent:async(t,e)=>{const{data:r}=await qe.from("bookings").select("*").eq("user_id",t).eq("event_id",e).neq("status","cancelled").maybeSingle();if(r)throw new Error("El usuario ya est inscripto en este evento.");const n={id:`bk_man_${Date.now()}`,user_id:t,event_id:e,shift_id:null,status:"confirmed",requested_at:new Date().toISOString()},{data:s,error:o}=await qe.from("bookings").insert(n).select().single();if(o)throw o;return vs(s)},getBookingsByEvent:async t=>{const{data:e}=await qe.from("bookings").select("*").eq("event_id",t).neq("status","cancelled");return(e||[]).map(vs)},getUserBookings:async(t,e)=>{let r=qe.from("bookings").select("*, shifts(*, roles(*))").eq("user_id",t).neq("status","cancelled");e&&(r=r.eq("event_id",e));const{data:n}=await r;return n?n.map(s=>{const o=vs(s);return s.shifts&&(o.shift=Ii(s.shifts),s.shifts.roles&&(o.shift.role=Ys(s.shifts.roles))),o}).sort((s,o)=>{var u,h;return new Date((u=s.shift)==null?void 0:u.date).getTime()-new Date((h=o.shift)==null?void 0:h.date).getTime()}):[]},getBookingsForShifts:async t=>{if(!t||t.length===0)return[];const{data:e}=await qe.from("bookings").select("*, users(*), shifts(*, roles(*))").in("shift_id",t).eq("status","confirmed");return e?e.map(r=>{const n=vs(r);return n.user=r.users?_a(r.users):void 0,r.shifts&&(n.shift=Ii(r.shifts),r.shifts.roles&&(n.shift.role=Ys(r.shifts.roles))),n}):[]},requestBookingCancellation:async t=>{const{data:e}=await qe.from("bookings").select("*, shifts(*), events(*)").eq("id",t).single();if(!e)throw new Error("Inscripcin no encontrada.");const r=e.shifts,n=new Date().toISOString();if(gN(r.date,r.time_slot)){const{data:o}=await qe.from("bookings").update({status:"cancelled",cancelled_at:n}).eq("id",t).select().single();return await Lt.processWaitlist(r.id),vs(o)}else{const{data:o}=await qe.from("bookings").update({status:"cancellation_requested",cancelled_at:n}).eq("id",t).select().single(),{data:u}=await qe.from("users").select("*").eq("id",e.user_id).single();return u&&Gs.sendCancellationRequestReceived(_a(u),e.events.nombre,r.date,r.time_slot).catch(console.error),vs(o)}},adminCancelBooking:async t=>{const{data:e}=await qe.from("bookings").select("*, shifts(*), events(*), users(*)").eq("id",t).single();if(!e)throw new Error("Inscripcin no encontrada.");const r=new Date().toISOString();if(await qe.from("bookings").update({status:"cancelled",cancelled_at:r}).eq("id",t),e.shifts){const{data:n}=await qe.from("roles").select("*").eq("id",e.shifts.role_id).single();if(n&&n.name.toLowerCase().includes("coordinador"))try{const{data:s}=await qe.from("shifts").select("id, coordinator_ids").eq("event_id",e.event_id).eq("date",e.shifts.date).eq("time_slot",e.shifts.time_slot);if(s&&s.length>0){console.log(` Found ${s.length} shifts with date ${e.shifts.date} and time ${e.shifts.time_slot}`);for(const o of s){const u=o.coordinator_ids||[],h=u.filter(f=>f!==e.user_id);u.length!==h.length&&(await qe.from("shifts").update({coordinator_ids:h}).eq("id",o.id),console.log(` Removed coordinator ${e.user_id} from shift ${o.id}`))}console.log(` Auto-removed user ${e.user_id} as coordinator from ${s.length} shifts`)}}catch(s){console.error("Error auto-removing coordinator:",s)}}await Lt.processWaitlist(e.shift_id),e.users&&e.events&&e.shifts&&Gs.sendBookingCancelledByAdmin(_a(e.users),e.events.nombre,e.shifts.date,e.shifts.time_slot).catch(console.error)},processWaitlist:async t=>{const{data:e}=await qe.from("waitlist").select("*").eq("shift_id",t).order("position",{ascending:!0});if(e&&e.length>0){const r=e[0];await qe.from("bookings").update({status:"confirmed"}).eq("user_id",r.user_id).eq("shift_id",t),await qe.from("waitlist").delete().eq("id",r.id)}},updateBookingAttendance:async(t,e)=>{var r,n,s,o,u;if(await qe.from("bookings").update({attendance:e}).eq("id",t),e!=="pending"){const{data:h}=await qe.from("bookings").select("*, users(*), shifts(*, roles(*)), events(*)").eq("id",t).single();if(h&&h.users){const f=_a(h.users),m=(r=h.events)==null?void 0:r.nombre,g=(s=(n=h.shifts)==null?void 0:n.roles)==null?void 0:s.name,w=(o=h.shifts)==null?void 0:o.date,N=(u=h.shifts)==null?void 0:u.time_slot;e==="attended"?Gs.sendAttendanceThankYou(f,m,g,w,N).catch(console.error):Gs.sendAbsenceFollowUp(f,m,w,N).catch(console.error)}}},updateBookingFoodStatus:async(t,e)=>{const{error:r}=await qe.from("bookings").update({food_delivered:e}).eq("id",t);if(r)throw r},getUserEvents:async t=>{const{data:e}=await qe.from("bookings").select("event_id, events(*)").eq("user_id",t).neq("status","cancelled");if(!e)return[];const r=new Map;e.forEach(s=>{s.events&&r.set(s.events.id,To(s.events))});const{data:n}=await qe.from("shifts").select("event_id, events(*)").contains("coordinator_ids",[t]);return n&&n.forEach(s=>{s.events&&r.set(s.events.id,To(s.events))}),Array.from(r.values())},getPendingCancellations:async t=>{let e=qe.from("bookings").select("*, users(*), shifts(*, roles(*))").eq("status","cancellation_requested");t&&(e=e.eq("event_id",t));const{data:r}=await e;return(r||[]).map(n=>{const s=vs(n);return s.user=_a(n.users),n.shifts&&(s.shift=Ii(n.shifts),s.shift.role=Ys(n.shifts.roles)),s})},approveCancellation:async t=>{const{data:e}=await qe.from("bookings").update({status:"cancelled"}).eq("id",t).select("*, shifts(*), events(*), users(*)").single();return await Lt.processWaitlist(e.shift_id),e.events&&e.shifts&&Gs.sendCancellationApproved(_a(e.users),e.events.nombre,e.shifts.date).catch(console.error),vs(e)},rejectCancellation:async t=>{const{data:e}=await qe.from("bookings").update({status:"confirmed"}).eq("id",t).select("*, shifts(*), events(*), users(*)").single();return e.events&&e.shifts&&Gs.sendCancellationRejected(_a(e.users),e.events.nombre,e.shifts.date,e.shifts.time_slot).catch(console.error),vs(e)},getPrintableRoster:async(t,e,r)=>{const{data:n}=await qe.from("bookings").select("*, users(full_name, dni), shifts(role_id, roles(name))").eq("event_id",t).eq("status","confirmed"),{data:s}=await qe.from("bookings").select("users(full_name, dni), shifts!inner(role_id, date, time_slot, roles(name))").eq("event_id",t).eq("status","confirmed").eq("shifts.date",e).eq("shifts.time_slot",r);return(s||[]).map(o=>({fullName:o.users.full_name||"N/A",dni:o.users.dni||"N/A",role:o.shifts.roles.name||"N/A"})).sort((o,u)=>o.role.localeCompare(u.role))},getDashboardMetrics:async t=>{const{data:e}=await qe.from("shifts").select("*").eq("event_id",t),{data:r}=await qe.from("bookings").select("*").eq("event_id",t).eq("status","confirmed"),{data:n}=await qe.from("bookings").select("*").eq("event_id",t),{data:s}=await qe.from("waitlist").select("*").eq("event_id",t),{data:o}=await qe.from("roles").select("*").eq("event_id",t),{data:u}=await qe.from("users").select("*");if(!e||!r||!o||!u)return{eventId:t,totalVacancies:0,occupiedVacancies:0,availableVacancies:0,occupationPercentage:0,totalVolunteers:0,uniqueVolunteers:0,avgShiftsPerVolunteer:0,totalShifts:0,pendingCancellations:0,waitlistCount:0,roleDistribution:[],dailyOccupation:[],shiftOccupation:{},attendancePercentage:0,previousExperiencePercentage:0,pendingCoordinatorRequests:0};const h=e.reduce((F,oe)=>F+oe.total_vacancies,0),f=r.length,m=h-f,g=h>0?Math.round(f/h*100):0,w=new Set(r.map(F=>F.user_id)).size,N=w>0?(f/w).toFixed(1):0,x=n?n.filter(F=>F.status==="cancellation_requested").length:0,T=n?n.filter(F=>F.status==="pending_approval").length:0,k=s?s.length:0,O=r.reduce((F,oe)=>{const le=e.find(Q=>Q.id===oe.shift_id),_e=o.find(Q=>Q.id===(le==null?void 0:le.role_id));if(_e){const Q=F.find(ue=>ue.roleName===_e.name);Q?Q.count++:F.push({roleName:_e.name,count:1,color:"#4F46E5"})}return F},[]);e.forEach(F=>{if(F.coordinator_ids&&F.coordinator_ids.length>0){const oe=o.find(le=>le.id===F.role_id);if(oe){const le=O.find(_e=>_e.roleName===oe.name);le?le.count+=F.coordinator_ids.length:O.push({roleName:oe.name,count:F.coordinator_ids.length,color:"#10B981"})}}});const G=[...new Set(e.map(F=>F.date))].sort().map(F=>{const oe=e.filter(ue=>ue.date===F),le=r.filter(ue=>{const he=e.find(je=>je.id===ue.shift_id);return(he==null?void 0:he.date)===F}),_e=oe.reduce((ue,he)=>ue+he.total_vacancies,0),Q=_e>0?Math.round(le.length/_e*100):0;return{date:F,occupation:Q}}),D={};[...new Set(e.map(F=>F.time_slot))].sort().forEach(F=>{const oe=e.filter(Q=>Q.time_slot===F),le=r.filter(Q=>{const ue=e.find(he=>he.id===Q.shift_id);return(ue==null?void 0:ue.time_slot)===F}),_e=oe.reduce((Q,ue)=>Q+ue.total_vacancies,0);D[F]=_e>0?Math.round(le.length/_e*100):0});const ie=r.filter(F=>F.attendance==="attended").length,se=r.filter(F=>F.attendance==="absent").length,K=ie+se,Z=K>0?Math.round(ie/K*100):0,V=[...new Set(r.map(F=>F.user_id))],ye=u.filter(F=>V.includes(F.id)&&F.attended_previous).length,U=w>0?Math.round(ye/w*100):0;return{eventId:t,totalVacancies:h,occupiedVacancies:f,availableVacancies:m,occupationPercentage:g,totalVolunteers:w,uniqueVolunteers:w,avgShiftsPerVolunteer:Number(N),totalShifts:e.length,pendingCancellations:x,waitlistCount:k,roleDistribution:O,dailyOccupation:G,shiftOccupation:D,attendancePercentage:Z,previousExperiencePercentage:U,pendingCoordinatorRequests:T}},getPendingCoordinatorRequests:async t=>{let e=qe.from("bookings").select("*, users(*), shifts(*, roles(*))").eq("status","pending_approval");t&&(e=e.eq("event_id",t));const{data:r}=await e;return(r||[]).map(n=>{const s=vs(n);return s.user=_a(n.users),n.shifts&&(s.shift=Ii(n.shifts),n.shifts.roles&&(s.shift.role=Ys(n.shifts.roles))),s})},approveCoordinatorRequest:async t=>{const{data:e,error:r}=await qe.from("bookings").update({status:"confirmed"}).eq("id",t).select("*, users(*), shifts(*, roles(*)), events(*)").single();if(r||!e)throw r||new Error("Error approving request");if(e.user_id&&(await qe.from("users").update({role:"coordinator"}).eq("id",e.user_id),e.shift_id&&e.shifts)){const{data:n}=await qe.from("shifts").select("id, coordinator_ids").eq("event_id",e.event_id).eq("date",e.shifts.date).eq("time_slot",e.shifts.time_slot);if(n&&n.length>0)for(const s of n){const o=s.coordinator_ids||[];if(!o.includes(e.user_id)){const u=[...o,e.user_id];await qe.from("shifts").update({coordinator_ids:u}).eq("id",s.id)}}}},rejectCoordinatorRequest:async t=>{const{error:e}=await qe.from("bookings").update({status:"cancelled"}).eq("id",t);if(e)throw e},getMaterialsByEvent:async t=>{const{data:e,error:r}=await qe.from("materials").select("*").eq("event_id",t);if(r)throw r;return e.map(Nm)},createMaterial:async t=>{const e={event_id:t.eventId,name:t.name,description:t.description,quantity:t.quantity,category:t.category,is_required:t.isRequired},{data:r,error:n}=await qe.from("materials").insert(e).select().single();if(n)throw n;return Nm(r)},updateMaterial:async(t,e)=>{const r={};e.name&&(r.name=e.name),e.description&&(r.description=e.description),e.quantity!==void 0&&(r.quantity=e.quantity),e.category&&(r.category=e.category),e.isRequired!==void 0&&(r.is_required=e.isRequired);const{data:n,error:s}=await qe.from("materials").update(r).eq("id",t).select().single();if(s)throw s;return Nm(n)},deleteMaterial:async t=>{const{error:e}=await qe.from("materials").delete().eq("id",t);if(e)throw e},getUserMaterials:async t=>{const{data:e,error:r}=await qe.from("user_materials").select("*").eq("event_id",t);if(r){if(r.code==="42P01")return[];throw r}return e||[]},toggleUserMaterial:async(t,e,r,n)=>{if(n){const{error:s}=await qe.from("user_materials").insert({event_id:t,user_id:e,material_id:r});if(s&&s.code!=="23505")throw s}else{const{error:s}=await qe.from("user_materials").delete().match({event_id:t,user_id:e,material_id:r});if(s)throw s}},addCoordinatorToShift:async(t,e)=>{const{data:r}=await qe.from("shifts").select("coordinator_ids").eq("id",t).single();if(!r)throw new Error("Shift not found");const n=r.coordinator_ids||[];if(n.includes(e))return;const s=[...n,e],{error:o}=await qe.from("shifts").update({coordinator_ids:s}).eq("id",t);if(o)throw o},removeCoordinatorFromShift:async(t,e)=>{const{data:r}=await qe.from("shifts").select("coordinator_ids").eq("id",t).single();if(!r)throw new Error("Shift not found");const s=(r.coordinator_ids||[]).filter(u=>u!==e),{error:o}=await qe.from("shifts").update({coordinator_ids:s}).eq("id",t);if(o)throw o}},Jt=Lt;/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),Z2=t=>{const e=yN(t);return e.charAt(0).toUpperCase()+e.slice(1)},pb=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),bN=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=X.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:u,...h},f)=>X.createElement("svg",{ref:f,...xN,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:pb("lucide",s),...!o&&!bN(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,g])=>X.createElement(m,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=(t,e)=>{const r=X.forwardRef(({className:n,...s},o)=>X.createElement(wN,{ref:o,iconNode:e,className:pb(`lucide-${vN(Z2(t))}`,`lucide-${t}`,n),...s}));return r.displayName=Z2(t),r};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Zh=qt("archive",_N);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],SN=qt("arrow-left",NN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Q2=qt("ban",jN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],EN=qt("briefcase",AN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$a=qt("calendar",CN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],TN=qt("chart-pie",kN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ev=qt("chevron-down",LN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tv=qt("chevron-left",RN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rv=qt("chevron-right",ON);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],MN=qt("chevron-up",DN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],up=qt("circle-alert",BN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qs=qt("circle-check-big",UN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Sm=qt("circle-check",PN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Gd=qt("circle-x",zN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],IN=qt("circle",qN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bo=qt("clock",FN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Hp=qt("copy",$N);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Nc=qt("download",HN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],av=qt("eye-off",VN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nv=qt("eye",GN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],iv=qt("file-text",WN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gb=qt("funnel",YN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ef=qt("info",KN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],vb=qt("lock",JN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZN=qt("log-out",XN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ff=qt("mail",QN);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dp=qt("map-pin",eS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Cf=qt("package",tS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ll=qt("pen",rS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],yb=qt("phone",aS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$u=qt("plus",nS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],hp=qt("printer",iS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Vp=qt("save",sS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Sc=qt("search",oS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Tl=qt("share-2",lS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],wc=qt("shield",cS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],dS=qt("star",uS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],fS=qt("tag",hS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jc=qt("trash-2",mS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],mf=qt("trending-up",pS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fp=qt("triangle-alert",gS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],sv=qt("upload",vS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bS=qt("user-check",yS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bb=qt("user",xS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Js=qt("users",wS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],ov=qt("utensils",_S);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zo=qt("x",NS);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],mp=qt("youtube",SS),jS="modulepreload",AS=function(t){return"/voluntarios/"+t},lv={},jm=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let u=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=u(r.map(m=>{if(m=AS(m),m in lv)return;lv[m]=!0;const g=m.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const N=document.createElement("link");if(N.rel=g?"stylesheet":jS,g||(N.as="script"),N.crossOrigin="",N.href=m,f&&N.setAttribute("nonce",f),document.head.appendChild(N),g)return new Promise((x,T)=>{N.addEventListener("load",x),N.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return s.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function Er(t){"@babel/helpers - typeof";return Er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(t)}var _s=Uint8Array,bi=Uint16Array,Gp=Int32Array,Wp=new _s([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Yp=new _s([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cv=new _s([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xb=function(t,e){for(var r=new bi(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new Gp(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)s[o]=o-r[n]<<5|n;return{b:r,r:s}},wb=xb(Wp,2),ES=wb.b,pp=wb.r;ES[28]=258,pp[258]=28;var CS=xb(Yp,0),uv=CS.r,gp=new bi(32768);for(var Wr=0;Wr<32768;++Wr){var Sl=(Wr&43690)>>1|(Wr&21845)<<1;Sl=(Sl&52428)>>2|(Sl&13107)<<2,Sl=(Sl&61680)>>4|(Sl&3855)<<4,gp[Wr]=((Sl&65280)>>8|(Sl&255)<<8)>>1}var Bd=(function(t,e,r){for(var n=t.length,s=0,o=new bi(e);s<n;++s)t[s]&&++o[t[s]-1];var u=new bi(e);for(s=1;s<e;++s)u[s]=u[s-1]+o[s-1]<<1;var h;if(r){h=new bi(1<<e);var f=15-e;for(s=0;s<n;++s)if(t[s])for(var m=s<<4|t[s],g=e-t[s],w=u[t[s]-1]++<<g,N=w|(1<<g)-1;w<=N;++w)h[gp[w]>>f]=m}else for(h=new bi(n),s=0;s<n;++s)t[s]&&(h[s]=gp[u[t[s]-1]++]>>15-t[s]);return h}),Ac=new _s(288);for(var Wr=0;Wr<144;++Wr)Ac[Wr]=8;for(var Wr=144;Wr<256;++Wr)Ac[Wr]=9;for(var Wr=256;Wr<280;++Wr)Ac[Wr]=7;for(var Wr=280;Wr<288;++Wr)Ac[Wr]=8;var kf=new _s(32);for(var Wr=0;Wr<32;++Wr)kf[Wr]=5;var kS=Bd(Ac,9,0),TS=Bd(kf,5,0),_b=function(t){return(t+7)/8|0},LS=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new _s(t.subarray(e,r))},Lo=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Ld=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Am=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,o=r.slice();if(!s)return{t:Sb,l:0};if(s==1){var u=new _s(r[0].s+1);return u[r[0].s]=1,{t:u,l:1}}r.sort(function(ie,se){return ie.f-se.f}),r.push({s:-1,f:25001});var h=r[0],f=r[1],m=0,g=1,w=2;for(r[0]={s:-1,f:h.f+f.f,l:h,r:f};g!=s-1;)h=r[r[m].f<r[w].f?m++:w++],f=r[m!=g&&r[m].f<r[w].f?m++:w++],r[g++]={s:-1,f:h.f+f.f,l:h,r:f};for(var N=o[0].s,n=1;n<s;++n)o[n].s>N&&(N=o[n].s);var x=new bi(N+1),T=vp(r[g-1],x,0);if(T>e){var n=0,k=0,O=T-e,R=1<<O;for(o.sort(function(se,K){return x[K.s]-x[se.s]||se.f-K.f});n<s;++n){var G=o[n].s;if(x[G]>e)k+=R-(1<<T-x[G]),x[G]=e;else break}for(k>>=O;k>0;){var D=o[n].s;x[D]<e?k-=1<<e-x[D]++-1:++n}for(;n>=0&&k;--n){var W=o[n].s;x[W]==e&&(--x[W],++k)}T=e}return{t:new _s(x),l:T}},vp=function(t,e,r){return t.s==-1?Math.max(vp(t.l,e,r+1),vp(t.r,e,r+1)):e[t.s]=r},dv=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new bi(++e),n=0,s=t[0],o=1,u=function(f){r[n++]=f},h=1;h<=e;++h)if(t[h]==s&&h!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=t[h]}return{c:r.subarray(0,n),n:e}},Rd=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Nb=function(t,e,r){var n=r.length,s=_b(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var o=0;o<n;++o)t[s+o+4]=r[o];return(s+4+n)*8},hv=function(t,e,r,n,s,o,u,h,f,m,g){Lo(e,g++,r),++s[256];for(var w=Am(s,15),N=w.t,x=w.l,T=Am(o,15),k=T.t,O=T.l,R=dv(N),G=R.c,D=R.n,W=dv(k),ie=W.c,se=W.n,K=new bi(19),Z=0;Z<G.length;++Z)++K[G[Z]&31];for(var Z=0;Z<ie.length;++Z)++K[ie[Z]&31];for(var V=Am(K,7),ye=V.t,U=V.l,F=19;F>4&&!ye[cv[F-1]];--F);var oe=m+5<<3,le=Rd(s,Ac)+Rd(o,kf)+u,_e=Rd(s,N)+Rd(o,k)+u+14+3*F+Rd(K,ye)+2*K[16]+3*K[17]+7*K[18];if(f>=0&&oe<=le&&oe<=_e)return Nb(e,g,t.subarray(f,f+m));var Q,ue,he,je;if(Lo(e,g,1+(_e<le)),g+=2,_e<le){Q=Bd(N,x,0),ue=N,he=Bd(k,O,0),je=k;var me=Bd(ye,U,0);Lo(e,g,D-257),Lo(e,g+5,se-1),Lo(e,g+10,F-4),g+=14;for(var Z=0;Z<F;++Z)Lo(e,g+3*Z,ye[cv[Z]]);g+=3*F;for(var z=[G,ie],j=0;j<2;++j)for(var A=z[j],Z=0;Z<A.length;++Z){var L=A[Z]&31;Lo(e,g,me[L]),g+=ye[L],L>15&&(Lo(e,g,A[Z]>>5&127),g+=A[Z]>>12)}}else Q=kS,ue=Ac,he=TS,je=kf;for(var Z=0;Z<h;++Z){var q=n[Z];if(q>255){var L=q>>18&31;Ld(e,g,Q[L+257]),g+=ue[L+257],L>7&&(Lo(e,g,q>>23&31),g+=Wp[L]);var te=q&31;Ld(e,g,he[te]),g+=je[te],te>3&&(Ld(e,g,q>>5&8191),g+=Yp[te])}else Ld(e,g,Q[q]),g+=ue[q]}return Ld(e,g,Q[256]),g+ue[256]},RS=new Gp([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Sb=new _s(0),OS=function(t,e,r,n,s,o){var u=o.z||t.length,h=new _s(n+u+5*(1+Math.ceil(u/7e3))+s),f=h.subarray(n,h.length-s),m=o.l,g=(o.r||0)&7;if(e){g&&(f[0]=o.r>>3);for(var w=RS[e-1],N=w>>13,x=w&8191,T=(1<<r)-1,k=o.p||new bi(32768),O=o.h||new bi(T+1),R=Math.ceil(r/3),G=2*R,D=function(Me){return(t[Me]^t[Me+1]<<R^t[Me+2]<<G)&T},W=new Gp(25e3),ie=new bi(288),se=new bi(32),K=0,Z=0,V=o.i||0,ye=0,U=o.w||0,F=0;V+2<u;++V){var oe=D(V),le=V&32767,_e=O[oe];if(k[le]=_e,O[oe]=le,U<=V){var Q=u-V;if((K>7e3||ye>24576)&&(Q>423||!m)){g=hv(t,f,0,W,ie,se,Z,ye,F,V-F,g),ye=K=Z=0,F=V;for(var ue=0;ue<286;++ue)ie[ue]=0;for(var ue=0;ue<30;++ue)se[ue]=0}var he=2,je=0,me=x,z=le-_e&32767;if(Q>2&&oe==D(V-z))for(var j=Math.min(N,Q)-1,A=Math.min(32767,V),L=Math.min(258,Q);z<=A&&--me&&le!=_e;){if(t[V+he]==t[V+he-z]){for(var q=0;q<L&&t[V+q]==t[V+q-z];++q);if(q>he){if(he=q,je=z,q>j)break;for(var te=Math.min(z,q-2),de=0,ue=0;ue<te;++ue){var ge=V-z+ue&32767,be=k[ge],Te=ge-be&32767;Te>de&&(de=Te,_e=ge)}}}le=_e,_e=k[le],z+=le-_e&32767}if(je){W[ye++]=268435456|pp[he]<<18|uv[je];var $e=pp[he]&31,tt=uv[je]&31;Z+=Wp[$e]+Yp[tt],++ie[257+$e],++se[tt],U=V+he,++K}else W[ye++]=t[V],++ie[t[V]]}}for(V=Math.max(V,U);V<u;++V)W[ye++]=t[V],++ie[t[V]];g=hv(t,f,m,W,ie,se,Z,ye,F,V-F,g),m||(o.r=g&7|f[g/8|0]<<3,g-=7,o.h=O,o.p=k,o.i=V,o.w=U)}else{for(var V=o.w||0;V<u+m;V+=65535){var ce=V+65535;ce>=u&&(f[g/8|0]=m,ce=u),g=Nb(f,g+1,t.subarray(V,ce))}o.i=u}return LS(h,0,n+_b(g)+s)},jb=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,o=r.length|0,u=0;u!=o;){for(var h=Math.min(u+2655,o);u<h;++u)s+=n+=r[u];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},DS=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new _s(o.length+t.length);u.set(o),u.set(t,o.length),t=u,s.w=o.length}return OS(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},Ab=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},MS=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=jb();s.p(e.dictionary),Ab(t,2,s.d())}};function yp(t,e){e||(e={});var r=jb();r.p(t);var n=DS(t,e,e.dictionary?6:2,4);return MS(n,e),Ab(n,n.length-4,r.d()),n}var BS=typeof TextDecoder<"u"&&new TextDecoder,US=0;try{BS.decode(Sb,{stream:!0}),US=1}catch{}function PS(t){if(Array.isArray(t))return t}function zS(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,o,u,h=[],f=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(f=(n=o.call(r)).done)&&(h.push(n.value),h.length!==e);f=!0);}catch(g){m=!0,s=g}finally{try{if(!f&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(m)throw s}}return h}}function fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function qS(t,e){if(t){if(typeof t=="string")return fv(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fv(t,e):void 0}}function IS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mv(t,e){return PS(t)||zS(t,e)||qS(t,e)||IS()}function pv(t,e="utf8"){return new TextDecoder(e).decode(t)}const FS=new TextEncoder;function $S(t){return FS.encode(t)}const HS=1024*8,VS=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Em={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Kp{constructor(e=HS,r={}){Ar(this,"buffer");Ar(this,"byteLength");Ar(this,"byteOffset");Ar(this,"length");Ar(this,"offset");Ar(this,"lastWrittenByte");Ar(this,"littleEndian");Ar(this,"_data");Ar(this,"_mark");Ar(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const s=r.offset?r.offset>>>0:0,o=e.byteLength-s;let u=s;(ArrayBuffer.isView(e)||e instanceof Kp)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+s),e=e.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Em[r].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+n);if(this.littleEndian===VS&&r!=="uint8"&&r!=="int8"){const h=new Uint8Array(this.buffer.slice(s,s+n));h.reverse();const f=new Em[r](h.buffer);return this.offset+=n,f.reverse(),f}const u=new Em[r](o);return this.offset+=n,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return pv(this.readBytes(e))}decodeText(e=1,r="utf8"){return pv(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes($S(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Gu(t){let e=t.length;for(;--e>=0;)t[e]=0}const GS=3,WS=258,Eb=29,YS=256,KS=YS+1+Eb,Cb=30,JS=512,XS=new Array((KS+2)*2);Gu(XS);const ZS=new Array(Cb*2);Gu(ZS);const QS=new Array(JS);Gu(QS);const e6=new Array(WS-GS+1);Gu(e6);const t6=new Array(Eb);Gu(t6);const r6=new Array(Cb);Gu(r6);const a6=(t,e,r,n)=>{let s=t&65535|0,o=t>>>16&65535|0,u=0;for(;r!==0;){u=r>2e3?2e3:r,r-=u;do s=s+e[n++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var bp=a6;const n6=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},i6=new Uint32Array(n6()),s6=(t,e,r,n)=>{const s=i6,o=n+r;t^=-1;for(let u=n;u<o;u++)t=t>>>8^s[(t^e[u])&255];return t^-1};var Ws=s6,xp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},kb={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const o6=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var l6=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)o6(r,n)&&(t[n]=r[n])}}return t},c6=t=>{let e=0;for(let n=0,s=t.length;n<s;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,s=0,o=t.length;n<o;n++){let u=t[n];r.set(u,s),s+=u.length}return r},Tb={assign:l6,flattenChunks:c6};let Lb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Lb=!1}const Wd=new Uint8Array(256);for(let t=0;t<256;t++)Wd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Wd[254]=Wd[254]=1;var u6=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,s,o,u=t.length,h=0;for(s=0;s<u;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<u&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),h+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(h),o=0,s=0;o<h;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<u&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|r&63):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|r&63):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|r&63);return e};const d6=(t,e)=>{if(e<65534&&t.subarray&&Lb)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var h6=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,s;const o=new Array(r*2);for(s=0,n=0;n<r;){let u=t[n++];if(u<128){o[s++]=u;continue}let h=Wd[u];if(h>4){o[s++]=65533,n+=h-1;continue}for(u&=h===2?31:h===3?15:7;h>1&&n<r;)u=u<<6|t[n++]&63,h--;if(h>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return d6(o,s)},f6=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Wd[t[r]]>e?r:e},wp={string2buf:u6,buf2string:h6,utf8border:f6};function m6(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var p6=m6;const Qh=16209,g6=16191;var v6=function(e,r){let n,s,o,u,h,f,m,g,w,N,x,T,k,O,R,G,D,W,ie,se,K,Z,V,ye;const U=e.state;n=e.next_in,V=e.input,s=n+(e.avail_in-5),o=e.next_out,ye=e.output,u=o-(r-e.avail_out),h=o+(e.avail_out-257),f=U.dmax,m=U.wsize,g=U.whave,w=U.wnext,N=U.window,x=U.hold,T=U.bits,k=U.lencode,O=U.distcode,R=(1<<U.lenbits)-1,G=(1<<U.distbits)-1;e:do{T<15&&(x+=V[n++]<<T,T+=8,x+=V[n++]<<T,T+=8),D=k[x&R];t:for(;;){if(W=D>>>24,x>>>=W,T-=W,W=D>>>16&255,W===0)ye[o++]=D&65535;else if(W&16){ie=D&65535,W&=15,W&&(T<W&&(x+=V[n++]<<T,T+=8),ie+=x&(1<<W)-1,x>>>=W,T-=W),T<15&&(x+=V[n++]<<T,T+=8,x+=V[n++]<<T,T+=8),D=O[x&G];r:for(;;){if(W=D>>>24,x>>>=W,T-=W,W=D>>>16&255,W&16){if(se=D&65535,W&=15,T<W&&(x+=V[n++]<<T,T+=8,T<W&&(x+=V[n++]<<T,T+=8)),se+=x&(1<<W)-1,se>f){e.msg="invalid distance too far back",U.mode=Qh;break e}if(x>>>=W,T-=W,W=o-u,se>W){if(W=se-W,W>g&&U.sane){e.msg="invalid distance too far back",U.mode=Qh;break e}if(K=0,Z=N,w===0){if(K+=m-W,W<ie){ie-=W;do ye[o++]=N[K++];while(--W);K=o-se,Z=ye}}else if(w<W){if(K+=m+w-W,W-=w,W<ie){ie-=W;do ye[o++]=N[K++];while(--W);if(K=0,w<ie){W=w,ie-=W;do ye[o++]=N[K++];while(--W);K=o-se,Z=ye}}}else if(K+=w-W,W<ie){ie-=W;do ye[o++]=N[K++];while(--W);K=o-se,Z=ye}for(;ie>2;)ye[o++]=Z[K++],ye[o++]=Z[K++],ye[o++]=Z[K++],ie-=3;ie&&(ye[o++]=Z[K++],ie>1&&(ye[o++]=Z[K++]))}else{K=o-se;do ye[o++]=ye[K++],ye[o++]=ye[K++],ye[o++]=ye[K++],ie-=3;while(ie>2);ie&&(ye[o++]=ye[K++],ie>1&&(ye[o++]=ye[K++]))}}else if((W&64)===0){D=O[(D&65535)+(x&(1<<W)-1)];continue r}else{e.msg="invalid distance code",U.mode=Qh;break e}break}}else if((W&64)===0){D=k[(D&65535)+(x&(1<<W)-1)];continue t}else if(W&32){U.mode=g6;break e}else{e.msg="invalid literal/length code",U.mode=Qh;break e}break}}while(n<s&&o<h);ie=T>>3,n-=ie,T-=ie<<3,x&=(1<<T)-1,e.next_in=n,e.next_out=o,e.avail_in=n<s?5+(s-n):5-(n-s),e.avail_out=o<h?257+(h-o):257-(o-h),U.hold=x,U.bits=T};const Eu=15,gv=852,vv=592,yv=0,Cm=1,bv=2,y6=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),b6=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),x6=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),w6=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),_6=(t,e,r,n,s,o,u,h)=>{const f=h.bits;let m=0,g=0,w=0,N=0,x=0,T=0,k=0,O=0,R=0,G=0,D,W,ie,se,K,Z=null,V;const ye=new Uint16Array(Eu+1),U=new Uint16Array(Eu+1);let F=null,oe,le,_e;for(m=0;m<=Eu;m++)ye[m]=0;for(g=0;g<n;g++)ye[e[r+g]]++;for(x=f,N=Eu;N>=1&&ye[N]===0;N--);if(x>N&&(x=N),N===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,h.bits=1,0;for(w=1;w<N&&ye[w]===0;w++);for(x<w&&(x=w),O=1,m=1;m<=Eu;m++)if(O<<=1,O-=ye[m],O<0)return-1;if(O>0&&(t===yv||N!==1))return-1;for(U[1]=0,m=1;m<Eu;m++)U[m+1]=U[m]+ye[m];for(g=0;g<n;g++)e[r+g]!==0&&(u[U[e[r+g]]++]=g);if(t===yv?(Z=F=u,V=20):t===Cm?(Z=y6,F=b6,V=257):(Z=x6,F=w6,V=0),G=0,g=0,m=w,K=o,T=x,k=0,ie=-1,R=1<<x,se=R-1,t===Cm&&R>gv||t===bv&&R>vv)return 1;for(;;){oe=m-k,u[g]+1<V?(le=0,_e=u[g]):u[g]>=V?(le=F[u[g]-V],_e=Z[u[g]-V]):(le=96,_e=0),D=1<<m-k,W=1<<T,w=W;do W-=D,s[K+(G>>k)+W]=oe<<24|le<<16|_e|0;while(W!==0);for(D=1<<m-1;G&D;)D>>=1;if(D!==0?(G&=D-1,G+=D):G=0,g++,--ye[m]===0){if(m===N)break;m=e[r+u[g]]}if(m>x&&(G&se)!==ie){for(k===0&&(k=x),K+=w,T=m-k,O=1<<T;T+k<N&&(O-=ye[T+k],!(O<=0));)T++,O<<=1;if(R+=1<<T,t===Cm&&R>gv||t===bv&&R>vv)return 1;ie=G&se,s[ie]=x<<24|T<<16|K-o|0}}return G!==0&&(s[K+G]=m-k<<24|64<<16|0),h.bits=x,0};var Ud=_6;const N6=0,Rb=1,Ob=2,{Z_FINISH:xv,Z_BLOCK:S6,Z_TREES:ef,Z_OK:Ec,Z_STREAM_END:j6,Z_NEED_DICT:A6,Z_STREAM_ERROR:Fi,Z_DATA_ERROR:Db,Z_MEM_ERROR:Mb,Z_BUF_ERROR:E6,Z_DEFLATED:wv}=kb,Ff=16180,_v=16181,Nv=16182,Sv=16183,jv=16184,Av=16185,Ev=16186,Cv=16187,kv=16188,Tv=16189,Tf=16190,Ro=16191,km=16192,Lv=16193,Tm=16194,Rv=16195,Ov=16196,Dv=16197,Mv=16198,tf=16199,rf=16200,Bv=16201,Uv=16202,Pv=16203,zv=16204,qv=16205,Lm=16206,Iv=16207,Fv=16208,Zr=16209,Bb=16210,Ub=16211,C6=852,k6=592,T6=15,L6=T6,$v=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function R6(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const kc=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Ff||e.mode>Ub?1:0},Pb=t=>{if(kc(t))return Fi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Ff,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(C6),e.distcode=e.distdyn=new Int32Array(k6),e.sane=1,e.back=-1,Ec},zb=t=>{if(kc(t))return Fi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Pb(t)},qb=(t,e)=>{let r;if(kc(t))return Fi;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Fi:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,zb(t))},Ib=(t,e)=>{if(!t)return Fi;const r=new R6;t.state=r,r.strm=t,r.window=null,r.mode=Ff;const n=qb(t,e);return n!==Ec&&(t.state=null),n},O6=t=>Ib(t,L6);let Hv=!0,Rm,Om;const D6=t=>{if(Hv){Rm=new Int32Array(512),Om=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ud(Rb,t.lens,0,288,Rm,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ud(Ob,t.lens,0,32,Om,0,t.work,{bits:5}),Hv=!1}t.lencode=Rm,t.lenbits=9,t.distcode=Om,t.distbits=5},Fb=(t,e,r,n)=>{let s;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>n&&(s=n),o.window.set(e.subarray(r-n,r-n+s),o.wnext),n-=s,n?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},M6=(t,e)=>{let r,n,s,o,u,h,f,m,g,w,N,x,T,k,O=0,R,G,D,W,ie,se,K,Z;const V=new Uint8Array(4);let ye,U;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(kc(t)||!t.output||!t.input&&t.avail_in!==0)return Fi;r=t.state,r.mode===Ro&&(r.mode=km),u=t.next_out,s=t.output,f=t.avail_out,o=t.next_in,n=t.input,h=t.avail_in,m=r.hold,g=r.bits,w=h,N=f,Z=Ec;e:for(;;)switch(r.mode){case Ff:if(r.wrap===0){r.mode=km;break}for(;g<16;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}if(r.wrap&2&&m===35615){r.wbits===0&&(r.wbits=15),r.check=0,V[0]=m&255,V[1]=m>>>8&255,r.check=Ws(r.check,V,2,0),m=0,g=0,r.mode=_v;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((m&255)<<8)+(m>>8))%31){t.msg="incorrect header check",r.mode=Zr;break}if((m&15)!==wv){t.msg="unknown compression method",r.mode=Zr;break}if(m>>>=4,g-=4,K=(m&15)+8,r.wbits===0&&(r.wbits=K),K>15||K>r.wbits){t.msg="invalid window size",r.mode=Zr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=m&512?Tv:Ro,m=0,g=0;break;case _v:for(;g<16;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}if(r.flags=m,(r.flags&255)!==wv){t.msg="unknown compression method",r.mode=Zr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Zr;break}r.head&&(r.head.text=m>>8&1),r.flags&512&&r.wrap&4&&(V[0]=m&255,V[1]=m>>>8&255,r.check=Ws(r.check,V,2,0)),m=0,g=0,r.mode=Nv;case Nv:for(;g<32;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}r.head&&(r.head.time=m),r.flags&512&&r.wrap&4&&(V[0]=m&255,V[1]=m>>>8&255,V[2]=m>>>16&255,V[3]=m>>>24&255,r.check=Ws(r.check,V,4,0)),m=0,g=0,r.mode=Sv;case Sv:for(;g<16;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}r.head&&(r.head.xflags=m&255,r.head.os=m>>8),r.flags&512&&r.wrap&4&&(V[0]=m&255,V[1]=m>>>8&255,r.check=Ws(r.check,V,2,0)),m=0,g=0,r.mode=jv;case jv:if(r.flags&1024){for(;g<16;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}r.length=m,r.head&&(r.head.extra_len=m),r.flags&512&&r.wrap&4&&(V[0]=m&255,V[1]=m>>>8&255,r.check=Ws(r.check,V,2,0)),m=0,g=0}else r.head&&(r.head.extra=null);r.mode=Av;case Av:if(r.flags&1024&&(x=r.length,x>h&&(x=h),x&&(r.head&&(K=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+x),K)),r.flags&512&&r.wrap&4&&(r.check=Ws(r.check,n,x,o)),h-=x,o+=x,r.length-=x),r.length))break e;r.length=0,r.mode=Ev;case Ev:if(r.flags&2048){if(h===0)break e;x=0;do K=n[o+x++],r.head&&K&&r.length<65536&&(r.head.name+=String.fromCharCode(K));while(K&&x<h);if(r.flags&512&&r.wrap&4&&(r.check=Ws(r.check,n,x,o)),h-=x,o+=x,K)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Cv;case Cv:if(r.flags&4096){if(h===0)break e;x=0;do K=n[o+x++],r.head&&K&&r.length<65536&&(r.head.comment+=String.fromCharCode(K));while(K&&x<h);if(r.flags&512&&r.wrap&4&&(r.check=Ws(r.check,n,x,o)),h-=x,o+=x,K)break e}else r.head&&(r.head.comment=null);r.mode=kv;case kv:if(r.flags&512){for(;g<16;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}if(r.wrap&4&&m!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Zr;break}m=0,g=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Ro;break;case Tv:for(;g<32;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}t.adler=r.check=$v(m),m=0,g=0,r.mode=Tf;case Tf:if(r.havedict===0)return t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=h,r.hold=m,r.bits=g,A6;t.adler=r.check=1,r.mode=Ro;case Ro:if(e===S6||e===ef)break e;case km:if(r.last){m>>>=g&7,g-=g&7,r.mode=Lm;break}for(;g<3;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}switch(r.last=m&1,m>>>=1,g-=1,m&3){case 0:r.mode=Lv;break;case 1:if(D6(r),r.mode=tf,e===ef){m>>>=2,g-=2;break e}break;case 2:r.mode=Ov;break;case 3:t.msg="invalid block type",r.mode=Zr}m>>>=2,g-=2;break;case Lv:for(m>>>=g&7,g-=g&7;g<32;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}if((m&65535)!==(m>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Zr;break}if(r.length=m&65535,m=0,g=0,r.mode=Tm,e===ef)break e;case Tm:r.mode=Rv;case Rv:if(x=r.length,x){if(x>h&&(x=h),x>f&&(x=f),x===0)break e;s.set(n.subarray(o,o+x),u),h-=x,o+=x,f-=x,u+=x,r.length-=x;break}r.mode=Ro;break;case Ov:for(;g<14;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}if(r.nlen=(m&31)+257,m>>>=5,g-=5,r.ndist=(m&31)+1,m>>>=5,g-=5,r.ncode=(m&15)+4,m>>>=4,g-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Zr;break}r.have=0,r.mode=Dv;case Dv:for(;r.have<r.ncode;){for(;g<3;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}r.lens[F[r.have++]]=m&7,m>>>=3,g-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ye={bits:r.lenbits},Z=Ud(N6,r.lens,0,19,r.lencode,0,r.work,ye),r.lenbits=ye.bits,Z){t.msg="invalid code lengths set",r.mode=Zr;break}r.have=0,r.mode=Mv;case Mv:for(;r.have<r.nlen+r.ndist;){for(;O=r.lencode[m&(1<<r.lenbits)-1],R=O>>>24,G=O>>>16&255,D=O&65535,!(R<=g);){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}if(D<16)m>>>=R,g-=R,r.lens[r.have++]=D;else{if(D===16){for(U=R+2;g<U;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}if(m>>>=R,g-=R,r.have===0){t.msg="invalid bit length repeat",r.mode=Zr;break}K=r.lens[r.have-1],x=3+(m&3),m>>>=2,g-=2}else if(D===17){for(U=R+3;g<U;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}m>>>=R,g-=R,K=0,x=3+(m&7),m>>>=3,g-=3}else{for(U=R+7;g<U;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}m>>>=R,g-=R,K=0,x=11+(m&127),m>>>=7,g-=7}if(r.have+x>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Zr;break}for(;x--;)r.lens[r.have++]=K}}if(r.mode===Zr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Zr;break}if(r.lenbits=9,ye={bits:r.lenbits},Z=Ud(Rb,r.lens,0,r.nlen,r.lencode,0,r.work,ye),r.lenbits=ye.bits,Z){t.msg="invalid literal/lengths set",r.mode=Zr;break}if(r.distbits=6,r.distcode=r.distdyn,ye={bits:r.distbits},Z=Ud(Ob,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ye),r.distbits=ye.bits,Z){t.msg="invalid distances set",r.mode=Zr;break}if(r.mode=tf,e===ef)break e;case tf:r.mode=rf;case rf:if(h>=6&&f>=258){t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=h,r.hold=m,r.bits=g,v6(t,N),u=t.next_out,s=t.output,f=t.avail_out,o=t.next_in,n=t.input,h=t.avail_in,m=r.hold,g=r.bits,r.mode===Ro&&(r.back=-1);break}for(r.back=0;O=r.lencode[m&(1<<r.lenbits)-1],R=O>>>24,G=O>>>16&255,D=O&65535,!(R<=g);){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}if(G&&(G&240)===0){for(W=R,ie=G,se=D;O=r.lencode[se+((m&(1<<W+ie)-1)>>W)],R=O>>>24,G=O>>>16&255,D=O&65535,!(W+R<=g);){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}m>>>=W,g-=W,r.back+=W}if(m>>>=R,g-=R,r.back+=R,r.length=D,G===0){r.mode=qv;break}if(G&32){r.back=-1,r.mode=Ro;break}if(G&64){t.msg="invalid literal/length code",r.mode=Zr;break}r.extra=G&15,r.mode=Bv;case Bv:if(r.extra){for(U=r.extra;g<U;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,g-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Uv;case Uv:for(;O=r.distcode[m&(1<<r.distbits)-1],R=O>>>24,G=O>>>16&255,D=O&65535,!(R<=g);){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}if((G&240)===0){for(W=R,ie=G,se=D;O=r.distcode[se+((m&(1<<W+ie)-1)>>W)],R=O>>>24,G=O>>>16&255,D=O&65535,!(W+R<=g);){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}m>>>=W,g-=W,r.back+=W}if(m>>>=R,g-=R,r.back+=R,G&64){t.msg="invalid distance code",r.mode=Zr;break}r.offset=D,r.extra=G&15,r.mode=Pv;case Pv:if(r.extra){for(U=r.extra;g<U;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,g-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Zr;break}r.mode=zv;case zv:if(f===0)break e;if(x=N-f,r.offset>x){if(x=r.offset-x,x>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Zr;break}x>r.wnext?(x-=r.wnext,T=r.wsize-x):T=r.wnext-x,x>r.length&&(x=r.length),k=r.window}else k=s,T=u-r.offset,x=r.length;x>f&&(x=f),f-=x,r.length-=x;do s[u++]=k[T++];while(--x);r.length===0&&(r.mode=rf);break;case qv:if(f===0)break e;s[u++]=r.length,f--,r.mode=rf;break;case Lm:if(r.wrap){for(;g<32;){if(h===0)break e;h--,m|=n[o++]<<g,g+=8}if(N-=f,t.total_out+=N,r.total+=N,r.wrap&4&&N&&(t.adler=r.check=r.flags?Ws(r.check,s,N,u-N):bp(r.check,s,N,u-N)),N=f,r.wrap&4&&(r.flags?m:$v(m))!==r.check){t.msg="incorrect data check",r.mode=Zr;break}m=0,g=0}r.mode=Iv;case Iv:if(r.wrap&&r.flags){for(;g<32;){if(h===0)break e;h--,m+=n[o++]<<g,g+=8}if(r.wrap&4&&m!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Zr;break}m=0,g=0}r.mode=Fv;case Fv:Z=j6;break e;case Zr:Z=Db;break e;case Bb:return Mb;case Ub:default:return Fi}return t.next_out=u,t.avail_out=f,t.next_in=o,t.avail_in=h,r.hold=m,r.bits=g,(r.wsize||N!==t.avail_out&&r.mode<Zr&&(r.mode<Lm||e!==xv))&&Fb(t,t.output,t.next_out,N-t.avail_out),w-=t.avail_in,N-=t.avail_out,t.total_in+=w,t.total_out+=N,r.total+=N,r.wrap&4&&N&&(t.adler=r.check=r.flags?Ws(r.check,s,N,t.next_out-N):bp(r.check,s,N,t.next_out-N)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Ro?128:0)+(r.mode===tf||r.mode===Tm?256:0),(w===0&&N===0||e===xv)&&Z===Ec&&(Z=E6),Z},B6=t=>{if(kc(t))return Fi;let e=t.state;return e.window&&(e.window=null),t.state=null,Ec},U6=(t,e)=>{if(kc(t))return Fi;const r=t.state;return(r.wrap&2)===0?Fi:(r.head=e,e.done=!1,Ec)},P6=(t,e)=>{const r=e.length;let n,s,o;return kc(t)||(n=t.state,n.wrap!==0&&n.mode!==Tf)?Fi:n.mode===Tf&&(s=1,s=bp(s,e,r,0),s!==n.check)?Db:(o=Fb(t,e,r,r),o?(n.mode=Bb,Mb):(n.havedict=1,Ec))};var z6=zb,q6=qb,I6=Pb,F6=O6,$6=Ib,H6=M6,V6=B6,G6=U6,W6=P6,Y6="pako inflate (from Nodeca project)",Mo={inflateReset:z6,inflateReset2:q6,inflateResetKeep:I6,inflateInit:F6,inflateInit2:$6,inflate:H6,inflateEnd:V6,inflateGetHeader:G6,inflateSetDictionary:W6,inflateInfo:Y6};function K6(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var J6=K6;const $b=Object.prototype.toString,{Z_NO_FLUSH:X6,Z_FINISH:Z6,Z_OK:Yd,Z_STREAM_END:Dm,Z_NEED_DICT:Mm,Z_STREAM_ERROR:Q6,Z_DATA_ERROR:Vv,Z_MEM_ERROR:ej}=kb;function Qd(t){this.options=Tb.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p6,this.strm.avail_out=0;let r=Mo.inflateInit2(this.strm,e.windowBits);if(r!==Yd)throw new Error(xp[r]);if(this.header=new J6,Mo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=wp.string2buf(e.dictionary):$b.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Mo.inflateSetDictionary(this.strm,e.dictionary),r!==Yd)))throw new Error(xp[r])}Qd.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let o,u,h;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?Z6:X6,$b.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=Mo.inflate(r,u),o===Mm&&s&&(o=Mo.inflateSetDictionary(r,s),o===Yd?o=Mo.inflate(r,u):o===Vv&&(o=Mm));r.avail_in>0&&o===Dm&&r.state.wrap>0&&t[r.next_in]!==0;)Mo.inflateReset(r),o=Mo.inflate(r,u);switch(o){case Q6:case Vv:case Mm:case ej:return this.onEnd(o),this.ended=!0,!1}if(h=r.avail_out,r.next_out&&(r.avail_out===0||o===Dm))if(this.options.to==="string"){let f=wp.utf8border(r.output,r.next_out),m=r.next_out-f,g=wp.buf2string(r.output,f);r.next_out=m,r.avail_out=n-m,m&&r.output.set(r.output.subarray(f,f+m),0),this.onData(g)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===Yd&&h===0)){if(o===Dm)return o=Mo.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Qd.prototype.onData=function(t){this.chunks.push(t)};Qd.prototype.onEnd=function(t){t===Yd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Tb.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function tj(t,e){const r=new Qd(e);if(r.push(t),r.err)throw r.msg||xp[r.err];return r.result}var rj=Qd,aj=tj,nj={Inflate:rj,inflate:aj};const{Inflate:ij,inflate:sj}=nj;var Gv=ij,oj=sj;const Hb=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;Hb[t]=e}const Wv=4294967295;function lj(t,e,r){let n=t;for(let s=0;s<r;s++)n=Hb[(n^e[s])&255]^n>>>8;return n}function cj(t,e){return(lj(Wv,t,e)^Wv)>>>0}function Yv(t,e,r){const n=t.readUint32(),s=cj(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function Vb(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Gb(t,e,r,n){let s=0;for(;s<n;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-n]&255}function Wb(t,e,r,n){let s=0;if(r.length===0)for(;s<n;s++)e[s]=t[s];else for(;s<n;s++)e[s]=t[s]+r[s]&255}function Yb(t,e,r,n,s){let o=0;if(r.length===0){for(;o<s;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=t[o]+(r[o]>>1)&255;for(;o<n;o++)e[o]=t[o]+(e[o-s]+r[o]>>1)&255}}function Kb(t,e,r,n,s){let o=0;if(r.length===0){for(;o<s;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=t[o]+r[o]&255;for(;o<n;o++)e[o]=t[o]+uj(e[o-s],r[o],r[o-s])&255}}function uj(t,e,r){const n=t+e-r,s=Math.abs(n-t),o=Math.abs(n-e),u=Math.abs(n-r);return s<=o&&s<=u?t:o<=u?e:r}function dj(t,e,r,n,s,o){switch(t){case 0:Vb(e,r,s);break;case 1:Gb(e,r,s,o);break;case 2:Wb(e,r,n,s);break;case 3:Yb(e,r,n,s,o);break;case 4:Kb(e,r,n,s,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const hj=new Uint16Array([255]),fj=new Uint8Array(hj.buffer),mj=fj[0]===255;function pj(t){const{data:e,width:r,height:n,channels:s,depth:o}=t,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*s,f=new Uint8Array(n*r*h);let m=0;for(let g=0;g<7;g++){const w=u[g],N=Math.ceil((r-w.x)/w.xStep),x=Math.ceil((n-w.y)/w.yStep);if(N<=0||x<=0)continue;const T=N*h,k=new Uint8Array(T);for(let O=0;O<x;O++){const R=e[m++],G=e.subarray(m,m+T);m+=T;const D=new Uint8Array(T);dj(R,G,D,k,T,h),k.set(D);for(let W=0;W<N;W++){const ie=w.x+W*w.xStep,se=w.y+O*w.yStep;if(!(ie>=r||se>=n))for(let K=0;K<h;K++)f[(se*r+ie)*h+K]=D[W*h+K]}}}if(o===16){const g=new Uint16Array(f.buffer);if(mj)for(let w=0;w<g.length;w++)g[w]=gj(g[w]);return g}else return f}function gj(t){return(t&255)<<8|t>>8&255}const vj=new Uint16Array([255]),yj=new Uint8Array(vj.buffer),bj=yj[0]===255,xj=new Uint8Array(0);function Kv(t){const{data:e,width:r,height:n,channels:s,depth:o}=t,u=Math.ceil(o/8)*s,h=Math.ceil(o/8*s*r),f=new Uint8Array(n*h);let m=xj,g=0,w,N;for(let x=0;x<n;x++){switch(w=e.subarray(g+1,g+1+h),N=f.subarray(x*h,(x+1)*h),e[g]){case 0:Vb(w,N,h);break;case 1:Gb(w,N,h,u);break;case 2:Wb(w,N,m,h);break;case 3:Yb(w,N,m,h,u);break;case 4:Kb(w,N,m,h,u);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}m=N,g+=h+1}if(o===16){const x=new Uint16Array(f.buffer);if(bj)for(let T=0;T<x.length;T++)x[T]=wj(x[T]);return x}else return f}function wj(t){return(t&255)<<8|t>>8&255}const pf=Uint8Array.of(137,80,78,71,13,10,26,10);function Jv(t){if(!_j(t.readBytes(pf.length)))throw new Error("wrong PNG signature")}function _j(t){if(t.length<pf.length)return!1;for(let e=0;e<pf.length;e++)if(t[e]!==pf[e])return!1;return!0}const Nj="tEXt",Sj=0,Jb=new TextDecoder("latin1");function jj(t){if(Ej(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Aj=/^[\u0000-\u00FF]*$/;function Ej(t){if(!Aj.test(t))throw new Error("invalid latin1 text")}function Cj(t,e,r){const n=Xb(e);t[n]=kj(e,r-n.length-1)}function Xb(t){for(t.mark();t.readByte()!==Sj;);const e=t.offset;t.reset();const r=Jb.decode(t.readBytes(e-t.offset-1));return t.skip(1),jj(r),r}function kj(t,e){return Jb.decode(t.readBytes(e))}const pi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Bm={UNKNOWN:-1,DEFLATE:0},Xv={UNKNOWN:-1,ADAPTIVE:0},Um={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},af={NONE:0,BACKGROUND:1,PREVIOUS:2},Pm={SOURCE:0,OVER:1};class Tj extends Kp{constructor(r,n={}){super(r);Ar(this,"_checkCrc");Ar(this,"_inflator");Ar(this,"_png");Ar(this,"_apng");Ar(this,"_end");Ar(this,"_hasPalette");Ar(this,"_palette");Ar(this,"_hasTransparency");Ar(this,"_transparency");Ar(this,"_compressionMethod");Ar(this,"_filterMethod");Ar(this,"_interlaceMethod");Ar(this,"_colorType");Ar(this,"_isAnimated");Ar(this,"_numberOfFrames");Ar(this,"_numberOfPlays");Ar(this,"_frames");Ar(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new Gv,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Bm.UNKNOWN,this._filterMethod=Xv.UNKNOWN,this._interlaceMethod=Um.UNKNOWN,this._colorType=pi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Jv(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(Jv(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Nj:Cj(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Yv(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Yv(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=Lj(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case pi.GREYSCALE:s=1;break;case pi.TRUECOLOUR:s=3;break;case pi.INDEXED_COLOUR:s=1;break;case pi.GREYSCALE_ALPHA:s=2;break;case pi.TRUECOLOUR_ALPHA:s=4;break;case pi.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Bm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let o=0;o<n;o++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case pi.GREYSCALE:case pi.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case pi.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case pi.UNKNOWN:case pi.GREYSCALE_ALPHA:case pi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=Xb(this),s=this.readUint8();if(s!==Bm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const o=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:oj(o)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=Kv({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const o=this._apng.frames.at(r-1);this.disposeFrame(s,o,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case af.NONE:break;case af.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let u=0;u<this._png.width;u++){const h=(o*r.width+u)*this._png.channels;for(let f=0;f<this._png.channels;f++)s.data[h+f]=0}break;case af.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,o=(u,h)=>{const f=((u+n.yOffset)*this._png.width+n.xOffset+h)*this._png.channels,m=(u*n.width+h)*this._png.channels;return{index:f,frameIndex:m}};switch(n.blendOp){case Pm.SOURCE:for(let u=0;u<n.height;u++)for(let h=0;h<n.width;h++){const{index:f,frameIndex:m}=o(u,h);for(let g=0;g<this._png.channels;g++)r.data[f+g]=n.data[m+g]}break;case Pm.OVER:for(let u=0;u<n.height;u++)for(let h=0;h<n.width;h++){const{index:f,frameIndex:m}=o(u,h);for(let g=0;g<this._png.channels;g++){const w=n.data[m+this._png.channels-1]/s,N=g%(this._png.channels-1)===0?1:n.data[m+g],x=Math.floor(w*N+(1-w)*r.data[f+g]);r.data[f+g]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Xv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Um.NO_INTERLACE)this._png.data=Kv({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Um.ADAM7)this._png.data=pj({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:af.NONE,blendOp:Pm.SOURCE,data:r}),this._inflator=new Gv,this._writingDataChunks=!1}}function Lj(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Zv;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Zv||(Zv={}));function Rj(t,e){return new Tj(t,e).decode()}var Ft=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function zm(){Ft.console&&typeof Ft.console.log=="function"&&Ft.console.log.apply(Ft.console,arguments)}var Ur={log:zm,warn:function(t){Ft.console&&(typeof Ft.console.warn=="function"?Ft.console.warn.apply(Ft.console,arguments):zm.call(null,arguments))},error:function(t){Ft.console&&(typeof Ft.console.error=="function"?Ft.console.error.apply(Ft.console,arguments):zm(t))}};function qm(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){gc(n.response,e,r)},n.onerror=function(){Ur.error("could not download file")},n.send()}function Qv(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function nf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var gc=Ft.saveAs||((typeof window>"u"?"undefined":Er(window))!=="object"||window!==Ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Ft.URL||Ft.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?Qv(s.href)?qm(t,e,r):nf(s,s.target="_blank"):nf(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){nf(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Qv(t))qm(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){nf(n)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Er(o)!=="object"&&(Ur.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return qm(t,e,r);var s=t.type==="application/octet-stream",o=/constructor/i.test(Ft.HTMLElement)||Ft.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":Er(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var g=h.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=g:location=g,n=null},h.readAsDataURL(t)}else{var f=Ft.URL||Ft.webkitURL,m=f.createObjectURL(t);n?n.location=m:location.href=m,n=null,setTimeout(function(){f.revokeObjectURL(m)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Zb(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,o=r[n].process,u=s.exec(t);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),m=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),m.length==1&&(m="0"+m),"#"+h+f+m}}var gf=Ft.atob.bind(Ft),ey=Ft.btoa.bind(Ft);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Im(t,e){var r=t[0],n=t[1],s=t[2],o=t[3];r=pn(r,n,s,o,e[0],7,-680876936),o=pn(o,r,n,s,e[1],12,-389564586),s=pn(s,o,r,n,e[2],17,606105819),n=pn(n,s,o,r,e[3],22,-1044525330),r=pn(r,n,s,o,e[4],7,-176418897),o=pn(o,r,n,s,e[5],12,1200080426),s=pn(s,o,r,n,e[6],17,-1473231341),n=pn(n,s,o,r,e[7],22,-45705983),r=pn(r,n,s,o,e[8],7,1770035416),o=pn(o,r,n,s,e[9],12,-1958414417),s=pn(s,o,r,n,e[10],17,-42063),n=pn(n,s,o,r,e[11],22,-1990404162),r=pn(r,n,s,o,e[12],7,1804603682),o=pn(o,r,n,s,e[13],12,-40341101),s=pn(s,o,r,n,e[14],17,-1502002290),r=gn(r,n=pn(n,s,o,r,e[15],22,1236535329),s,o,e[1],5,-165796510),o=gn(o,r,n,s,e[6],9,-1069501632),s=gn(s,o,r,n,e[11],14,643717713),n=gn(n,s,o,r,e[0],20,-373897302),r=gn(r,n,s,o,e[5],5,-701558691),o=gn(o,r,n,s,e[10],9,38016083),s=gn(s,o,r,n,e[15],14,-660478335),n=gn(n,s,o,r,e[4],20,-405537848),r=gn(r,n,s,o,e[9],5,568446438),o=gn(o,r,n,s,e[14],9,-1019803690),s=gn(s,o,r,n,e[3],14,-187363961),n=gn(n,s,o,r,e[8],20,1163531501),r=gn(r,n,s,o,e[13],5,-1444681467),o=gn(o,r,n,s,e[2],9,-51403784),s=gn(s,o,r,n,e[7],14,1735328473),r=vn(r,n=gn(n,s,o,r,e[12],20,-1926607734),s,o,e[5],4,-378558),o=vn(o,r,n,s,e[8],11,-2022574463),s=vn(s,o,r,n,e[11],16,1839030562),n=vn(n,s,o,r,e[14],23,-35309556),r=vn(r,n,s,o,e[1],4,-1530992060),o=vn(o,r,n,s,e[4],11,1272893353),s=vn(s,o,r,n,e[7],16,-155497632),n=vn(n,s,o,r,e[10],23,-1094730640),r=vn(r,n,s,o,e[13],4,681279174),o=vn(o,r,n,s,e[0],11,-358537222),s=vn(s,o,r,n,e[3],16,-722521979),n=vn(n,s,o,r,e[6],23,76029189),r=vn(r,n,s,o,e[9],4,-640364487),o=vn(o,r,n,s,e[12],11,-421815835),s=vn(s,o,r,n,e[15],16,530742520),r=yn(r,n=vn(n,s,o,r,e[2],23,-995338651),s,o,e[0],6,-198630844),o=yn(o,r,n,s,e[7],10,1126891415),s=yn(s,o,r,n,e[14],15,-1416354905),n=yn(n,s,o,r,e[5],21,-57434055),r=yn(r,n,s,o,e[12],6,1700485571),o=yn(o,r,n,s,e[3],10,-1894986606),s=yn(s,o,r,n,e[10],15,-1051523),n=yn(n,s,o,r,e[1],21,-2054922799),r=yn(r,n,s,o,e[8],6,1873313359),o=yn(o,r,n,s,e[15],10,-30611744),s=yn(s,o,r,n,e[6],15,-1560198380),n=yn(n,s,o,r,e[13],21,1309151649),r=yn(r,n,s,o,e[4],6,-145523070),o=yn(o,r,n,s,e[11],10,-1120210379),s=yn(s,o,r,n,e[2],15,718787259),n=yn(n,s,o,r,e[9],21,-343485551),t[0]=kl(r,t[0]),t[1]=kl(n,t[1]),t[2]=kl(s,t[2]),t[3]=kl(o,t[3])}function $f(t,e,r,n,s,o){return e=kl(kl(e,t),kl(n,o)),kl(e<<s|e>>>32-s,r)}function pn(t,e,r,n,s,o,u){return $f(e&r|~e&n,t,e,s,o,u)}function gn(t,e,r,n,s,o,u){return $f(e&n|r&~n,t,e,s,o,u)}function vn(t,e,r,n,s,o,u){return $f(e^r^n,t,e,s,o,u)}function yn(t,e,r,n,s,o,u){return $f(r^(e|~n),t,e,s,o,u)}function Qb(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Im(n,Oj(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Im(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,Im(n,s),n}function Oj(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var ty="0123456789abcdef".split("");function Dj(t){for(var e="",r=0;r<4;r++)e+=ty[t>>8*r+4&15]+ty[t>>8*r&15];return e}function Mj(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function _p(t){return Qb(t).map(Mj).join("")}var Bj=(function(t){for(var e=0;e<t.length;e++)t[e]=Dj(t[e]);return t.join("")})(Qb("hello"))!="5d41402abc4b2a76b9719d911017c592";function kl(t,e){if(Bj){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Np(t,e){var r,n,s,o;if(t!==r){for(var u=(s=t,o=1+(256/t.length|0),new Array(o+1).join(s)),h=[],f=0;f<256;f++)h[f]=f;var m=0;for(f=0;f<256;f++){var g=h[f];m=(m+g+u.charCodeAt(f))%256,h[f]=h[m],h[m]=g}r=t,n=h}else h=n;var w=e.length,N=0,x=0,T="";for(f=0;f<w;f++)x=(x+(g=h[N=(N+1)%256]))%256,h[N]=h[x],h[x]=g,u=h[(h[N]+h[x])%256],T+=String.fromCharCode(e.charCodeAt(f)^u);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ry={print:4,modify:8,copy:16,"annot-forms":32};function Ou(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(h){if(ry.perm!==void 0)throw new Error("Invalid permission: "+h);s+=ry[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=_p(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Np(this.encryptionKey,this.padding)}function Du(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[n]}return e}function ay(t){if(Er(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var o=Math.random().toString(35);return e[r][o]=[n,!!s],o},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[r]){var u=e[r][o];try{u[0].apply(t,n)}catch(h){Ft.console&&Ur.error("jsPDF PubSub Error",h.message,h)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Lf(t){if(!(this instanceof Lf))return new Lf(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function ex(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function bc(t,e,r,n,s){if(!(this instanceof bc))return new bc(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,ex.call(this,n,s)}function Bu(t,e,r,n,s){if(!(this instanceof Bu))return new Bu(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,ex.call(this,n,s)}function vt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],o=arguments[3],u=[],h=1,f=16,m="S",g=null;Er(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,o=t.compress||t.compressPdf||o,(g=t.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),h=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(f=t.floatPrecision),m=t.defaultPathOperation||"S"),u=t.filters||(o===!0?["FlateEncode"]:u),n=n||"mm",r=(""+(r||"P")).toLowerCase();var w=t.putOnlyUsedFonts||!1,N={},x={internal:{},__private__:{}};x.__private__.PubSub=ay;var T="1.3",k=x.__private__.getPdfVersion=function(){return T};x.__private__.setPdfVersion=function(_){T=_};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return O};var R=x.__private__.getPageFormat=function(_){return O[_]};s=s||"a4";var G="compat",D="advanced",W=G;function ie(){this.saveGraphicsState(),P(new wt(Ct,0,0,-Ct,0,Zi()*Ct).toString()+" cm"),this.setFontSize(this.getFontSize()/Ct),m="n",W=D}function se(){this.restoreGraphicsState(),m="S",W=G}var K=x.__private__.combineFontStyleAndFontWeight=function(_,M){if(_=="bold"&&M=="normal"||_=="bold"&&M==400||_=="normal"&&M=="italic"||_=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(_=M==400||M==="normal"?_==="italic"?"italic":"normal":M!=700&&M!=="bold"||_!=="normal"?(M==700?"bold":M)+""+_:"bold"),_};x.advancedAPI=function(_){var M=W===G;return M&&ie.call(this),typeof _!="function"||(_(this),M&&se.call(this)),this},x.compatAPI=function(_){var M=W===D;return M&&se.call(this),typeof _!="function"||(_(this),M&&ie.call(this)),this},x.isAdvancedAPI=function(){return W===D};var Z,V=function(_){if(W!==D)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ye=x.roundToPrecision=x.__private__.roundToPrecision=function(_,M){var ne=e||M;if(isNaN(_)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(ne).replace(/0+$/,"")};Z=x.hpf=x.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ye(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ye(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return ye(_,16)};var U=x.f2=x.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return ye(_,2)},F=x.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return ye(_,3)},oe=x.scale=x.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return W===G?_*Ct:W===D?_:void 0},le=function(_){return oe((function(M){return W===G?Zi()-M:W===D?M:void 0})(_))};x.__private__.setPrecision=x.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var _e,Q="00000000000000000000000000000000",ue=x.__private__.getFileId=function(){return Q},he=x.__private__.setFileId=function(_){return Q=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(ya=new Ou(g.userPermissions,g.userPassword,g.ownerPassword,Q)),Q};x.setFileId=function(_){return he(_),this},x.getFileId=function(){return ue()};var je=x.__private__.convertDateToPDFDate=function(_){var M=_.getTimezoneOffset(),ne=M<0?"+":"-",pe=Math.floor(Math.abs(M/60)),Ae=Math.abs(M%60),He=[ne,L(pe),"'",L(Ae),"'"].join("");return["D:",_.getFullYear(),L(_.getMonth()+1),L(_.getDate()),L(_.getHours()),L(_.getMinutes()),L(_.getSeconds()),He].join("")},me=x.__private__.convertPDFDateToDate=function(_){var M=parseInt(_.substr(2,4),10),ne=parseInt(_.substr(6,2),10)-1,pe=parseInt(_.substr(8,2),10),Ae=parseInt(_.substr(10,2),10),He=parseInt(_.substr(12,2),10),Xe=parseInt(_.substr(14,2),10);return new Date(M,ne,pe,Ae,He,Xe,0)},z=x.__private__.setCreationDate=function(_){var M;if(_===void 0&&(_=new Date),_ instanceof Date)M=je(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=_}return _e=M},j=x.__private__.getCreationDate=function(_){var M=_e;return _==="jsDate"&&(M=me(_e)),M};x.setCreationDate=function(_){return z(_),this},x.getCreationDate=function(_){return j(_)};var A,L=x.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},q=x.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},te=0,de=[],ge=[],be=0,Te=[],$e=[],tt=!1,ce=ge;x.__private__.setCustomOutputDestination=function(_){tt=!0,ce=_};var Me=function(_){tt||(ce=_)};x.__private__.resetCustomOutputDestination=function(){tt=!1,ce=ge};var P=x.__private__.out=function(_){return _=_.toString(),be+=_.length+1,ce.push(_),ce},Be=x.__private__.write=function(_){return P(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},ee=x.__private__.getArrayBuffer=function(_){for(var M=_.length,ne=new ArrayBuffer(M),pe=new Uint8Array(ne);M--;)pe[M]=_.charCodeAt(M);return ne},Se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Se};var ve=t.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(_){return ve=W===D?_/Ct:_,this};var Ge,Ye=x.__private__.getFontSize=x.getFontSize=function(){return W===G?ve:ve*Ct},Ze=t.R2L||!1;x.__private__.setR2L=x.setR2L=function(_){return Ze=_,this},x.__private__.getR2L=x.getR2L=function(){return Ze};var Qe,at=x.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))Ge=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');Ge=_}else Ge=parseInt(_,10)};x.__private__.getZoomMode=function(){return Ge};var At,nt=x.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Qe=_};x.__private__.getPageMode=function(){return Qe};var it=x.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');At=_};x.__private__.getLayoutMode=function(){return At},x.__private__.setDisplayMode=x.setDisplayMode=function(_,M,ne){return at(_),it(M),nt(ne),this};var Et={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(_){if(Object.keys(Et).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Et[_]},x.__private__.getDocumentProperties=function(){return Et},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(_){for(var M in Et)Et.hasOwnProperty(M)&&_[M]&&(Et[M]=_[M]);return this},x.__private__.setDocumentProperty=function(_,M){if(Object.keys(Et).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Et[_]=M};var lt,Ct,ht,Pr,Pt,Nt={},Dt={},Xt=[],xt={},xr={},Rt={},zt={},wr=null,Wt=0,yt=[],ir=new ay(x),Jn=t.hotfixes||[],Ha={},_i={},Tn=[],wt=function _(M,ne,pe,Ae,He,Xe){if(!(this instanceof _))return new _(M,ne,pe,Ae,He,Xe);isNaN(M)&&(M=1),isNaN(ne)&&(ne=0),isNaN(pe)&&(pe=0),isNaN(Ae)&&(Ae=1),isNaN(He)&&(He=0),isNaN(Xe)&&(Xe=0),this._matrix=[M,ne,pe,Ae,He,Xe]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Z).join(_)},wt.prototype.multiply=function(_){var M=_.sx*this.sx+_.shy*this.shx,ne=_.sx*this.shy+_.shy*this.sy,pe=_.shx*this.sx+_.sy*this.shx,Ae=_.shx*this.shy+_.sy*this.sy,He=_.tx*this.sx+_.ty*this.shx+this.tx,Xe=_.tx*this.shy+_.ty*this.sy+this.ty;return new wt(M,ne,pe,Ae,He,Xe)},wt.prototype.decompose=function(){var _=this.sx,M=this.shy,ne=this.shx,pe=this.sy,Ae=this.tx,He=this.ty,Xe=Math.sqrt(_*_+M*M),ut=(_/=Xe)*ne+(M/=Xe)*pe;ne-=_*ut,pe-=M*ut;var pt=Math.sqrt(ne*ne+pe*pe);return ut/=pt,_*(pe/=pt)<M*(ne/=pt)&&(_=-_,M=-M,ut=-ut,Xe=-Xe),{scale:new wt(Xe,0,0,pt,0,0),translate:new wt(1,0,0,1,Ae,He),rotate:new wt(_,M,-M,_,0,0),skew:new wt(1,0,ut,1,0,0)}},wt.prototype.toString=function(_){return this.join(" ")},wt.prototype.inversed=function(){var _=this.sx,M=this.shy,ne=this.shx,pe=this.sy,Ae=this.tx,He=this.ty,Xe=1/(_*pe-M*ne),ut=pe*Xe,pt=-M*Xe,Mt=-ne*Xe,$t=_*Xe;return new wt(ut,pt,Mt,$t,-ut*Ae-Mt*He,-pt*Ae-$t*He)},wt.prototype.applyToPoint=function(_){var M=_.x*this.sx+_.y*this.shx+this.tx,ne=_.x*this.shy+_.y*this.sy+this.ty;return new On(M,ne)},wt.prototype.applyToRectangle=function(_){var M=this.applyToPoint(_),ne=this.applyToPoint(new On(_.x+_.w,_.y+_.h));return new Wi(M.x,M.y,ne.x-M.x,ne.y-M.y)},wt.prototype.clone=function(){var _=this.sx,M=this.shy,ne=this.shx,pe=this.sy,Ae=this.tx,He=this.ty;return new wt(_,M,ne,pe,Ae,He)},x.Matrix=wt;var $i=x.matrixMult=function(_,M){return M.multiply(_)},Ni=new wt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Ni;var bn=function(_,M){if(!xr[_]){var ne=(M instanceof bc?"Sh":"P")+(Object.keys(xt).length+1).toString(10);M.id=ne,xr[_]=ne,xt[ne]=M,ir.publish("addPattern",M)}};x.ShadingPattern=bc,x.TilingPattern=Bu,x.addShadingPattern=function(_,M){return V("addShadingPattern()"),bn(_,M),this},x.beginTilingPattern=function(_){V("beginTilingPattern()"),oo(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},x.endTilingPattern=function(_,M){V("endTilingPattern()"),M.stream=$e[A].join(`
`),bn(_,M),ir.publish("endTilingPattern",M),Tn.pop().restore()};var xn,zr=x.__private__.newObject=function(){var _=oa();return Aa(_,!0),_},oa=x.__private__.newObjectDeferred=function(){return te++,de[te]=function(){return be},te},Aa=function(_,M){return M=typeof M=="boolean"&&M,de[_]=be,M&&P(_+" 0 obj"),_},As=x.__private__.newAdditionalObject=function(){var _={objId:oa(),content:""};return Te.push(_),_},Qa=oa(),_r=oa(),Ir=x.__private__.decodeColorString=function(_){var M=_.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var ne=parseFloat(M[0]);M=[ne,ne,ne,"r"]}for(var pe="#",Ae=0;Ae<3;Ae++)pe+=("0"+Math.floor(255*parseFloat(M[Ae])).toString(16)).slice(-2);return pe},Va=x.__private__.encodeColorString=function(_){var M;typeof _=="string"&&(_={ch1:_});var ne=_.ch1,pe=_.ch2,Ae=_.ch3,He=_.ch4,Xe=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var ut=new Zb(ne);if(ut.ok)ne=ut.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var pt=parseInt(ne.substr(1),16);ne=pt>>16&255,pe=pt>>8&255,Ae=255&pt}if(pe===void 0||He===void 0&&ne===pe&&pe===Ae)M=typeof ne=="string"?ne+" "+Xe[0]:_.precision===2?U(ne/255)+" "+Xe[0]:F(ne/255)+" "+Xe[0];else if(He===void 0||Er(He)==="object"){if(He&&!isNaN(He.a)&&He.a===0)return["1.","1.","1.",Xe[1]].join(" ");M=typeof ne=="string"?[ne,pe,Ae,Xe[1]].join(" "):_.precision===2?[U(ne/255),U(pe/255),U(Ae/255),Xe[1]].join(" "):[F(ne/255),F(pe/255),F(Ae/255),Xe[1]].join(" ")}else M=typeof ne=="string"?[ne,pe,Ae,He,Xe[2]].join(" "):_.precision===2?[U(ne),U(pe),U(Ae),U(He),Xe[2]].join(" "):[F(ne),F(pe),F(Ae),F(He),Xe[2]].join(" ");return M},wn=x.__private__.getFilters=function(){return u},Ln=x.__private__.putStream=function(_){var M=(_=_||{}).data||"",ne=_.filters||wn(),pe=_.alreadyAppliedFilters||[],Ae=_.addLength1||!1,He=M.length,Xe=_.objectId,ut=function(ba){return ba};if(g!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(ut=ya.encryptor(Xe,0));var pt={};ne===!0&&(ne=["FlateEncode"]);var Mt=_.additionalKeyValues||[],$t=(pt=vt.API.processDataByFilters!==void 0?vt.API.processDataByFilters(M,ne):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(pt.data.length!==0&&(Mt.push({key:"Length",value:pt.data.length}),Ae===!0&&Mt.push({key:"Length1",value:He})),$t.length!=0)if($t.split("/").length-1==1)Mt.push({key:"Filter",value:$t});else{Mt.push({key:"Filter",value:"["+$t+"]"});for(var sr=0;sr<Mt.length;sr+=1)if(Mt[sr].key==="DecodeParms"){for(var Fr=[],ta=0;ta<pt.reverseChain.split("/").length-1;ta+=1)Fr.push("null");Fr.push(Mt[sr].value),Mt[sr].value="["+Fr.join(" ")+"]"}}P("<<");for(var Cr=0;Cr<Mt.length;Cr++)P("/"+Mt[Cr].key+" "+Mt[Cr].value);P(">>"),pt.data.length!==0&&(P("stream"),P(ut(pt.data)),P("endstream"))},to=x.__private__.putPage=function(_){var M=_.number,ne=_.data,pe=_.objId,Ae=_.contentsObjId;Aa(pe,!0),P("<</Type /Page"),P("/Parent "+_.rootDictionaryObjId+" 0 R"),P("/Resources "+_.resourceDictionaryObjId+" 0 R"),P("/MediaBox ["+parseFloat(Z(_.mediaBox.bottomLeftX))+" "+parseFloat(Z(_.mediaBox.bottomLeftY))+" "+Z(_.mediaBox.topRightX)+" "+Z(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&P("/CropBox ["+Z(_.cropBox.bottomLeftX)+" "+Z(_.cropBox.bottomLeftY)+" "+Z(_.cropBox.topRightX)+" "+Z(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&P("/BleedBox ["+Z(_.bleedBox.bottomLeftX)+" "+Z(_.bleedBox.bottomLeftY)+" "+Z(_.bleedBox.topRightX)+" "+Z(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&P("/TrimBox ["+Z(_.trimBox.bottomLeftX)+" "+Z(_.trimBox.bottomLeftY)+" "+Z(_.trimBox.topRightX)+" "+Z(_.trimBox.topRightY)+"]"),_.artBox!==null&&P("/ArtBox ["+Z(_.artBox.bottomLeftX)+" "+Z(_.artBox.bottomLeftY)+" "+Z(_.artBox.topRightX)+" "+Z(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&P("/UserUnit "+_.userUnit),ir.publish("putPage",{objId:pe,pageContext:yt[M],pageNumber:M,page:ne}),P("/Contents "+Ae+" 0 R"),P(">>"),P("endobj");var He=ne.join(`
`);return W===D&&(He+=`
Q`),Aa(Ae,!0),Ln({data:He,filters:wn(),objectId:Ae}),P("endobj"),pe},Xn=x.__private__.putPages=function(){var _,M,ne=[];for(_=1;_<=Wt;_++)yt[_].objId=oa(),yt[_].contentsObjId=oa();for(_=1;_<=Wt;_++)ne.push(to({number:_,data:$e[_],objId:yt[_].objId,contentsObjId:yt[_].contentsObjId,mediaBox:yt[_].mediaBox,cropBox:yt[_].cropBox,bleedBox:yt[_].bleedBox,trimBox:yt[_].trimBox,artBox:yt[_].artBox,userUnit:yt[_].userUnit,rootDictionaryObjId:Qa,resourceDictionaryObjId:_r}));Aa(Qa,!0),P("<</Type /Pages");var pe="/Kids [";for(M=0;M<Wt;M++)pe+=ne[M]+" 0 R ";P(pe+"]"),P("/Count "+Wt),P(">>"),P("endobj"),ir.publish("postPutPages")},Zn=function(_){ir.publish("putFont",{font:_,out:P,newObject:zr,putStream:Ln}),_.isAlreadyPutted!==!0&&(_.objectNumber=zr(),P("<<"),P("/Type /Font"),P("/BaseFont /"+Du(_.postScriptName)),P("/Subtype /Type1"),typeof _.encoding=="string"&&P("/Encoding /"+_.encoding),P("/FirstChar 32"),P("/LastChar 255"),P(">>"),P("endobj"))},Es=function(_){_.objectNumber=zr();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[Z(_.x),Z(_.y),Z(_.x+_.width),Z(_.y+_.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var ne=_.pages[1].join(`
`);Ln({data:ne,additionalKeyValues:M,objectId:_.objectNumber}),P("endobj")},Qn=function(_,M){M||(M=21);var ne=zr(),pe=(function(Xe,ut){var pt,Mt=[],$t=1/(ut-1);for(pt=0;pt<1;pt+=$t)Mt.push(pt);if(Mt.push(1),Xe[0].offset!=0){var sr={offset:0,color:Xe[0].color};Xe.unshift(sr)}if(Xe[Xe.length-1].offset!=1){var Fr={offset:1,color:Xe[Xe.length-1].color};Xe.push(Fr)}for(var ta="",Cr=0,ba=0;ba<Mt.length;ba++){for(pt=Mt[ba];pt>Xe[Cr+1].offset;)Cr++;var ca=Xe[Cr].offset,Da=(pt-ca)/(Xe[Cr+1].offset-ca),Qi=Xe[Cr].color,ii=Xe[Cr+1].color;ta+=q(Math.round((1-Da)*Qi[0]+Da*ii[0]).toString(16))+q(Math.round((1-Da)*Qi[1]+Da*ii[1]).toString(16))+q(Math.round((1-Da)*Qi[2]+Da*ii[2]).toString(16))}return ta.trim()})(_.colors,M),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+M+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ln({data:pe,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),P("endobj"),_.objectNumber=zr(),P("<< /ShadingType "+_.type),P("/ColorSpace /DeviceRGB");var He="/Coords ["+Z(parseFloat(_.coords[0]))+" "+Z(parseFloat(_.coords[1]))+" ";_.type===2?He+=Z(parseFloat(_.coords[2]))+" "+Z(parseFloat(_.coords[3])):He+=Z(parseFloat(_.coords[2]))+" "+Z(parseFloat(_.coords[3]))+" "+Z(parseFloat(_.coords[4]))+" "+Z(parseFloat(_.coords[5])),P(He+="]"),_.matrix&&P("/Matrix ["+_.matrix.toString()+"]"),P("/Function "+ne+" 0 R"),P("/Extend [true true]"),P(">>"),P("endobj")},ei=function(_,M){var ne=oa(),pe=zr();M.push({resourcesOid:ne,objectOid:pe}),_.objectNumber=pe;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+_.boundingBox.map(Z).join(" ")+"]"}),Ae.push({key:"XStep",value:Z(_.xStep)}),Ae.push({key:"YStep",value:Z(_.yStep)}),Ae.push({key:"Resources",value:ne+" 0 R"}),_.matrix&&Ae.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Ln({data:_.stream,additionalKeyValues:Ae,objectId:_.objectNumber}),P("endobj")},ro=function(_){for(var M in _.objectNumber=zr(),P("<<"),_)switch(M){case"opacity":P("/ca "+U(_[M]));break;case"stroke-opacity":P("/CA "+U(_[M]))}P(">>"),P("endobj")},Si=function(_){Aa(_.resourcesOid,!0),P("<<"),P("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var M in P("/Font <<"),Nt)Nt.hasOwnProperty(M)&&(w===!1||w===!0&&N.hasOwnProperty(M))&&P("/"+M+" "+Nt[M].objectNumber+" 0 R");P(">>")})(),(function(){if(Object.keys(xt).length>0){for(var M in P("/Shading <<"),xt)xt.hasOwnProperty(M)&&xt[M]instanceof bc&&xt[M].objectNumber>=0&&P("/"+M+" "+xt[M].objectNumber+" 0 R");ir.publish("putShadingPatternDict"),P(">>")}})(),(function(M){if(Object.keys(xt).length>0){for(var ne in P("/Pattern <<"),xt)xt.hasOwnProperty(ne)&&xt[ne]instanceof x.TilingPattern&&xt[ne].objectNumber>=0&&xt[ne].objectNumber<M&&P("/"+ne+" "+xt[ne].objectNumber+" 0 R");ir.publish("putTilingPatternDict"),P(">>")}})(_.objectOid),(function(){if(Object.keys(Rt).length>0){var M;for(M in P("/ExtGState <<"),Rt)Rt.hasOwnProperty(M)&&Rt[M].objectNumber>=0&&P("/"+M+" "+Rt[M].objectNumber+" 0 R");ir.publish("putGStateDict"),P(">>")}})(),(function(){for(var M in P("/XObject <<"),Ha)Ha.hasOwnProperty(M)&&Ha[M].objectNumber>=0&&P("/"+M+" "+Ha[M].objectNumber+" 0 R");ir.publish("putXobjectDict"),P(">>")})(),P(">>"),P("endobj")},ea=function(_){Dt[_.fontName]=Dt[_.fontName]||{},Dt[_.fontName][_.fontStyle]=_.id},Ml=function(_,M,ne,pe,Ae){var He={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:_,fontName:M,fontStyle:ne,encoding:pe,isStandardFont:Ae||!1,metadata:{}};return ir.publish("addFont",{font:He,instance:this}),Nt[He.id]=He,ea(He),He.id},_n=x.__private__.pdfEscape=x.pdfEscape=function(_,M){return(function(ne,pe){var Ae,He,Xe,ut,pt,Mt,$t,sr,Fr;if(Xe=(pe=pe||{}).sourceEncoding||"Unicode",pt=pe.outputEncoding,(pe.autoencode||pt)&&Nt[lt].metadata&&Nt[lt].metadata[Xe]&&Nt[lt].metadata[Xe].encoding&&(ut=Nt[lt].metadata[Xe].encoding,!pt&&Nt[lt].encoding&&(pt=Nt[lt].encoding),!pt&&ut.codePages&&(pt=ut.codePages[0]),typeof pt=="string"&&(pt=ut[pt]),pt)){for($t=!1,Mt=[],Ae=0,He=ne.length;Ae<He;Ae++)(sr=pt[ne.charCodeAt(Ae)])?Mt.push(String.fromCharCode(sr)):Mt.push(ne[Ae]),Mt[Ae].charCodeAt(0)>>8&&($t=!0);ne=Mt.join("")}for(Ae=ne.length;$t===void 0&&Ae!==0;)ne.charCodeAt(Ae-1)>>8&&($t=!0),Ae--;if(!$t)return ne;for(Mt=pe.noBOM?[]:[254,255],Ae=0,He=ne.length;Ae<He;Ae++){if((Fr=(sr=ne.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mt.push(Fr),Mt.push(sr-(Fr<<8))}return String.fromCharCode.apply(void 0,Mt)})(_,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ti=x.__private__.beginPage=function(_){$e[++Wt]=[],yt[Wt]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Ul(Wt),Me($e[A])},Hi=function(_,M){var ne,pe,Ae;switch(r=M||r,typeof _=="string"&&(ne=R(_.toLowerCase()),Array.isArray(ne)&&(pe=ne[0],Ae=ne[1])),Array.isArray(_)&&(pe=_[0]*Ct,Ae=_[1]*Ct),isNaN(pe)&&(pe=s[0],Ae=s[1]),(pe>14400||Ae>14400)&&(Ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),Ae=Math.min(14400,Ae)),s=[pe,Ae],r.substr(0,1)){case"l":Ae>pe&&(s=[Ae,pe]);break;case"p":pe>Ae&&(s=[Ae,pe])}ti(s),kt(no),P(jn),Go!==0&&P(Go+" J"),Ea!==0&&P(Ea+" j"),ir.publish("addPage",{pageNumber:Wt})},Bl=function(_){_>0&&_<=Wt&&($e.splice(_,1),yt.splice(_,1),Wt--,A>Wt&&(A=Wt),this.setPage(A))},Ul=function(_){_>0&&_<=Wt&&(A=_)},Pl=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return $e.length-1},Lc=function(_,M,ne){var pe,Ae=void 0;return ne=ne||{},_=_!==void 0?_:Nt[lt].fontName,M=M!==void 0?M:Nt[lt].fontStyle,pe=_.toLowerCase(),Dt[pe]!==void 0&&Dt[pe][M]!==void 0?Ae=Dt[pe][M]:Dt[_]!==void 0&&Dt[_][M]!==void 0?Ae=Dt[_][M]:ne.disableWarning===!1&&Ur.warn("Unable to look up font label for font '"+_+"', '"+M+"'. Refer to getFontList() for available fonts."),Ae||ne.noFallback||(Ae=Dt.times[M])==null&&(Ae=Dt.times.normal),Ae},Nn=x.__private__.putInfo=function(){var _=zr(),M=function(pe){return pe};for(var ne in g!==null&&(M=ya.encryptor(_,0)),P("<<"),P("/Producer ("+_n(M("jsPDF "+vt.version))+")"),Et)Et.hasOwnProperty(ne)&&Et[ne]&&P("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+_n(M(Et[ne]))+")");P("/CreationDate ("+_n(M(_e))+")"),P(">>"),P("endobj")},Vi=x.__private__.putCatalog=function(_){var M=(_=_||{}).rootDictionaryObjId||Qa;switch(zr(),P("<<"),P("/Type /Catalog"),P("/Pages "+M+" 0 R"),Ge||(Ge="fullwidth"),Ge){case"fullwidth":P("/OpenAction [3 0 R /FitH null]");break;case"fullheight":P("/OpenAction [3 0 R /FitV null]");break;case"fullpage":P("/OpenAction [3 0 R /Fit]");break;case"original":P("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+Ge;ne.substr(ne.length-1)==="%"&&(Ge=parseInt(Ge)/100),typeof Ge=="number"&&P("/OpenAction [3 0 R /XYZ null null "+U(Ge)+"]")}switch(At||(At="continuous"),At){case"continuous":P("/PageLayout /OneColumn");break;case"single":P("/PageLayout /SinglePage");break;case"two":case"twoleft":P("/PageLayout /TwoColumnLeft");break;case"tworight":P("/PageLayout /TwoColumnRight")}Qe&&P("/PageMode /"+Qe),ir.publish("putCatalog"),P(">>"),P("endobj")},ri=x.__private__.putTrailer=function(){P("trailer"),P("<<"),P("/Size "+(te+1)),P("/Root "+te+" 0 R"),P("/Info "+(te-1)+" 0 R"),g!==null&&P("/Encrypt "+ya.oid+" 0 R"),P("/ID [ <"+Q+"> <"+Q+"> ]"),P(">>")},hr=x.__private__.putHeader=function(){P("%PDF-"+T),P("%")},zl=x.__private__.putXRef=function(){var _="0000000000";P("xref"),P("0 "+(te+1)),P("0000000000 65535 f ");for(var M=1;M<=te;M++)typeof de[M]=="function"?P((_+de[M]()).slice(-10)+" 00000 n "):de[M]!==void 0?P((_+de[M]).slice(-10)+" 00000 n "):P("0000000000 00000 n ")},ji=x.__private__.buildDocument=function(){var _;te=0,be=0,ge=[],de=[],Te=[],Qa=oa(),_r=oa(),Me(ge),ir.publish("buildDocument"),hr(),Xn(),(function(){ir.publish("putAdditionalObjects");for(var ne=0;ne<Te.length;ne++){var pe=Te[ne];Aa(pe.objId,!0),P(pe.content),P("endobj")}ir.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var ne in Nt)Nt.hasOwnProperty(ne)&&(w===!1||w===!0&&N.hasOwnProperty(ne))&&Zn(Nt[ne])})(),(function(){var ne;for(ne in Rt)Rt.hasOwnProperty(ne)&&ro(Rt[ne])})(),(function(){for(var ne in Ha)Ha.hasOwnProperty(ne)&&Es(Ha[ne])})(),(function(ne){var pe;for(pe in xt)xt.hasOwnProperty(pe)&&(xt[pe]instanceof bc?Qn(xt[pe]):xt[pe]instanceof Bu&&ei(xt[pe],ne))})(_),ir.publish("putResources"),_.forEach(Si),Si({resourcesOid:_r,objectOid:Number.MAX_SAFE_INTEGER}),ir.publish("postPutResources"),g!==null&&(ya.oid=zr(),P("<<"),P("/Filter /Standard"),P("/V "+ya.v),P("/R "+ya.r),P("/U <"+ya.toHexString(ya.U)+">"),P("/O <"+ya.toHexString(ya.O)+">"),P("/P "+ya.P),P(">>"),P("endobj")),Nn(),Vi();var M=be;return zl(),ri(),P("startxref"),P(""+M),P("%%EOF"),Me($e[A]),ge.join(`
`)},Cs=x.__private__.getBlob=function(_){return new Blob([ee(_)],{type:"application/pdf"})},ql=x.output=x.__private__.output=(xn=function(_,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",_){case void 0:return ji();case"save":x.save(M.filename);break;case"arraybuffer":return ee(ji());case"blob":return Cs(ji());case"bloburi":case"bloburl":if(Ft.URL!==void 0&&typeof Ft.URL.createObjectURL=="function")return Ft.URL&&Ft.URL.createObjectURL(Cs(ji()))||void 0;Ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",pe=ji();try{ne=ey(pe)}catch{ne=ey(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+M.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",He=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(Ae=M.pdfObjectUrl,He="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+He+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",ut=Ft.open();return ut!==null&&ut.document.write(Xe),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',Mt=Ft.open();if(Mt!==null){Mt.document.write(pt);var $t=this;Mt.document.documentElement.querySelector("#pdfViewer").onload=function(){Mt.document.title=M.filename,Mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($t.output("bloburl"))}}return Mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',Fr=Ft.open();if(Fr!==null&&(Fr.document.write(sr),Fr.document.title=M.filename),Fr||typeof safari>"u")return Fr;break;case"datauri":case"dataurl":return Ft.document.location.href=this.output("datauristring",M);default:return null}},xn.foo=function(){try{return xn.apply(this,arguments)}catch(ne){var _=ne.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var M="Error in function "+_.split(`
`)[0].split("<")[0]+": "+ne.message;if(!Ft.console)throw new Error(M);Ft.console.error(M,ne),Ft.alert&&alert(M)}},xn.foo.bar=xn,xn.foo),en=function(_){return Array.isArray(Jn)===!0&&Jn.indexOf(_)>-1};switch(n){case"pt":Ct=1;break;case"mm":Ct=72/25.4;break;case"cm":Ct=72/2.54;break;case"in":Ct=72;break;case"px":Ct=en("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ct=12;break;case"ex":Ct=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ct=n}var ya=null;z(),he();var la=x.__private__.getPageInfo=x.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[_].objId,pageNumber:_,pageContext:yt[_]}},Ho=x.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in yt)if(yt[M].objId===_)break;return la(M)},Rc=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:yt[A].objId,pageNumber:A,pageContext:yt[A]}};x.addPage=function(){return Hi.apply(this,arguments),this},x.setPage=function(){return Ul.apply(this,arguments),Me.call(this,$e[A]),this},x.insertPage=function(_){return this.addPage(),this.movePage(A,_),this},x.movePage=function(_,M){var ne,pe;if(_>M){ne=$e[_],pe=yt[_];for(var Ae=_;Ae>M;Ae--)$e[Ae]=$e[Ae-1],yt[Ae]=yt[Ae-1];$e[M]=ne,yt[M]=pe,this.setPage(M)}else if(_<M){ne=$e[_],pe=yt[_];for(var He=_;He<M;He++)$e[He]=$e[He+1],yt[He]=yt[He+1];$e[M]=ne,yt[M]=pe,this.setPage(M)}return this},x.deletePage=function(){return Bl.apply(this,arguments),this},x.__private__.text=x.text=function(_,M,ne,pe,Ae){var He,Xe,ut,pt,Mt,$t,sr,Fr,ta,Cr=(pe=pe||{}).scope||this;if(typeof _=="number"&&typeof M=="number"&&(typeof ne=="string"||Array.isArray(ne))){var ba=ne;ne=M,M=_,_=ba}if(arguments[3]instanceof wt==0?(ut=arguments[4],pt=arguments[5],Er(sr=arguments[3])==="object"&&sr!==null||(typeof ut=="string"&&(pt=ut,ut=null),typeof sr=="string"&&(pt=sr,sr=null),typeof sr=="number"&&(ut=sr,sr=null),pe={flags:sr,angle:ut,align:pt})):(V("The transform parameter of text() with a Matrix value"),ta=Ae),isNaN(M)||isNaN(ne)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Cr;var ca,Da="",Qi=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:Gi,ii=Cr.internal.scaleFactor;function es(fr){return fr=fr.split("	").join(Array(pe.TabLen||9).join(" ")),_n(fr,sr)}function Kl(fr){for(var or,kr=fr.concat(),aa=[],Mi=kr.length;Mi--;)typeof(or=kr.shift())=="string"?aa.push(or):Array.isArray(fr)&&(or.length===1||or[1]===void 0&&or[2]===void 0)?aa.push(or[0]):aa.push([or[0],or[1],or[2]]);return aa}function Yo(fr,or){var kr;if(typeof fr=="string")kr=or(fr)[0];else if(Array.isArray(fr)){for(var aa,Mi,ci=fr.concat(),ho=[],Zl=ci.length;Zl--;)typeof(aa=ci.shift())=="string"?ho.push(or(aa)[0]):Array.isArray(aa)&&typeof aa[0]=="string"&&(Mi=or(aa[0],aa[1],aa[2]),ho.push([Mi[0],Mi[1],Mi[2]]));kr=ho}return kr}var Ci=!1,si=!0;if(typeof _=="string")Ci=!0;else if(Array.isArray(_)){var co=_.concat();Xe=[];for(var ts,Ca=co.length;Ca--;)(typeof(ts=co.shift())!="string"||Array.isArray(ts)&&typeof ts[0]!="string")&&(si=!1);Ci=si}if(Ci===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Ts=ve/Cr.internal.scaleFactor,Ls=Ts*(Qi-1);switch(pe.baseline){case"bottom":ne-=Ls;break;case"top":ne+=Ts-Ls;break;case"hanging":ne+=Ts-2*Ls;break;case"middle":ne+=Ts/2-Ls}if(($t=pe.maxWidth||0)>0&&(typeof _=="string"?_=Cr.splitTextToSize(_,$t):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(fr,or){return fr.concat(Cr.splitTextToSize(or,$t))},[]))),He={text:_,x:M,y:ne,options:pe,mutex:{pdfEscape:_n,activeFontKey:lt,fonts:Nt,activeFontSize:ve}},ir.publish("preProcessText",He),_=He.text,ut=(pe=He.options).angle,ta instanceof wt==0&&ut&&typeof ut=="number"){ut*=Math.PI/180,pe.rotationDirection===0&&(ut=-ut),W===D&&(ut=-ut);var Ko=Math.cos(ut),ki=Math.sin(ut);ta=new wt(Ko,ki,-ki,Ko,0,0)}else ut&&ut instanceof wt&&(ta=ut);W!==D||ta||(ta=Ni),(Mt=pe.charSpace||Rn)!==void 0&&(Da+=Z(oe(Mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fr=pe.horizontalScale)!==void 0&&(Da+=Z(100*Fr)+` Tz
`),pe.lang;var rn=-1,rs=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,Jo=Cr.internal.getCurrentPageInfo().pageContext;switch(rs){case 0:case!1:case"fill":rn=0;break;case 1:case!0:case"stroke":rn=1;break;case 2:case"fillThenStroke":rn=2;break;case 3:case"invisible":rn=3;break;case 4:case"fillAndAddForClipping":rn=4;break;case 5:case"strokeAndAddPathForClipping":rn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":rn=6;break;case 7:case"addToPathForClipping":rn=7}var Jl=Jo.usedRenderingMode!==void 0?Jo.usedRenderingMode:-1;rn!==-1?Da+=rn+` Tr
`:Jl!==-1&&(Da+=`0 Tr
`),rn!==-1&&(Jo.usedRenderingMode=rn),pt=pe.align||"left";var An,oi=ve*Qi,as=Cr.internal.pageSize.getWidth(),Xl=Nt[lt];Mt=pe.charSpace||Rn,$t=pe.maxWidth||0,sr=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var li=[],Rs=function(fr){return Cr.getStringUnitWidth(fr,{font:Xl,charSpace:Mt,fontSize:ve,doKerning:!1})*ve/ii};if(Object.prototype.toString.call(_)==="[object Array]"){var hn;Xe=Kl(_),pt!=="left"&&(An=Xe.map(Rs));var an,Ti=0;if(pt==="right"){M-=An[0],_=[],Ca=Xe.length;for(var Li=0;Li<Ca;Li++)Li===0?(an=Sn(M),hn=Oa(ne)):(an=oe(Ti-An[Li]),hn=-oi),_.push([Xe[Li],an,hn]),Ti=An[Li]}else if(pt==="center"){M-=An[0]/2,_=[],Ca=Xe.length;for(var ns=0;ns<Ca;ns++)ns===0?(an=Sn(M),hn=Oa(ne)):(an=oe((Ti-An[ns])/2),hn=-oi),_.push([Xe[ns],an,hn]),Ti=An[ns]}else if(pt==="left"){_=[],Ca=Xe.length;for(var Xo=0;Xo<Ca;Xo++)_.push(Xe[Xo])}else if(pt==="justify"&&Xl.encoding==="Identity-H"){_=[],Ca=Xe.length,$t=$t!==0?$t:as;for(var Zo=0,ra=0;ra<Ca;ra++)if(hn=ra===0?Oa(ne):-oi,an=ra===0?Sn(M):Zo,ra<Ca-1){var Ic=oe(($t-An[ra])/(Xe[ra].split(" ").length-1)),Ri=Xe[ra].split(" ");_.push([Ri[0]+" ",an,hn]),Zo=0;for(var Oi=1;Oi<Ri.length;Oi++){var Ma=(Rs(Ri[Oi-1]+" "+Ri[Oi])-Rs(Ri[Oi]))*ii+Ic;Oi==Ri.length-1?_.push([Ri[Oi],Ma,0]):_.push([Ri[Oi]+" ",Ma,0]),Zo-=Ma}}else _.push([Xe[ra],an,hn]);_.push(["",Zo,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Ca=Xe.length,$t=$t!==0?$t:as,ra=0;ra<Ca;ra++){hn=ra===0?Oa(ne):-oi,an=ra===0?Sn(M):0;var is=Xe[ra].split(" ").length-1,Qo=is>0?($t-An[ra])/is:0;ra<Ca-1?li.push(Z(oe(Qo))):li.push(0),_.push([Xe[ra],an,hn])}}}(typeof pe.R2L=="boolean"?pe.R2L:Ze)===!0&&(_=Yo(_,function(fr,or,kr){return[fr.split("").reverse().join(""),or,kr]})),He={text:_,x:M,y:ne,options:pe,mutex:{pdfEscape:_n,activeFontKey:lt,fonts:Nt,activeFontSize:ve}},ir.publish("postProcessText",He),_=He.text,ca=He.mutex.isHex||!1;var el=Nt[lt].encoding;el!=="WinAnsiEncoding"&&el!=="StandardEncoding"||(_=Yo(_,function(fr,or,kr){return[es(fr),or,kr]})),Xe=Kl(_),_=[];for(var ss,os,Di,uo=Array.isArray(Xe[0])?1:0,En="",ls=function(fr,or,kr){var aa="";return kr instanceof wt?(kr=typeof pe.angle=="number"?$i(kr,new wt(1,0,0,1,fr,or)):$i(new wt(1,0,0,1,fr,or),kr),W===D&&(kr=$i(new wt(1,0,0,-1,0,0),kr)),aa=kr.join(" ")+` Tm
`):aa=Z(fr)+" "+Z(or)+` Td
`,aa},Ga=0;Ga<Xe.length;Ga++){switch(En="",uo){case 1:Di=(ca?"<":"(")+Xe[Ga][0]+(ca?">":")"),ss=parseFloat(Xe[Ga][1]),os=parseFloat(Xe[Ga][2]);break;case 0:Di=(ca?"<":"(")+Xe[Ga]+(ca?">":")"),ss=Sn(M),os=Oa(ne)}li!==void 0&&li[Ga]!==void 0&&(En=li[Ga]+` Tw
`),Ga===0?_.push(En+ls(ss,os,ta)+Di):uo===0?_.push(En+Di):uo===1&&_.push(En+ls(ss,os,ta)+Di)}_=uo===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Dn=`BT
/`;return Dn+=lt+" "+ve+` Tf
`,Dn+=Z(ve*Qi)+` TL
`,Dn+=Ai+`
`,Dn+=Da,Dn+=_,P(Dn+="ET"),N[lt]=!0,Cr};var Il=x.__private__.clip=x.clip=function(_){return P(_==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Il("evenodd")},x.__private__.discardPath=x.discardPath=function(){return P("n"),this};var tn=x.__private__.isValidStyle=function(_){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(M=!0),M};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(_){return tn(_)&&(m=_),this};var Fl=x.__private__.getStyle=x.getStyle=function(_){var M=m;switch(_){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=_}return M},$l=x.close=function(){return P("h"),this};x.stroke=function(){return P("S"),this},x.fill=function(_){return ai("f",_),this},x.fillEvenOdd=function(_){return ai("f*",_),this},x.fillStroke=function(_){return ai("B",_),this},x.fillStrokeEvenOdd=function(_){return ai("B*",_),this};var ai=function(_,M){Er(M)==="object"?Dc(M,_):P(_)},ao=function(_){_===null||W===D&&_===void 0||(_=Fl(_),P(_))};function Oc(_,M,ne,pe,Ae){var He=new Bu(M||this.boundingBox,ne||this.xStep,pe||this.yStep,this.gState,Ae||this.matrix);He.stream=this.stream;var Xe=_+"$$"+this.cloneIndex+++"$$";return bn(Xe,He),He}var Dc=function(_,M){var ne=xr[_.key],pe=xt[ne];if(pe instanceof bc)P("q"),P(Hl(M)),pe.gState&&x.setGState(pe.gState),P(_.matrix.toString()+" cm"),P("/"+ne+" sh"),P("Q");else if(pe instanceof Bu){var Ae=new wt(1,0,0,-1,0,Zi());_.matrix&&(Ae=Ae.multiply(_.matrix||Ni),ne=Oc.call(pe,_.key,_.boundingBox,_.xStep,_.yStep,Ae).id),P("q"),P("/Pattern cs"),P("/"+ne+" scn"),pe.gState&&x.setGState(pe.gState),P(M),P("Q")}},Hl=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Vl=x.moveTo=function(_,M){return P(Z(oe(_))+" "+Z(le(M))+" m"),this},Mc=x.lineTo=function(_,M){return P(Z(oe(_))+" "+Z(le(M))+" l"),this},dn=x.curveTo=function(_,M,ne,pe,Ae,He){return P([Z(oe(_)),Z(le(M)),Z(oe(ne)),Z(le(pe)),Z(oe(Ae)),Z(le(He)),"c"].join(" ")),this};x.__private__.line=x.line=function(_,M,ne,pe,Ae){if(isNaN(_)||isNaN(M)||isNaN(ne)||isNaN(pe)||!tn(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return W===G?this.lines([[ne-_,pe-M]],_,M,[1,1],Ae||"S"):this.lines([[ne-_,pe-M]],_,M,[1,1]).stroke()},x.__private__.lines=x.lines=function(_,M,ne,pe,Ae,He){var Xe,ut,pt,Mt,$t,sr,Fr,ta,Cr,ba,ca,Da;if(typeof _=="number"&&(Da=ne,ne=M,M=_,_=Da),pe=pe||[1,1],He=He||!1,isNaN(M)||isNaN(ne)||!Array.isArray(_)||!Array.isArray(pe)||!tn(Ae)||typeof He!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Vl(M,ne),Xe=pe[0],ut=pe[1],Mt=_.length,ba=M,ca=ne,pt=0;pt<Mt;pt++)($t=_[pt]).length===2?(ba=$t[0]*Xe+ba,ca=$t[1]*ut+ca,Mc(ba,ca)):(sr=$t[0]*Xe+ba,Fr=$t[1]*ut+ca,ta=$t[2]*Xe+ba,Cr=$t[3]*ut+ca,ba=$t[4]*Xe+ba,ca=$t[5]*ut+ca,dn(sr,Fr,ta,Cr,ba,ca));return He&&$l(),ao(Ae),this},x.path=function(_){for(var M=0;M<_.length;M++){var ne=_[M],pe=ne.c;switch(ne.op){case"m":Vl(pe[0],pe[1]);break;case"l":Mc(pe[0],pe[1]);break;case"c":dn.apply(this,pe);break;case"h":$l()}}return this},x.__private__.rect=x.rect=function(_,M,ne,pe,Ae){if(isNaN(_)||isNaN(M)||isNaN(ne)||isNaN(pe)||!tn(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return W===G&&(pe=-pe),P([Z(oe(_)),Z(le(M)),Z(oe(ne)),Z(oe(pe)),"re"].join(" ")),ao(Ae),this},x.__private__.triangle=x.triangle=function(_,M,ne,pe,Ae,He,Xe){if(isNaN(_)||isNaN(M)||isNaN(ne)||isNaN(pe)||isNaN(Ae)||isNaN(He)||!tn(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-_,pe-M],[Ae-ne,He-pe],[_-Ae,M-He]],_,M,[1,1],Xe,!0),this},x.__private__.roundedRect=x.roundedRect=function(_,M,ne,pe,Ae,He,Xe){if(isNaN(_)||isNaN(M)||isNaN(ne)||isNaN(pe)||isNaN(Ae)||isNaN(He)||!tn(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*ne),He=Math.min(He,.5*pe),this.lines([[ne-2*Ae,0],[Ae*ut,0,Ae,He-He*ut,Ae,He],[0,pe-2*He],[0,He*ut,-Ae*ut,He,-Ae,He],[2*Ae-ne,0],[-Ae*ut,0,-Ae,-He*ut,-Ae,-He],[0,2*He-pe],[0,-He*ut,Ae*ut,-He,Ae,-He]],_+Ae,M,[1,1],Xe,!0),this},x.__private__.ellipse=x.ellipse=function(_,M,ne,pe,Ae){if(isNaN(_)||isNaN(M)||isNaN(ne)||isNaN(pe)||!tn(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var He=4/3*(Math.SQRT2-1)*ne,Xe=4/3*(Math.SQRT2-1)*pe;return Vl(_+ne,M),dn(_+ne,M-Xe,_+He,M-pe,_,M-pe),dn(_-He,M-pe,_-ne,M-Xe,_-ne,M),dn(_-ne,M+Xe,_-He,M+pe,_,M+pe),dn(_+He,M+pe,_+ne,M+Xe,_+ne,M),ao(Ae),this},x.__private__.circle=x.circle=function(_,M,ne,pe){if(isNaN(_)||isNaN(M)||isNaN(ne)||!tn(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,M,ne,ne,pe)},x.setFont=function(_,M,ne){return ne&&(M=K(M,ne)),lt=Lc(_,M,{disableWarning:!1}),this};var ni=x.__private__.getFont=x.getFont=function(){return Nt[Lc.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var _,M,ne={};for(_ in Dt)if(Dt.hasOwnProperty(_))for(M in ne[_]=[],Dt[_])Dt[_].hasOwnProperty(M)&&ne[_].push(M);return ne},x.addFont=function(_,M,ne,pe,Ae){var He=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&He.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&He.indexOf(arguments[3])==-1&&(ne=K(ne,pe)),Ml.call(this,_,M,ne,Ae=Ae||"Identity-H")};var Gi,no=t.lineWidth||.200025,ks=x.__private__.getLineWidth=x.getLineWidth=function(){return no},kt=x.__private__.setLineWidth=x.setLineWidth=function(_){return no=_,P(Z(oe(_))+" w"),this};x.__private__.setLineDash=vt.API.setLineDash=vt.API.setLineDashPattern=function(_,M){if(_=_||[],M=M||0,isNaN(M)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(ne){return Z(oe(ne))}).join(" "),M=Z(oe(M)),P("["+_+"] "+M+" d"),this};var Bc=x.__private__.getLineHeight=x.getLineHeight=function(){return ve*Gi};x.__private__.getLineHeight=x.getLineHeight=function(){return ve*Gi};var Gl=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(Gi=_),this},Uc=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Gi};Gl(t.lineHeight);var Sn=x.__private__.getHorizontalCoordinate=function(_){return oe(_)},Oa=x.__private__.getVerticalCoordinate=function(_){return W===D?_:yt[A].mediaBox.topRightY-yt[A].mediaBox.bottomLeftY-oe(_)},Wl=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(_){return Z(Sn(_))},io=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(_){return Z(Oa(_))},jn=t.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return Ir(jn)},x.__private__.setStrokeColor=x.setDrawColor=function(_,M,ne,pe){return jn=Va({ch1:_,ch2:M,ch3:ne,ch4:pe,pdfColorType:"draw",precision:2}),P(jn),this};var so=t.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return Ir(so)},x.__private__.setFillColor=x.setFillColor=function(_,M,ne,pe){return so=Va({ch1:_,ch2:M,ch3:ne,ch4:pe,pdfColorType:"fill",precision:2}),P(so),this};var Ai=t.textColor||"0 g",Pc=x.__private__.getTextColor=x.getTextColor=function(){return Ir(Ai)};x.__private__.setTextColor=x.setTextColor=function(_,M,ne,pe){return Ai=Va({ch1:_,ch2:M,ch3:ne,ch4:pe,pdfColorType:"text",precision:3}),this};var Rn=t.charSpace,Vo=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Rn||0)};x.__private__.setCharSpace=x.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Rn=_,this};var Go=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(_){var M=x.CapJoinStyles[_];if(M===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Go=M,P(M+" J"),this};var Ea=0;x.__private__.setLineJoin=x.setLineJoin=function(_){var M=x.CapJoinStyles[_];if(M===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ea=M,P(M+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return P(Z(oe(_))+" M"),this},x.GState=Lf,x.setGState=function(_){(_=typeof _=="string"?Rt[zt[_]]:Ei(null,_)).equals(wr)||(P("/"+_.id+" gs"),wr=_)};var Ei=function(_,M){if(!_||!zt[_]){var ne=!1;for(var pe in Rt)if(Rt.hasOwnProperty(pe)&&Rt[pe].equals(M)){ne=!0;break}if(ne)M=Rt[pe];else{var Ae="GS"+(Object.keys(Rt).length+1).toString(10);Rt[Ae]=M,M.id=Ae}return _&&(zt[_]=M.id),ir.publish("addGState",M),M}};x.addGState=function(_,M){return Ei(_,M),this},x.saveGraphicsState=function(){return P("q"),Xt.push({key:lt,size:ve,color:Ai}),this},x.restoreGraphicsState=function(){P("Q");var _=Xt.pop();return lt=_.key,ve=_.size,Ai=_.color,wr=null,this},x.setCurrentTransformationMatrix=function(_){return P(_.toString()+" cm"),this},x.comment=function(_){return P("#"+_),this};var On=function(_,M){var ne=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(He){isNaN(He)||(ne=parseFloat(He))}});var pe=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(He){isNaN(He)||(pe=parseFloat(He))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(He){Ae=He.toString()}}),this},Wi=function(_,M,ne,pe){On.call(this,_,M),this.type="rect";var Ae=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(Xe){isNaN(Xe)||(Ae=parseFloat(Xe))}});var He=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return He},set:function(Xe){isNaN(Xe)||(He=parseFloat(Xe))}}),this},Wo=function(){this.page=Wt,this.currentPage=A,this.pages=$e.slice(0),this.pagesContext=yt.slice(0),this.x=ht,this.y=Pr,this.matrix=Pt,this.width=Ki(A),this.height=Yl(A),this.outputDestination=ce,this.id="",this.objectNumber=-1};Wo.prototype.restore=function(){Wt=this.page,A=this.currentPage,yt=this.pagesContext,$e=this.pages,ht=this.x,Pr=this.y,Pt=this.matrix,lo(A,this.width),Ji(A,this.height),ce=this.outputDestination};var oo=function(_,M,ne,pe,Ae){Tn.push(new Wo),Wt=A=0,$e=[],ht=_,Pr=M,Pt=Ae,ti([ne,pe])};for(var Yi in x.beginFormObject=function(_,M,ne,pe,Ae){return oo(_,M,ne,pe,Ae),this},x.endFormObject=function(_){return(function(M){if(_i[M])Tn.pop().restore();else{var ne=new Wo,pe="Xo"+(Object.keys(Ha).length+1).toString(10);ne.id=pe,_i[M]=pe,Ha[pe]=ne,ir.publish("addFormObject",ne),Tn.pop().restore()}})(_),this},x.doFormObject=function(_,M){var ne=Ha[_i[_]];return P("q"),P(M.toString()+" cm"),P("/"+ne.id+" Do"),P("Q"),this},x.getFormObject=function(_){var M=Ha[_i[_]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},x.save=function(_,M){return _=_||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(gc(Cs(ji()),_),typeof gc.unload=="function"&&Ft.setTimeout&&setTimeout(gc.unload,911),this):new Promise(function(ne,pe){try{var Ae=gc(Cs(ji()),_);typeof gc.unload=="function"&&Ft.setTimeout&&setTimeout(gc.unload,911),ne(Ae)}catch(He){pe(He.message)}})},vt.API)vt.API.hasOwnProperty(Yi)&&(Yi==="events"&&vt.API.events.length?(function(_,M){var ne,pe,Ae;for(Ae=M.length-1;Ae!==-1;Ae--)ne=M[Ae][0],pe=M[Ae][1],_.subscribe.apply(_,[ne].concat(typeof pe=="function"?[pe]:pe))})(ir,vt.API.events):x[Yi]=vt.API[Yi]);function Ki(_){return yt[_].mediaBox.topRightX-yt[_].mediaBox.bottomLeftX}function lo(_,M){yt[_].mediaBox.topRightX=M+yt[_].mediaBox.bottomLeftX}function Yl(_){return yt[_].mediaBox.topRightY-yt[_].mediaBox.bottomLeftY}function Ji(_,M){yt[_].mediaBox.topRightY=M+yt[_].mediaBox.bottomLeftY}var Xi=x.getPageWidth=function(_){return Ki(_=_||A)/Ct},zc=x.setPageWidth=function(_,M){lo(_,M*Ct)},Zi=x.getPageHeight=function(_){return Yl(_=_||A)/Ct},qc=x.setPageHeight=function(_,M){Ji(_,M*Ct)};return x.internal={pdfEscape:_n,getStyle:Fl,getFont:ni,getFontSize:Ye,getCharSpace:Vo,getTextColor:Pc,getLineHeight:Bc,getLineHeightFactor:Uc,getLineWidth:ks,write:Be,getHorizontalCoordinate:Sn,getVerticalCoordinate:Oa,getCoordinateString:Wl,getVerticalCoordinateString:io,collections:{},newObject:zr,newAdditionalObject:As,newObjectDeferred:oa,newObjectDeferredBegin:Aa,getFilters:wn,putStream:Ln,events:ir,scaleFactor:Ct,pageSize:{getWidth:function(){return Xi(A)},setWidth:function(_){zc(A,_)},getHeight:function(){return Zi(A)},setHeight:function(_){qc(A,_)}},encryptionOptions:g,encryption:ya,getEncryptor:function(_){return g!==null?ya.encryptor(_,0):function(M){return M}},output:ql,getNumberOfPages:Pl,get pages(){return $e},out:P,f2:U,f3:F,getPageInfo:la,getPageInfoByObjId:Ho,getCurrentPageInfo:Rc,getPDFVersion:k,Point:On,Rectangle:Wi,Matrix:wt,hasHotfix:en},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Xi(A)},set:function(_){zc(A,_)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return Zi(A)},set:function(_){qc(A,_)},enumerable:!0,configurable:!0}),(function(_){for(var M=0,ne=Se.length;M<ne;M++){var pe=Ml.call(this,_[M][0],_[M][1],_[M][2],Se[M][3],!0);w===!1&&(N[pe]=!0);var Ae=_[M][0].split("-");ea({id:pe,fontName:Ae[0],fontStyle:Ae[1]||""})}ir.publish("addFonts",{fonts:Nt,dictionary:Dt})}).call(x,Se),lt="F1",Hi(s,r),ir.publish("initialized"),x}Ou.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Ou.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ou.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Ou.prototype.processOwnerPassword=function(t,e){return Np(_p(e).substr(0,5),t)},Ou.prototype.encryptor=function(t,e){var r=_p(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Np(r,n)}},Lf.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Er(t)!==Er(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},vt.API={events:[]},vt.version="4.0.0";var ga=vt.API,Jp=1,Tc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Gt=function(t){return t.toFixed(2)},jl=function(t){return t.toFixed(5)};ga.__acroform__={};var Kn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ny=function(t){return t*Jp},Ks=function(t){var e=new rx,r=mt.internal.getHeight(t)||0,n=mt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Gt(n)),Number(Gt(r))],e},Uj=ga.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Pj=ga.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},zj=ga.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Na=ga.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return zj(t,e-1)},Sa=ga.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Uj(t,e-1)},ja=ga.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Pj(t,e-1)},qj=ga.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],o=t[1],u=t[2],h=t[3],f={};return f.lowerLeft_X=r(s)||0,f.lowerLeft_Y=n(o+h)||0,f.upperRight_X=r(s+u)||0,f.upperRight_Y=n(o)||0,[Number(Gt(f.lowerLeft_X)),Number(Gt(f.lowerLeft_Y)),Number(Gt(f.upperRight_X)),Number(Gt(f.upperRight_Y))]},Ij=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Sp(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+Gt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Ks(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},Sp=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(U){return U.split(`
`)}):s.map(function(U){return[U]});var o=r,u=mt.internal.getHeight(t)||0;u=u<0?-u:u;var h=mt.internal.getWidth(t)||0;h=h<0?-h:h;var f=function(U,F,oe){if(U+1<s.length){var le=F+" "+s[U+1][0];return sf(le,t,oe).width<=h-4}return!1};o++;e:for(;o>0;){e="",o--;var m,g,w=sf("3",t,o).height,N=t.multiline?u-o:(u-w)/2,x=N+=2,T=0,k=0,O=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+sf(e,t,o=12).width+", FieldWidth:"+h+`
`;break}for(var R="",G=0,D=0;D<s.length;D++)if(s.hasOwnProperty(D)){var W=!1;if(s[D].length!==1&&O!==s[D].length-1){if((w+2)*(G+2)+2>u)continue e;R+=s[D][O],W=!0,k=D,D--}else{R=(R+=s[D][O]+" ").substr(R.length-1)==" "?R.substr(0,R.length-1):R;var ie=parseInt(D),se=f(ie,R,o),K=D>=s.length-1;if(se&&!K){R+=" ",O=0;continue}if(se||K){if(K)k=ie;else if(t.multiline&&(w+2)*(G+2)+2>u)continue e}else{if(!t.multiline||(w+2)*(G+2)+2>u)continue e;k=ie}}for(var Z="",V=T;V<=k;V++){var ye=s[V];if(t.multiline){if(V===k){Z+=ye[O]+" ",O=(O+1)%ye.length;continue}if(V===T){Z+=ye[ye.length-1]+" ";continue}}Z+=ye[0]+" "}switch(Z=Z.substr(Z.length-1)==" "?Z.substr(0,Z.length-1):Z,g=sf(Z,t,o).width,t.textAlign){case"right":m=h-g-2;break;case"center":m=(h-g)/2;break;default:m=2}e+=Gt(m)+" "+Gt(x)+` Td
`,e+="("+Tc(Z)+`) Tj
`,e+=-Gt(m)+` 0 Td
`,x=-(o+2),g=0,T=W?k:k+1,G++,R=""}break}return n.text=e,n.fontSize=o,n},sf=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},Fj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$j=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Hj=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ss.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Fj)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Jp=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ax,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var o=n[s];o.objId=void 0,o.hasAnnotation&&$j(o,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var o=!n;for(var u in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(u)){var h=n[u],f=[],m=h.Rect;if(h.Rect&&(h.Rect=qj(h.Rect,s)),s.internal.newObjectDeferredBegin(h.objId,!0),h.DA=mt.createDefaultAppearanceStream(h),Er(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=m,h.hasAppearanceStream&&!h.appearanceStreamContent){var g=Ij(h);f.push({key:"AP",value:"<</N "+g+">>"}),s.internal.acroformPlugin.xForms.push(g)}if(h.appearanceStreamContent){var w="";for(var N in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(N)){var x=h.appearanceStreamContent[N];if(w+="/"+N+" ",w+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var u in x)if(x.hasOwnProperty(u)){var T=x[u];typeof T=="function"&&(T=T.call(s,h)),w+="/"+u+" "+T+" ",s.internal.acroformPlugin.xForms.indexOf(T)>=0||s.internal.acroformPlugin.xForms.push(T)}}else typeof(T=x)=="function"&&(T=T.call(s,h)),w+="/"+u+" "+T,s.internal.acroformPlugin.xForms.indexOf(T)>=0||s.internal.acroformPlugin.xForms.push(T);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:h.objId}),s.internal.out("endobj")}o&&(function(k,O){for(var R in k)if(k.hasOwnProperty(R)){var G=R,D=k[R];O.internal.newObjectDeferredBegin(D.objId,!0),Er(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete k[G]}})(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},tx=ga.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(u){return u};if(Array.isArray(t)){for(var s="[",o=0;o<t.length;o++)switch(o!==0&&(s+=" "),Er(t[o])){case"boolean":case"number":case"object":s+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+Tc(n(t[o].toString()))+")"):s+=t[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Fm=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Tc(n(t))+")"},Xs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xs.prototype.toString=function(){return this.objId+" 0 R"},Xs.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Xs.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:tx(s,this.objId,this.scope)}):s instanceof Xs?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var rx=function(){Xs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Kn(rx,Xs);var ax=function(){Xs.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Tc(r(t))+")"}},set:function(r){t=r}})};Kn(ax,Xs);var Ss=function t(){Xs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute F supplied.');e=R}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Na(e,3)},set:function(R){R?this.F=Sa(e,3):this.F=ja(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute Ff supplied.');r=R}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(R){n=R!==void 0?R:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(R){n[0]=R}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(R){n[1]=R}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(R){n[2]=R}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(R){n[3]=R}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(R){switch(R){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=R;break;default:throw new Error('Invalid value "'+R+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Rf)return;o="FieldObject"+t.FieldNum++}var R=function(G){return G};return this.scope&&(R=this.scope.internal.getEncryptor(this.objId)),"("+Tc(R(o))+")"},set:function(R){o=R.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(R){o=R}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(R){u=R}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(R){h=R}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(R){f=R}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/Jp:m},set:function(R){m=R}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(R){g=R}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof Rf||this instanceof _c))return Fm(w,this.objId,this.scope)},set:function(R){R=R.toString(),w=R}});var N=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof Za==0?Fm(N,this.objId,this.scope):N},set:function(R){R=R.toString(),N=this instanceof Za==0?R.substr(0,1)==="("?Cu(R.substr(1,R.length-2)):Cu(R):R}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Za==1?Cu(N.substr(1,N.length-1)):N},set:function(R){R=R.toString(),N=this instanceof Za==1?"/"+R:R}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(R){this.V=R}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Za==0?Fm(x,this.objId,this.scope):x},set:function(R){R=R.toString(),x=this instanceof Za==0?R.substr(0,1)==="("?Cu(R.substr(1,R.length-2)):Cu(R):R}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Za==1?Cu(x.substr(1,x.length-1)):x},set:function(R){R=R.toString(),x=this instanceof Za==1?"/"+R:R}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(R){R=!!R,k=R}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(R){T=R}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,1)},set:function(R){R?this.Ff=Sa(this.Ff,1):this.Ff=ja(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,2)},set:function(R){R?this.Ff=Sa(this.Ff,2):this.Ff=ja(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,3)},set:function(R){R?this.Ff=Sa(this.Ff,3):this.Ff=ja(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(R){if([0,1,2].indexOf(R)===-1)throw new Error('Invalid value "'+R+'" for attribute Q supplied.');O=R}}),Object.defineProperty(this,"textAlign",{get:function(){var R;switch(O){case 0:default:R="left";break;case 1:R="center";break;case 2:R="right"}return R},configurable:!0,enumerable:!0,set:function(R){switch(R){case"right":case 2:O=2;break;case"center":case 1:O=1;break;default:O=0}}})};Kn(Ss,Xs);var Pu=function(){Ss.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tx(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=(function(o,u,h){h||(h=1);for(var f,m=[];f=u.exec(o);)m.push(f[h]);return m})(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,18)},set:function(r){r?this.Ff=Sa(this.Ff,18):this.Ff=ja(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Sa(this.Ff,19):this.Ff=ja(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,20)},set:function(r){r?(this.Ff=Sa(this.Ff,20),e.sort()):this.Ff=ja(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,22)},set:function(r){r?this.Ff=Sa(this.Ff,22):this.Ff=ja(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,23)},set:function(r){r?this.Ff=Sa(this.Ff,23):this.Ff=ja(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,27)},set:function(r){r?this.Ff=Sa(this.Ff,27):this.Ff=ja(this.Ff,27)}}),this.hasAppearanceStream=!1};Kn(Pu,Ss);var zu=function(){Pu.call(this),this.fontName="helvetica",this.combo=!1};Kn(zu,Pu);var qu=function(){zu.call(this),this.combo=!0};Kn(qu,zu);var vf=function(){qu.call(this),this.edit=!0};Kn(vf,qu);var Za=function(){Ss.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,15)},set:function(r){r?this.Ff=Sa(this.Ff,15):this.Ff=ja(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,16)},set:function(r){r?this.Ff=Sa(this.Ff,16):this.Ff=ja(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,17)},set:function(r){r?this.Ff=Sa(this.Ff,17):this.Ff=ja(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,26)},set:function(r){r?this.Ff=Sa(this.Ff,26):this.Ff=ja(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+Tc(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Er(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Kn(Za,Ss);var yf=function(){Za.call(this),this.pushButton=!0};Kn(yf,Za);var Iu=function(){Za.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Kn(Iu,Za);var Rf=function(){var t,e;Ss.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(h){return h};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),n)u.push("/"+o+" ("+Tc(s(n[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){Er(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Kn(Rf,Ss),Iu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Iu.prototype.createOption=function(t){var e=new Rf;return e.Parent=this,e.optionName=t,this.Kids.push(e),Vj.call(this.scope,e),e};var bf=function(){Za.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Kn(bf,Za);var _c=function(){Ss.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,13)},set:function(e){e?this.Ff=Sa(this.Ff,13):this.Ff=ja(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,21)},set:function(e){e?this.Ff=Sa(this.Ff,21):this.Ff=ja(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,23)},set:function(e){e?this.Ff=Sa(this.Ff,23):this.Ff=ja(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,24)},set:function(e){e?this.Ff=Sa(this.Ff,24):this.Ff=ja(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,25)},set:function(e){e?this.Ff=Sa(this.Ff,25):this.Ff=ja(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,26)},set:function(e){e?this.Ff=Sa(this.Ff,26):this.Ff=ja(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Kn(_c,Ss);var xf=function(){_c.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Na(this.Ff,14)},set:function(t){t?this.Ff=Sa(this.Ff,14):this.Ff=ja(this.Ff,14)}}),this.password=!0};Kn(xf,_c);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ks(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),o=Sp(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Gt(mt.internal.getWidth(t))+" "+Gt(mt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Gt(o.fontSize)+" Tf "+s),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ks(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],o=mt.internal.getHeight(t),u=mt.internal.getWidth(t),h=Sp(t,t.caption);return s.push("1 g"),s.push("0 0 "+Gt(u)+" "+Gt(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Gt(u-1)+" "+Gt(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Gt(h.fontSize)+" Tf "+n),s.push(h.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Ks(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Gt(mt.internal.getWidth(t))+" "+Gt(mt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Circle.YesNormal,e.D[t]=mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ks(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=mt.internal.Bezier_C,o=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+jl(mt.internal.getWidth(t)/2)+" "+jl(mt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ks(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),o=Number((s*mt.internal.Bezier_C).toFixed(5)),u=Number((n*mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+jl(mt.internal.getWidth(t)/2)+" "+jl(mt.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+jl(mt.internal.getWidth(t)/2)+" "+jl(mt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+u+" "+u+" "+n+" 0 "+n+" c"),r.push("-"+u+" "+n+" -"+n+" "+u+" -"+n+" 0 c"),r.push("-"+n+" -"+u+" -"+u+" -"+n+" 0 -"+n+" c"),r.push(u+" -"+n+" "+n+" -"+u+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ks(t);e.scope=t.scope;var r=[],n=mt.internal.getWidth(t)<=mt.internal.getHeight(t)?mt.internal.getWidth(t)/4:mt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),o=Number((s*mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+jl(mt.internal.getWidth(t)/2)+" "+jl(mt.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=mt.RadioButton.Cross.YesNormal,e.D[t]=mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ks(t);e.scope=t.scope;var r=[],n=mt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Gt(mt.internal.getWidth(t)-2)+" "+Gt(mt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Gt(n.x1.x)+" "+Gt(n.x1.y)+" m"),r.push(Gt(n.x2.x)+" "+Gt(n.x2.y)+" l"),r.push(Gt(n.x4.x)+" "+Gt(n.x4.y)+" m"),r.push(Gt(n.x3.x)+" "+Gt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ks(t);e.scope=t.scope;var r=mt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Gt(mt.internal.getWidth(t))+" "+Gt(mt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Gt(mt.internal.getWidth(t)-2)+" "+Gt(mt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Gt(r.x1.x)+" "+Gt(r.x1.y)+" m"),n.push(Gt(r.x2.x)+" "+Gt(r.x2.y)+" l"),n.push(Gt(r.x4.x)+" "+Gt(r.x4.y)+" m"),n.push(Gt(r.x3.x)+" "+Gt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ks(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Gt(mt.internal.getWidth(t))+" "+Gt(mt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};mt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=mt.internal.getWidth(t),r=mt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},mt.internal.getWidth=function(t){var e=0;return Er(t)==="object"&&(e=ny(t.Rect[2])),e},mt.internal.getHeight=function(t){var e=0;return Er(t)==="object"&&(e=ny(t.Rect[3])),e};var Vj=ga.addField=function(t){if(Hj(this,t),!(t instanceof Ss))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ga.AcroFormChoiceField=Pu,ga.AcroFormListBox=zu,ga.AcroFormComboBox=qu,ga.AcroFormEditBox=vf,ga.AcroFormButton=Za,ga.AcroFormPushButton=yf,ga.AcroFormRadioButton=Iu,ga.AcroFormCheckBox=bf,ga.AcroFormTextField=_c,ga.AcroFormPasswordField=xf,ga.AcroFormAppearance=mt,ga.AcroForm={ChoiceField:Pu,ListBox:zu,ComboBox:qu,EditBox:vf,Button:Za,PushButton:yf,RadioButton:Iu,CheckBox:bf,TextField:_c,PasswordField:xf,Appearance:mt},vt.AcroForm={ChoiceField:Pu,ListBox:zu,ComboBox:qu,EditBox:vf,Button:Za,PushButton:yf,RadioButton:Iu,CheckBox:bf,TextField:_c,PasswordField:xf,Appearance:mt};vt.AcroForm;function nx(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(U,F){var oe,le,_e,Q,ue,he=r;if((F=F||r)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(se(U))for(ue in n)for(_e=n[ue],oe=0;oe<_e.length;oe+=1){for(Q=!0,le=0;le<_e[oe].length;le+=1)if(_e[oe][le]!==void 0&&_e[oe][le]!==U[le]){Q=!1;break}if(Q===!0){he=ue;break}}else for(ue in n)for(_e=n[ue],oe=0;oe<_e.length;oe+=1){for(Q=!0,le=0;le<_e[oe].length;le+=1)if(_e[oe][le]!==void 0&&_e[oe][le]!==U.charCodeAt(le)){Q=!1;break}if(Q===!0){he=ue;break}}return he===r&&F!==r&&(he=F),he},o=function U(F){for(var oe=this.internal.write,le=this.internal.putStream,_e=(0,this.internal.getFilters)();_e.indexOf("FlateEncode")!==-1;)_e.splice(_e.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:F.width}),Q.push({key:"Height",value:F.height}),F.colorSpace===R.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===R.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var ue="",he=0,je=F.transparency.length;he<je;he++)ue+=F.transparency[he]+" "+F.transparency[he]+" ";Q.push({key:"Mask",value:"["+ue+"]"})}F.sMask!==void 0&&Q.push({key:"SMask",value:F.objectId+1+" 0 R"});var me=F.filter!==void 0?["/"+F.filter]:void 0;if(le({data:F.data,additionalKeyValues:Q,alreadyAppliedFilters:me,objectId:F.objectId}),oe("endobj"),"sMask"in F&&F.sMask!==void 0){var z,j=(z=F.sMaskBitsPerComponent)!==null&&z!==void 0?z:F.bitsPerComponent,A={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:F.sMask};"filter"in F&&(A.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(F.width),A.filter=F.filter),U.call(this,A)}if(F.colorSpace===R.INDEXED){var L=this.internal.newObject();le({data:Z(new Uint8Array(F.palette)),objectId:L}),oe("endobj")}},u=function(){var U=this.internal.collections[e+"images"];for(var F in U)o.call(this,U[F])},h=function(){var U,F=this.internal.collections[e+"images"],oe=this.internal.write;for(var le in F)oe("/I"+(U=F[le]).index,U.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",h))},m=function(){var U=this.internal.collections[e+"images"];return f.call(this),U},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(U){return typeof t["process"+U.toUpperCase()]=="function"},N=function(U){return Er(U)==="object"&&U.nodeType===1},x=function(U,F){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var oe=""+U.getAttribute("src");if(oe.indexOf("data:image/")===0)return gf(unescape(oe).split("base64,").pop());var le=t.loadFile(oe,!0);if(le!==void 0)return le}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var _e;switch(F){case"PNG":_e="image/png";break;case"WEBP":_e="image/webp";break;default:_e="image/jpeg"}return gf(U.toDataURL(_e,1).split("base64,").pop())}},T=function(U){var F=this.internal.collections[e+"images"];if(F){for(var oe in F)if(U===F[oe].alias)return F[oe]}},k=function(U,F,oe){return U||F||(U=-96,F=-96),U<0&&(U=-1*oe.width*72/U/this.internal.scaleFactor),F<0&&(F=-1*oe.height*72/F/this.internal.scaleFactor),U===0&&(U=F*oe.width/oe.height),F===0&&(F=U*oe.height/oe.width),[U,F]},O=function(U,F,oe,le,_e,Q){var ue=k.call(this,oe,le,_e),he=this.internal.getCoordinateString,je=this.internal.getVerticalCoordinateString,me=m.call(this);if(oe=ue[0],le=ue[1],me[_e.index]=_e,Q){Q*=Math.PI/180;var z=Math.cos(Q),j=Math.sin(Q),A=function(q){return q.toFixed(4)},L=[A(z),A(j),A(-1*j),A(z),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,he(U),je(F+le),"cm"].join(" ")),this.internal.write(L.join(" ")),this.internal.write([he(oe),"0","0",he(le),"0","0","cm"].join(" "))):this.internal.write([he(oe),"0","0",he(le),he(U),je(F+le),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+_e.index+" Do"),this.internal.write("Q")},R=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var G=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=t.__addimage__.sHashCode=function(U){var F,oe,le=0;if(typeof U=="string")for(oe=U.length,F=0;F<oe;F++)le=(le<<5)-le+U.charCodeAt(F),le|=0;else if(se(U))for(oe=U.byteLength/2,F=0;F<oe;F++)le=(le<<5)-le+U[F],le|=0;return le},W=t.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var F=!0;return U.length===0&&(F=!1),U.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(F=!1),F},ie=t.__addimage__.extractImageFromDataUrl=function(U){if(U==null||!(U=U.trim()).startsWith("data:"))return null;var F=U.indexOf(",");return F<0?null:U.substring(0,F).trim().endsWith("base64")?U.substring(F+1):null};t.__addimage__.isArrayBuffer=function(U){return U instanceof ArrayBuffer};var se=t.__addimage__.isArrayBufferView=function(U){return U instanceof Int8Array||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array},K=t.__addimage__.binaryStringToUint8Array=function(U){for(var F=U.length,oe=new Uint8Array(F),le=0;le<F;le++)oe[le]=U.charCodeAt(le);return oe},Z=t.__addimage__.arrayBufferToBinaryString=function(U){for(var F="",oe=se(U)?U:new Uint8Array(U),le=0;le<oe.length;le+=8192)F+=String.fromCharCode.apply(null,oe.subarray(le,le+8192));return F};t.addImage=function(){var U,F,oe,le,_e,Q,ue,he,je;if(typeof arguments[1]=="number"?(F=r,oe=arguments[1],le=arguments[2],_e=arguments[3],Q=arguments[4],ue=arguments[5],he=arguments[6],je=arguments[7]):(F=arguments[1],oe=arguments[2],le=arguments[3],_e=arguments[4],Q=arguments[5],ue=arguments[6],he=arguments[7],je=arguments[8]),Er(U=arguments[0])==="object"&&!N(U)&&"imageData"in U){var me=U;U=me.imageData,F=me.format||F||r,oe=me.x||oe||0,le=me.y||le||0,_e=me.w||me.width||_e,Q=me.h||me.height||Q,ue=me.alias||ue,he=me.compression||he,je=me.rotation||me.angle||je}var z=this.internal.getFilters();if(he===void 0&&z.indexOf("FlateEncode")!==-1&&(he="SLOW"),isNaN(oe)||isNaN(le))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var j=V.call(this,U,F,ue,he);return O.call(this,oe,le,_e,Q,j,je),this};var V=function(U,F,oe,le){var _e,Q,ue;if(typeof U=="string"&&s(U)===r){U=unescape(U);var he=ye(U,!1);(he!==""||(he=t.loadFile(U,!0))!==void 0)&&(U=he)}if(N(U)&&(U=x(U,F)),F=s(U,F),!w(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((ue=oe)==null||ue.length===0)&&(oe=(function(je){return typeof je=="string"||se(je)?D(je):se(je.data)?D(je.data):null})(U)),(_e=T.call(this,oe))||(U instanceof Uint8Array||F==="RGBA"||(Q=U,U=K(U)),_e=this["process"+F.toUpperCase()](U,g.call(this),oe,(function(je){return je&&typeof je=="string"&&(je=je.toUpperCase()),je in t.image_compression?je:G.NONE})(le),Q)),!_e)throw new Error("An unknown error occurred whilst processing the image.");return _e},ye=t.__addimage__.convertBase64ToBinaryString=function(U,F){F=typeof F!="boolean"||F;var oe,le="";if(typeof U=="string"){var _e;oe=(_e=ie(U))!==null&&_e!==void 0?_e:U;try{le=gf(oe)}catch(Q){if(F)throw W(oe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};t.getImageProperties=function(U){var F,oe,le="";if(N(U)&&(U=x(U)),typeof U=="string"&&s(U)===r&&((le=ye(U,!1))===""&&(le=t.loadFile(U)||""),U=le),oe=s(U),!w(oe))throw new Error("addImage does not support files of type '"+oe+"', please ensure that a plugin for '"+oe+"' support is added.");if(U instanceof Uint8Array||(U=K(U)),!(F=this["process"+oe.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=oe,F}})(vt.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};vt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,o,u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(r.objId),m=r.pageContext.annotations,g=!1,w=0;w<m.length&&!g;w++)switch((n=m[w]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var N=0;N<m.length;N++){n=m[N];var x=this.internal.pdfEscape,T=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),R=this.internal.getEncryptor(k.objId),G=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(n.bounds.x)+" "+h(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w)+" "+h(n.bounds.y)+"] ")+"/Contents ("+x(R(n.contents))+")",o+=" /Popup "+O.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+x(R(G))+") >>",k.content=o;var D=k.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(n.bounds.x+30)+" "+h(n.bounds.y+n.bounds.h)+" "+u(n.bounds.x+n.bounds.w+30)+" "+h(n.bounds.y)+"] ")+" /Parent "+D,n.open&&(o+=" /Open true"),o+=" >>",O.content=o,this.internal.write(k.objId,"0 R",O.objId,"0 R");break;case"freetext":s="/Rect ["+u(n.bounds.x)+" "+h(n.bounds.y)+" "+u(n.bounds.x+n.bounds.w)+" "+h(n.bounds.y+n.bounds.h)+"] ";var W=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+x(T(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+W+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var ie=this.annotations._nameMap[n.options.name];n.options.pageNumber=ie.page,n.options.top=ie.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+x(T(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var se=h(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+se+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,o,u){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(r),y:m(n),w:f(r+s),h:m(n+o)},options:u,type:"link"})},t.textWithLink=function(r,n,s,o){var u,h,f=this.getTextWidth(r),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var g=this.splitTextToSize(r,h).length;u=Math.ceil(m*g)}else h=f,u=m;return this.text(r,n,s,o),s+=.2*m,o.align==="center"&&(n-=f/2),o.align==="right"&&(n-=f),this.link(n,s-m,h,u,o),f},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(vt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},u=t.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},h=t.__arabicParser__.isArabicEndLetter=function(k){return u(k)&&o(k)&&e[k.charCodeAt(0)].length<=2},f=t.__arabicParser__.isArabicAlfLetter=function(k){return u(k)&&s.indexOf(k.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return u(k)&&o(k)&&e[k.charCodeAt(0)].length>=1};var m=t.__arabicParser__.arabicLetterHasFinalForm=function(k){return u(k)&&o(k)&&e[k.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(k){return u(k)&&o(k)&&e[k.charCodeAt(0)].length>=3};var g=t.__arabicParser__.arabicLetterHasMedialForm=function(k){return u(k)&&o(k)&&e[k.charCodeAt(0)].length==4},w=t.__arabicParser__.resolveLigatures=function(k){var O=0,R=r,G="",D=0;for(O=0;O<k.length;O+=1)R[k.charCodeAt(O)]!==void 0?(D++,typeof(R=R[k.charCodeAt(O)])=="number"&&(G+=String.fromCharCode(R),R=r,D=0),O===k.length-1&&(R=r,G+=k.charAt(O-(D-1)),O-=D-1,D=0)):(R=r,G+=k.charAt(O-D),O-=D,D=0);return G};t.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&n[k.charCodeAt(0)]!==void 0};var N=t.__arabicParser__.getCorrectForm=function(k,O,R){return u(k)?o(k)===!1?-1:!m(k)||!u(O)&&!u(R)||!u(R)&&h(O)||h(k)&&!u(O)||h(k)&&f(O)||h(k)&&h(O)?0:g(k)&&u(O)&&!h(O)&&u(R)&&m(R)?3:h(k)||!u(R)?1:2:-1},x=function(k){var O=0,R=0,G=0,D="",W="",ie="",se=(k=k||"").split("\\s+"),K=[];for(O=0;O<se.length;O+=1){for(K.push(""),R=0;R<se[O].length;R+=1)D=se[O][R],W=se[O][R-1],ie=se[O][R+1],u(D)?(G=N(D,W,ie),K[O]+=G!==-1?String.fromCharCode(e[D.charCodeAt(0)][G]):D):K[O]+=D;K[O]=w(K[O])}return K.join(" ")},T=t.__arabicParser__.processArabic=t.processArabic=function(){var k,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,R=[];if(Array.isArray(O)){var G=0;for(R=[],G=0;G<O.length;G+=1)Array.isArray(O[G])?R.push([x(O[G][0]),O[G][1],O[G][2]]):R.push([x(O[G])]);k=R}else k=x(O);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};t.events.push(["preProcessText",T])})(vt.API),vt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(h){r=h}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(h){n=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(h){u=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(vt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(k){f=k}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(k){w=k}});var N=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return N},set:function(k){N=k}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(k){x=k}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(k){T=k}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(f){return n.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},t.getTextDimensions=function(f,m){n.call(this);var g=(m=m||{}).fontSize||this.getFontSize(),w=m.font||this.getFont(),N=m.scaleFactor||this.internal.scaleFactor,x=0,T=0,k=0,O=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var R=m.maxWidth;R>0?typeof f=="string"?f=this.splitTextToSize(f,R):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(D,W){return D.concat(O.splitTextToSize(W,R))},[])):f=Array.isArray(f)?f:[f];for(var G=0;G<f.length;G++)x<(k=this.getStringUnitWidth(f[G],{font:w})*g)&&(x=k);return x!==0&&(T=f.length),{w:x/=N,h:Math.max((T*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/N,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=t.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var m=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,N=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===f.lineNumber?(f.x=(m.x||0)+(m.width||0),f.y=m.y||0):m.y+m.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,x&&N&&(this.printHeaderRow(f.lineNumber,!0),f.y+=N[0].height)):f.y=m.y+m.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,r===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-g,f.y+g,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+g,{align:"center",baseline:"top",maxWidth:f.width-g-g}):this.text(f.text,f.x+g,f.y+g,{align:"left",baseline:"top",maxWidth:f.width-g-g})),this.internal.__cell__.lastCell=f,this};t.table=function(f,m,g,w,N){if(n.call(this),!g)throw new Error("No data for PDF table.");var x,T,k,O,R=[],G=[],D=[],W={},ie={},se=[],K=[],Z=(N=N||{}).autoSize||!1,V=N.printHeaders!==!1,ye=N.css&&N.css["font-size"]!==void 0?16*N.css["font-size"]:N.fontSize||12,U=N.margins||Object.assign({width:this.getPageWidth()},e),F=typeof N.padding=="number"?N.padding:3,oe=N.headerBackgroundColor||"#c8c8c8",le=N.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=ye,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=oe,this.internal.__cell__.headerTextColor=le,this.setFontSize(ye),w==null)G=R=Object.keys(g[0]),D=R.map(function(){return"left"});else if(Array.isArray(w)&&Er(w[0])==="object")for(R=w.map(function(me){return me.name}),G=w.map(function(me){return me.prompt||me.name||""}),D=w.map(function(me){return me.align||"left"}),x=0;x<w.length;x+=1)ie[w[x].name]=.7499990551181103*w[x].width;else Array.isArray(w)&&typeof w[0]=="string"&&(G=R=w,D=R.map(function(){return"left"}));if(Z||Array.isArray(w)&&typeof w[0]=="string")for(x=0;x<R.length;x+=1){for(W[O=R[x]]=g.map(function(me){return me[O]}),this.setFont(void 0,"bold"),se.push(this.getTextDimensions(G[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=W[O],this.setFont(void 0,"normal"),k=0;k<T.length;k+=1)se.push(this.getTextDimensions(T[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ie[O]=Math.max.apply(null,se)+F+F,se=[]}if(V){var _e={};for(x=0;x<R.length;x+=1)_e[R[x]]={},_e[R[x]].text=G[x],_e[R[x]].align=D[x];var Q=h.call(this,_e,ie);K=R.map(function(me){return new o(f,m,ie[me],Q,_e[me].text,void 0,_e[me].align)}),this.setTableHeaderRow(K),this.printHeaderRow(1,!1)}var ue=w.reduce(function(me,z){return me[z.name]=z.align,me},{});for(x=0;x<g.length;x+=1){"rowStart"in N&&N.rowStart instanceof Function&&N.rowStart({row:x,data:g[x]},this);var he=h.call(this,g[x],ie);for(k=0;k<R.length;k+=1){var je=g[x][R[k]];"cellStart"in N&&N.cellStart instanceof Function&&N.cellStart({row:x,col:k,data:je},this),u.call(this,new o(f,m,ie[R[k]],he,je,x+2,ue[R[k]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=m,this};var h=function(f,m){var g=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,N=this.internal.scaleFactor;return Object.keys(f).map(function(x){var T=f[x];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,m[x]-g-g)},this).map(function(x){return this.getLineHeightFactor()*x.length*w/N+g+g},this).reduce(function(x,T){return Math.max(x,T)},0)};t.setTableHeaderRow=function(f){n.call(this),this.internal.__cell__.tableHeaderRow=f},t.printHeaderRow=function(f,m){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var N=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){g=this.internal.__cell__.tableHeaderRow[x].clone(),m&&(g.y=this.internal.__cell__.margins.top||0,N.push(g)),g.lineNumber=f;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(T)}N.length>0&&this.setTableHeaderRow(N),this.setFont(void 0,"normal"),r=!1}})(vt.API);var ix={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},sx=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],jp=nx(sx),ox=[100,200,300,400,500,600,700,800,900],Gj=nx(ox);function $m(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(o){return ix[o=o||"normal"]?o:"normal"})(t.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),s=(function(o){return typeof jp[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function iy(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var Wj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function oy(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ly(t){return t.trimLeft()}function Yj(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Kj(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var of,cy,uy,ku,lf,dy,hy,fy,Hm=["times"];function my(t,e,r,n,s){var o=4,u=gy;switch(s){case vt.API.image_compression.FAST:o=1,u=py;break;case vt.API.image_compression.MEDIUM:o=6,u=vy;break;case vt.API.image_compression.SLOW:o=9,u=yy}t=(function(f,m,g,w){for(var N,x=f.length/m,T=new Uint8Array(f.length+x),k=[Jj,py,gy,vy,yy],O=0;O<x;O+=1){var R=O*m,G=f.subarray(R,R+m);if(w)T.set(w(G,g,N),R+O);else{for(var D=k.length,W=[],ie=0;ie<D;ie+=1)W[ie]=k[ie](G,g,N);var se=Zj(W.concat());T.set(W[se],R+O)}N=G}return T})(t,e,Math.ceil(r*n/8),u);var h=yp(t,{level:o});return vt.API.__addimage__.arrayBufferToBinaryString(h)}function Jj(t){var e=Array.apply([],t);return e.unshift(0),e}function py(t,e){var r=t.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var o=t[s-e]||0;n[s+1]=t[s]-o+256&255}return n}function gy(t,e,r){var n=t.length,s=[];s[0]=2;for(var o=0;o<n;o+=1){var u=r&&r[o]||0;s[o+1]=t[o]-u+256&255}return s}function vy(t,e,r){var n=t.length,s=[];s[0]=3;for(var o=0;o<n;o+=1){var u=t[o-e]||0,h=r&&r[o]||0;s[o+1]=t[o]+256-(u+h>>>1)&255}return s}function yy(t,e,r){var n=t.length,s=[];s[0]=4;for(var o=0;o<n;o+=1){var u=Xj(t[o-e]||0,r&&r[o]||0,r&&r[o-e]||0);s[o+1]=t[o]-u+256&255}return s}function Xj(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),s=Math.abs(t-r),o=Math.abs(t+e-r-r);return n<=s&&n<=o?t:s<=o?e:r}function Zj(t){var e=t.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function Vm(t,e,r){var n=e*r,s=Math.floor(n/8),o=16-(n-8*s+r),u=(1<<r)-1;return lx(t,s)>>o&u}function by(t,e,r,n){var s=r*n,o=Math.floor(s/8),u=16-(s-8*o+n),h=(1<<n)-1,f=(e&h)<<u;(function(m,g,w){if(g+1<m.byteLength)m.setUint16(g,w,!1);else{var N=w>>8&255;m.setUint8(g,N)}})(t,o,lx(t,o)&~(h<<u)&65535|f)}function lx(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Qj(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],o=s>>7,u=1<<1+(7&s);t[e++],t[e++];var h=null,f=null;o&&(h=e,f=u,e+=3*u);var m=!0,g=[],w=0,N=null,x=0,T=null;for(this.width=r,this.height=n;m&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,T=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=t[e++];w=t[e++]|t[e++]<<8,N=t[e++],1&k||(N=null),x=k>>2&7,e++;break;case 254:for(;;){if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var O=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,G=t[e++]|t[e++]<<8,D=t[e++]|t[e++]<<8,W=t[e++],ie=W>>6&1,se=1<<1+(7&W),K=h,Z=f,V=!1;W>>7&&(V=!0,K=e,Z=se,e+=3*se);var ye=e;for(e++;;){var U;if(!((U=t[e++])>=0))throw Error("Invalid block size");if(U===0)break;e+=U}g.push({x:O,y:R,width:G,height:D,has_local_palette:V,palette_offset:K,palette_size:Z,data_offset:ye,data_length:e-ye,transparent_index:N,interlaced:!!ie,delay:w,disposal:x});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return T},this.frameInfo=function(F){if(F<0||F>=g.length)throw new Error("Frame index out of range.");return g[F]},this.decodeAndBlitFrameBGRA=function(F,oe){var le=this.frameInfo(F),_e=le.width*le.height,Q=new Uint8Array(_e);xy(t,le.data_offset,Q,_e);var ue=le.palette_offset,he=le.transparent_index;he===null&&(he=256);var je=le.width,me=r-je,z=je,j=4*(le.y*r+le.x),A=4*((le.y+le.height)*r+le.x),L=j,q=4*me;le.interlaced===!0&&(q+=4*r*7);for(var te=8,de=0,ge=Q.length;de<ge;++de){var be=Q[de];if(z===0&&(z=je,(L+=q)>=A&&(q=4*me+4*r*(te-1),L=j+(je+me)*(te<<1),te>>=1)),be===he)L+=4;else{var Te=t[ue+3*be],$e=t[ue+3*be+1],tt=t[ue+3*be+2];oe[L++]=tt,oe[L++]=$e,oe[L++]=Te,oe[L++]=255}--z}},this.decodeAndBlitFrameRGBA=function(F,oe){var le=this.frameInfo(F),_e=le.width*le.height,Q=new Uint8Array(_e);xy(t,le.data_offset,Q,_e);var ue=le.palette_offset,he=le.transparent_index;he===null&&(he=256);var je=le.width,me=r-je,z=je,j=4*(le.y*r+le.x),A=4*((le.y+le.height)*r+le.x),L=j,q=4*me;le.interlaced===!0&&(q+=4*r*7);for(var te=8,de=0,ge=Q.length;de<ge;++de){var be=Q[de];if(z===0&&(z=je,(L+=q)>=A&&(q=4*me+4*r*(te-1),L=j+(je+me)*(te<<1),te>>=1)),be===he)L+=4;else{var Te=t[ue+3*be],$e=t[ue+3*be+1],tt=t[ue+3*be+2];oe[L++]=Te,oe[L++]=$e,oe[L++]=tt,oe[L++]=255}--z}}}function xy(t,e,r,n){for(var s=t[e++],o=1<<s,u=o+1,h=u+1,f=s+1,m=(1<<f)-1,g=0,w=0,N=0,x=t[e++],T=new Int32Array(4096),k=null;;){for(;g<16&&x!==0;)w|=t[e++]<<g,g+=8,x===1?x=t[e++]:--x;if(g<f)break;var O=w&m;if(w>>=f,g-=f,O!==o){if(O===u)break;for(var R=O<h?O:k,G=0,D=R;D>o;)D=T[D]>>8,++G;var W=D;if(N+G+(R!==O?1:0)>n)return void Ur.log("Warning, gif stream longer than expected.");r[N++]=W;var ie=N+=G;for(R!==O&&(r[N++]=W),D=R;G--;)D=T[D],r[--ie]=255&D,D>>=8;k!==null&&h<4096&&(T[h++]=k<<8|W,h>=m+1&&f<12&&(++f,m=m<<1|1)),k=O}else h=u+1,m=(1<<(f=s+1))-1,k=null}return N!==n&&Ur.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Gm(t){var e,r,n,s,o,u=Math.floor,h=new Array(64),f=new Array(64),m=new Array(64),g=new Array(64),w=new Array(65535),N=new Array(65535),x=new Array(64),T=new Array(64),k=[],O=0,R=7,G=new Array(64),D=new Array(64),W=new Array(64),ie=new Array(256),se=new Array(2048),K=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],ye=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],oe=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_e=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(j,A){for(var L=0,q=0,te=new Array,de=1;de<=16;de++){for(var ge=1;ge<=j[de];ge++)te[A[q]]=[],te[A[q]][0]=L,te[A[q]][1]=de,q++,L++;L*=2}return te}function ue(j){for(var A=j[0],L=j[1]-1;L>=0;)A&1<<L&&(O|=1<<R),L--,--R<0&&(O==255?(he(255),he(0)):he(O),R=7,O=0)}function he(j){k.push(j)}function je(j){he(j>>8&255),he(255&j)}function me(j,A,L,q,te){for(var de,ge=te[0],be=te[240],Te=(function(ve,Ge){var Ye,Ze,Qe,at,At,nt,it,Et,lt,Ct,ht=0;for(lt=0;lt<8;++lt){Ye=ve[ht],Ze=ve[ht+1],Qe=ve[ht+2],at=ve[ht+3],At=ve[ht+4],nt=ve[ht+5],it=ve[ht+6];var Pr=Ye+(Et=ve[ht+7]),Pt=Ye-Et,Nt=Ze+it,Dt=Ze-it,Xt=Qe+nt,xt=Qe-nt,xr=at+At,Rt=at-At,zt=Pr+xr,wr=Pr-xr,Wt=Nt+Xt,yt=Nt-Xt;ve[ht]=zt+Wt,ve[ht+4]=zt-Wt;var ir=.707106781*(yt+wr);ve[ht+2]=wr+ir,ve[ht+6]=wr-ir;var Jn=.382683433*((zt=Rt+xt)-(yt=Dt+Pt)),Ha=.5411961*zt+Jn,_i=1.306562965*yt+Jn,Tn=.707106781*(Wt=xt+Dt),wt=Pt+Tn,$i=Pt-Tn;ve[ht+5]=$i+Ha,ve[ht+3]=$i-Ha,ve[ht+1]=wt+_i,ve[ht+7]=wt-_i,ht+=8}for(ht=0,lt=0;lt<8;++lt){Ye=ve[ht],Ze=ve[ht+8],Qe=ve[ht+16],at=ve[ht+24],At=ve[ht+32],nt=ve[ht+40],it=ve[ht+48];var Ni=Ye+(Et=ve[ht+56]),bn=Ye-Et,xn=Ze+it,zr=Ze-it,oa=Qe+nt,Aa=Qe-nt,As=at+At,Qa=at-At,_r=Ni+As,Ir=Ni-As,Va=xn+oa,wn=xn-oa;ve[ht]=_r+Va,ve[ht+32]=_r-Va;var Ln=.707106781*(wn+Ir);ve[ht+16]=Ir+Ln,ve[ht+48]=Ir-Ln;var to=.382683433*((_r=Qa+Aa)-(wn=zr+bn)),Xn=.5411961*_r+to,Zn=1.306562965*wn+to,Es=.707106781*(Va=Aa+zr),Qn=bn+Es,ei=bn-Es;ve[ht+40]=ei+Xn,ve[ht+24]=ei-Xn,ve[ht+8]=Qn+Zn,ve[ht+56]=Qn-Zn,ht++}for(lt=0;lt<64;++lt)Ct=ve[lt]*Ge[lt],x[lt]=Ct>0?Ct+.5|0:Ct-.5|0;return x})(j,A),$e=0;$e<64;++$e)T[K[$e]]=Te[$e];var tt=T[0]-L;L=T[0],tt==0?ue(q[0]):(ue(q[N[de=32767+tt]]),ue(w[de]));for(var ce=63;ce>0&&T[ce]==0;)ce--;if(ce==0)return ue(ge),L;for(var Me,P=1;P<=ce;){for(var Be=P;T[P]==0&&P<=ce;)++P;var ee=P-Be;if(ee>=16){Me=ee>>4;for(var Se=1;Se<=Me;++Se)ue(be);ee&=15}de=32767+T[P],ue(te[(ee<<4)+N[de]]),ue(w[de]),P++}return ce!=63&&ue(ge),L}function z(j){j=Math.min(Math.max(j,1),100),o!=j&&((function(A){for(var L=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],q=0;q<64;q++){var te=u((L[q]*A+50)/100);te=Math.min(Math.max(te,1),255),h[K[q]]=te}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var be=u((de[ge]*A+50)/100);be=Math.min(Math.max(be,1),255),f[K[ge]]=be}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,tt=0;tt<8;tt++)for(var ce=0;ce<8;ce++)m[$e]=1/(h[K[$e]]*Te[tt]*Te[ce]*8),g[$e]=1/(f[K[$e]]*Te[tt]*Te[ce]*8),$e++})(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),o=j)}this.encode=function(j,A){A&&z(A),k=new Array,O=0,R=7,je(65496),je(65504),je(16),he(74),he(70),he(73),he(70),he(0),he(1),he(1),he(0),je(1),je(1),he(0),he(0),(function(){je(65499),je(132),he(0);for(var Ze=0;Ze<64;Ze++)he(h[Ze]);he(1);for(var Qe=0;Qe<64;Qe++)he(f[Qe])})(),(function(Ze,Qe){je(65472),je(17),he(8),je(Qe),je(Ze),he(3),he(1),he(17),he(0),he(2),he(17),he(1),he(3),he(17),he(1)})(j.width,j.height),(function(){je(65476),je(418),he(0);for(var Ze=0;Ze<16;Ze++)he(Z[Ze+1]);for(var Qe=0;Qe<=11;Qe++)he(V[Qe]);he(16);for(var at=0;at<16;at++)he(ye[at+1]);for(var At=0;At<=161;At++)he(U[At]);he(1);for(var nt=0;nt<16;nt++)he(F[nt+1]);for(var it=0;it<=11;it++)he(oe[it]);he(17);for(var Et=0;Et<16;Et++)he(le[Et+1]);for(var lt=0;lt<=161;lt++)he(_e[lt])})(),je(65498),je(12),he(3),he(1),he(0),he(2),he(17),he(3),he(17),he(0),he(63),he(0);var L=0,q=0,te=0;O=0,R=7,this.encode.displayName="_encode_";for(var de,ge,be,Te,$e,tt,ce,Me,P,Be=j.data,ee=j.width,Se=j.height,ve=4*ee,Ge=0;Ge<Se;){for(de=0;de<ve;){for($e=ve*Ge+de,ce=-1,Me=0,P=0;P<64;P++)tt=$e+(Me=P>>3)*ve+(ce=4*(7&P)),Ge+Me>=Se&&(tt-=ve*(Ge+1+Me-Se)),de+ce>=ve&&(tt-=de+ce-ve+4),ge=Be[tt++],be=Be[tt++],Te=Be[tt++],G[P]=(se[ge]+se[be+256|0]+se[Te+512|0]>>16)-128,D[P]=(se[ge+768|0]+se[be+1024|0]+se[Te+1280|0]>>16)-128,W[P]=(se[ge+1280|0]+se[be+1536|0]+se[Te+1792|0]>>16)-128;L=me(G,m,L,e,n),q=me(D,g,q,r,s),te=me(W,g,te,r,s),de+=32}Ge+=8}if(R>=0){var Ye=[];Ye[1]=R+1,Ye[0]=(1<<R+1)-1,ue(Ye)}return je(65497),new Uint8Array(k)},t=t||50,(function(){for(var j=String.fromCharCode,A=0;A<256;A++)ie[A]=j(A)})(),e=Q(Z,V),r=Q(F,oe),n=Q(ye,U),s=Q(le,_e),(function(){for(var j=1,A=2,L=1;L<=15;L++){for(var q=j;q<A;q++)N[32767+q]=L,w[32767+q]=[],w[32767+q][1]=L,w[32767+q][0]=q;for(var te=-(A-1);te<=-j;te++)N[32767+te]=L,w[32767+te]=[],w[32767+te][1]=L,w[32767+te][0]=A-1+te;j<<=1,A<<=1}})(),(function(){for(var j=0;j<256;j++)se[j]=19595*j,se[j+256|0]=38470*j,se[j+512|0]=7471*j+32768,se[j+768|0]=-11059*j,se[j+1024|0]=-21709*j,se[j+1280|0]=32768*j+8421375,se[j+1536|0]=-27439*j,se[j+1792|0]=-5329*j})(),z(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ys(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function wy(t){function e(V){if(!V)throw Error("assert :P")}function r(V,ye,U){for(var F=0;4>F;F++)if(V[ye+F]!=U.charCodeAt(F))return!0;return!1}function n(V,ye,U,F,oe){for(var le=0;le<oe;le++)V[ye+le]=U[F+le]}function s(V,ye,U,F){for(var oe=0;oe<F;oe++)V[ye+oe]=U}function o(V){return new Int32Array(V)}function u(V,ye){for(var U=[],F=0;F<V;F++)U.push(new ye);return U}function h(V,ye){var U=[];return(function F(oe,le,_e){for(var Q=_e[le],ue=0;ue<Q&&(oe.push(_e.length>le+1?[]:new ye),!(_e.length<le+1));ue++)F(oe[ue],le+1,_e)})(U,0,V),U}var f=function(){var V=this;function ye(p,y){for(var S=1<<y-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function U(p,y,S,E,B){e(!(E%S));do p[y+(E-=S)]=B;while(0<E)}function F(p,y,S,E,B){if(e(2328>=B),512>=B)var I=o(512);else if((I=o(B))==null)return 0;return(function($,Y,J,ae,xe,Le){var re,Ne,Ce=Y,ze=1<<J,ke=o(16),Pe=o(16);for(e(xe!=0),e(ae!=null),e($!=null),e(0<J),Ne=0;Ne<xe;++Ne){if(15<ae[Ne])return 0;++ke[ae[Ne]]}if(ke[0]==xe)return 0;for(Pe[1]=0,re=1;15>re;++re){if(ke[re]>1<<re)return 0;Pe[re+1]=Pe[re]+ke[re]}for(Ne=0;Ne<xe;++Ne)re=ae[Ne],0<ae[Ne]&&(Le[Pe[re]++]=Ne);if(Pe[15]==1)return(ae=new oe).g=0,ae.value=Le[0],U($,Ce,1,ze,ae),ze;var Ve,et=-1,Je=ze-1,ft=0,st=1,It=1,ct=1<<J;for(Ne=0,re=1,xe=2;re<=J;++re,xe<<=1){if(st+=It<<=1,0>(It-=ke[re]))return 0;for(;0<ke[re];--ke[re])(ae=new oe).g=re,ae.value=Le[Ne++],U($,Ce+ft,xe,ct,ae),ft=ye(ft,re)}for(re=J+1,xe=2;15>=re;++re,xe<<=1){if(st+=It<<=1,0>(It-=ke[re]))return 0;for(;0<ke[re];--ke[re]){if(ae=new oe,(ft&Je)!=et){for(Ce+=ct,Ve=1<<(et=re)-J;15>et&&!(0>=(Ve-=ke[et]));)++et,Ve<<=1;ze+=ct=1<<(Ve=et-J),$[Y+(et=ft&Je)].g=Ve+J,$[Y+et].value=Ce-Y-et}ae.g=re-J,ae.value=Le[Ne++],U($,Ce+(ft>>J),xe,ct,ae),ft=ye(ft,re)}}return st!=2*Pe[15]-1?0:ze})(p,y,S,E,B,I)}function oe(){this.value=this.g=0}function le(){this.value=this.g=0}function _e(){this.G=u(5,oe),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Rs,le)}function Q(p,y,S,E){e(p!=null),e(y!=null),e(2147483648>E),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=y,p.pa=S,p.Jd=y,p.Yc=S+E,p.Zc=4<=E?S+E-4+1:S,ge(p)}function ue(p,y){for(var S=0;0<y--;)S|=Te(p,128)<<y;return S}function he(p,y){var S=ue(p,y);return be(p)?-S:S}function je(p,y,S,E){var B,I=0;for(e(p!=null),e(y!=null),e(4294967288>E),p.Sb=E,p.Ra=0,p.u=0,p.h=0,4<E&&(E=4),B=0;B<E;++B)I+=y[S+B]<<8*B;p.Ra=I,p.bb=E,p.oa=y,p.pa=S}function me(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ti-8>>>0,++p.bb,p.u-=8;q(p)&&(p.h=1,p.u=0)}function z(p,y){if(e(0<=y),!p.h&&y<=an){var S=L(p)&hn[y];return p.u+=y,me(p),S}return p.h=1,p.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(p){return p.Ra>>>(p.u&Ti-1)>>>0}function q(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ti}function te(p,y){p.u=y,p.h=q(p)}function de(p){p.u>=Li&&(e(p.u>=Li),me(p))}function ge(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function be(p){return ue(p,1)}function Te(p,y){var S=p.Ca;0>p.b&&ge(p);var E=p.b,B=S*y>>>8,I=(p.I>>>E>B)+0;for(I?(S-=B,p.I-=B+1<<E>>>0):S=B+1,E=S,B=0;256<=E;)B+=8,E>>=8;return E=7^B+ns[E],p.b-=E,p.Ca=(S<<E)-1,I}function $e(p,y,S){p[y+0]=S>>24&255,p[y+1]=S>>16&255,p[y+2]=S>>8&255,p[y+3]=255&S}function tt(p,y){return p[y+0]|p[y+1]<<8}function ce(p,y){return tt(p,y)|p[y+2]<<16}function Me(p,y){return tt(p,y)|tt(p,y+2)<<16}function P(p,y){var S=1<<y;return e(p!=null),e(0<y),p.X=o(S),p.X==null?0:(p.Mb=32-y,p.Xa=y,1)}function Be(p,y){e(p!=null),e(y!=null),e(p.Xa==y.Xa),n(y.X,0,p.X,0,1<<y.Xa)}function ee(){this.X=[],this.Xa=this.Mb=0}function Se(p,y,S,E){e(S!=null),e(E!=null);var B=S[0],I=E[0];return B==0&&(B=(p*I+y/2)/y),I==0&&(I=(y*B+p/2)/p),0>=B||0>=I?0:(S[0]=B,E[0]=I,1)}function ve(p,y){return p+(1<<y)-1>>>y}function Ge(p,y){return((4278255360&p)+(4278255360&y)>>>0&4278255360)+((16711935&p)+(16711935&y)>>>0&16711935)>>>0}function Ye(p,y){V[y]=function(S,E,B,I,$,Y,J){var ae;for(ae=0;ae<$;++ae){var xe=V[p](Y[J+ae-1],B,I+ae);Y[J+ae]=Ge(S[E+ae],xe)}}}function Ze(){this.ud=this.hd=this.jd=0}function Qe(p,y){return((4278124286&(p^y))>>>1)+(p&y)>>>0}function at(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function At(p,y){return at(p+(p-y+.5>>1))}function nt(p,y,S){return Math.abs(y-S)-Math.abs(p-S)}function it(p,y,S,E,B,I,$){for(E=I[$-1],S=0;S<B;++S)I[$+S]=E=Ge(p[y+S],E)}function Et(p,y,S,E,B){var I;for(I=0;I<S;++I){var $=p[y+I],Y=$>>8&255,J=16711935&(J=(J=16711935&$)+((Y<<16)+Y));E[B+I]=(4278255360&$)+J>>>0}}function lt(p,y){y.jd=255&p,y.hd=p>>8&255,y.ud=p>>16&255}function Ct(p,y,S,E,B,I){var $;for($=0;$<E;++$){var Y=y[S+$],J=Y>>>8,ae=Y,xe=255&(xe=(xe=Y>>>16)+((p.jd<<24>>24)*(J<<24>>24)>>>5));ae=255&(ae=(ae+=(p.hd<<24>>24)*(J<<24>>24)>>>5)+((p.ud<<24>>24)*(xe<<24>>24)>>>5)),B[I+$]=(4278255360&Y)+(xe<<16)+ae}}function ht(p,y,S,E,B){V[y]=function(I,$,Y,J,ae,xe,Le,re,Ne){for(J=Le;J<re;++J)for(Le=0;Le<Ne;++Le)ae[xe++]=B(Y[E(I[$++])])},V[p]=function(I,$,Y,J,ae,xe,Le){var re=8>>I.b,Ne=I.Ea,Ce=I.K[0],ze=I.w;if(8>re)for(I=(1<<I.b)-1,ze=(1<<re)-1;$<Y;++$){var ke,Pe=0;for(ke=0;ke<Ne;++ke)ke&I||(Pe=E(J[ae++])),xe[Le++]=B(Ce[Pe&ze]),Pe>>=re}else V["VP8LMapColor"+S](J,ae,Ce,ze,xe,Le,$,Y,Ne)}}function Pr(p,y,S,E,B){for(S=y+S;y<S;){var I=p[y++];E[B++]=I>>16&255,E[B++]=I>>8&255,E[B++]=255&I}}function Pt(p,y,S,E,B){for(S=y+S;y<S;){var I=p[y++];E[B++]=I>>16&255,E[B++]=I>>8&255,E[B++]=255&I,E[B++]=I>>24&255}}function Nt(p,y,S,E,B){for(S=y+S;y<S;){var I=($=p[y++])>>16&240|$>>12&15,$=240&$|$>>28&15;E[B++]=I,E[B++]=$}}function Dt(p,y,S,E,B){for(S=y+S;y<S;){var I=($=p[y++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;E[B++]=I,E[B++]=$}}function Xt(p,y,S,E,B){for(S=y+S;y<S;){var I=p[y++];E[B++]=255&I,E[B++]=I>>8&255,E[B++]=I>>16&255}}function xt(p,y,S,E,B,I){if(I==0)for(S=y+S;y<S;)$e(E,((I=p[y++])[0]>>24|I[1]>>8&65280|I[2]<<8&16711680|I[3]<<24)>>>0),B+=32;else n(E,B,p,y,S)}function xr(p,y){V[y][0]=V[p+"0"],V[y][1]=V[p+"1"],V[y][2]=V[p+"2"],V[y][3]=V[p+"3"],V[y][4]=V[p+"4"],V[y][5]=V[p+"5"],V[y][6]=V[p+"6"],V[y][7]=V[p+"7"],V[y][8]=V[p+"8"],V[y][9]=V[p+"9"],V[y][10]=V[p+"10"],V[y][11]=V[p+"11"],V[y][12]=V[p+"12"],V[y][13]=V[p+"13"],V[y][14]=V[p+"0"],V[y][15]=V[p+"0"]}function Rt(p){return p==nc||p==Gc||p==rl||p==Wc}function zt(){this.eb=[],this.size=this.A=this.fb=0}function wr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zt,this.f.kb=new wr,this.sd=null}function yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ir(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Jn(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Ha(p,y){var S=p.T,E=y.ba.f.RGBA,B=E.eb,I=E.fb+p.ka*E.A,$=Pa[y.ba.S],Y=p.y,J=p.O,ae=p.f,xe=p.N,Le=p.ea,re=p.W,Ne=y.cc,Ce=y.dc,ze=y.Mc,ke=y.Nc,Pe=p.ka,Ve=p.ka+p.T,et=p.U,Je=et+1>>1;for(Pe==0?$(Y,J,null,null,ae,xe,Le,re,ae,xe,Le,re,B,I,null,null,et):($(y.ec,y.fc,Y,J,Ne,Ce,ze,ke,ae,xe,Le,re,B,I-E.A,B,I,et),++S);Pe+2<Ve;Pe+=2)Ne=ae,Ce=xe,ze=Le,ke=re,xe+=p.Rc,re+=p.Rc,I+=2*E.A,$(Y,(J+=2*p.fa)-p.fa,Y,J,Ne,Ce,ze,ke,ae,xe,Le,re,B,I-E.A,B,I,et);return J+=p.fa,p.j+Ve<p.o?(n(y.ec,y.fc,Y,J,et),n(y.cc,y.dc,ae,xe,Je),n(y.Mc,y.Nc,Le,re,Je),S--):1&Ve||$(Y,J,null,null,ae,xe,Le,re,ae,xe,Le,re,B,I+E.A,null,null,et),S}function _i(p,y,S){var E=p.F,B=[p.J];if(E!=null){var I=p.U,$=y.ba.S,Y=$==ac||$==rl;y=y.ba.f.RGBA;var J=[0],ae=p.ka;J[0]=p.T,p.Kb&&(ae==0?--J[0]:(--ae,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(J[0]=p.o-p.j-ae));var xe=y.eb;ae=y.fb+ae*y.A,p=Ql(E,B[0],p.width,I,J,xe,ae+(Y?0:3),y.A),e(S==J),p&&Rt($)&&fo(xe,ae,Y,I,J,y.A)}return 0}function Tn(p){var y=p.ma,S=y.ba.S,E=11>S,B=S==Ya||S==Bn||S==ac||S==tl||S==12||Rt(S);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!as(y.Oa,p,B?11:12))return 0;if(B&&Rt(S)&&Kl(),p.da)alert("todo:use_scaling");else{if(E){if(y.Ib=Jn,p.Kb){if(S=p.U+1>>1,y.memory=o(p.U+2*S),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+p.U,y.Mc=y.cc,y.Nc=y.dc+S,y.Ib=Ha,Kl()}}else alert("todo:EmitYUV");B&&(y.Jb=_i,E&&ii())}if(E&&!zs){for(p=0;256>p;++p)za[p]=89858*(p-128)+il>>Fn,Yf[p]=-22014*(p-128)+il,sh[p]=-45773*(p-128),Zc[p]=113618*(p-128)+il>>Fn;for(p=vo;p<Ps;++p)y=76283*(p-16)+il>>Fn,Kf[p-vo]=Nn(y,255),Jf[p-vo]=Nn(y+8>>4,15);zs=1}return 1}function wt(p){var y=p.ma,S=p.U,E=p.T;return e(!(1&p.ka)),0>=S||0>=E?0:(S=y.Ib(p,y),y.Jb!=null&&y.Jb(p,y,S),y.Dc+=S,1)}function $i(p){p.ma.memory=null}function Ni(p,y,S,E){return z(p,8)!=47?0:(y[0]=z(p,14)+1,S[0]=z(p,14)+1,E[0]=z(p,1),z(p,3)!=0?0:!p.h)}function bn(p,y){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+z(y,S)+1}function xn(p,y){return 120<y?y-120:1<=(S=((S=Pn[y-1])>>4)*p+(8-(15&S)))?S:1;var S}function zr(p,y,S){var E=L(S),B=p[y+=255&E].g-8;return 0<B&&(te(S,S.u+8),E=L(S),y+=p[y].value,y+=E&(1<<B)-1),te(S,S.u+p[y].g),p[y].value}function oa(p,y,S){return S.g+=p.g,S.value+=p.value<<y>>>0,e(8>=S.g),p.g}function Aa(p,y,S){var E=p.xc;return e((y=E==0?0:p.vc[p.md*(S>>E)+(y>>E)])<p.Wb),p.Ya[y]}function As(p,y,S,E){var B=p.ab,I=p.c*y,$=p.C;y=$+y;var Y=S,J=E;for(E=p.Ta,S=p.Ua;0<B--;){var ae=p.gc[B],xe=$,Le=y,re=Y,Ne=J,Ce=(J=E,Y=S,ae.Ea);switch(e(xe<Le),e(Le<=ae.nc),ae.hc){case 2:ra(re,Ne,(Le-xe)*Ce,J,Y);break;case 0:var ze=xe,ke=Le,Pe=J,Ve=Y,et=(ct=ae).Ea;ze==0&&(Xo(re,Ne,null,null,1,Pe,Ve),it(re,Ne+1,0,0,et-1,Pe,Ve+1),Ne+=et,Ve+=et,++ze);for(var Je=1<<ct.b,ft=Je-1,st=ve(et,ct.b),It=ct.K,ct=ct.w+(ze>>ct.b)*st;ze<ke;){var Qt=It,Mr=ct,Ht=1;for(Zo(re,Ne,Pe,Ve-et,1,Pe,Ve);Ht<et;){var ot=(Ht&~ft)+Je;ot>et&&(ot=et),(0,is[Qt[Mr++]>>8&15])(re,Ne+ +Ht,Pe,Ve+Ht-et,ot-Ht,Pe,Ve+Ht),Ht=ot}Ne+=et,Ve+=et,++ze&ft||(ct+=st)}Le!=ae.nc&&n(J,Y-Ce,J,Y+(Le-xe-1)*Ce,Ce);break;case 1:for(Ce=re,ke=Ne,et=(re=ae.Ea)-(Ve=re&~(Pe=(Ne=1<<ae.b)-1)),ze=ve(re,ae.b),Je=ae.K,ae=ae.w+(xe>>ae.b)*ze;xe<Le;){for(ft=Je,st=ae,It=new Ze,ct=ke+Ve,Qt=ke+re;ke<ct;)lt(ft[st++],It),Qo(It,Ce,ke,Ne,J,Y),ke+=Ne,Y+=Ne;ke<Qt&&(lt(ft[st++],It),Qo(It,Ce,ke,et,J,Y),ke+=et,Y+=et),++xe&Pe||(ae+=ze)}break;case 3:if(re==J&&Ne==Y&&0<ae.b){for(ke=J,re=Ce=Y+(Le-xe)*Ce-(Ve=(Le-xe)*ve(ae.Ea,ae.b)),Ne=J,Pe=Y,ze=[],Ve=(et=Ve)-1;0<=Ve;--Ve)ze[Ve]=Ne[Pe+Ve];for(Ve=et-1;0<=Ve;--Ve)ke[re+Ve]=ze[Ve];Ic(ae,xe,Le,J,Ce,J,Y)}else Ic(ae,xe,Le,re,Ne,J,Y)}Y=E,J=S}J!=S&&n(E,S,Y,J,I)}function Qa(p,y){var S=p.V,E=p.Ba+p.c*p.C,B=y-p.C;if(e(y<=p.l.o),e(16>=B),0<B){var I=p.l,$=p.Ta,Y=p.Ua,J=I.width;if(As(p,B,S,E),B=Y=[Y],e((S=p.C)<(E=y)),e(I.v<I.va),E>I.o&&(E=I.o),S<I.j){var ae=I.j-S;S=I.j,B[0]+=ae*J}if(S>=E?S=0:(B[0]+=4*I.v,I.ka=S-I.j,I.U=I.va-I.v,I.T=E-S,S=1),S){if(Y=Y[0],11>(S=p.ca).S){var xe=S.f.RGBA,Le=(E=S.S,B=I.U,I=I.T,ae=xe.eb,xe.A),re=I;for(xe=xe.fb+p.Ma*xe.A;0<re--;){var Ne=$,Ce=Y,ze=B,ke=ae,Pe=xe;switch(E){case Hc:el(Ne,Ce,ze,ke,Pe);break;case Ya:ss(Ne,Ce,ze,ke,Pe);break;case nc:ss(Ne,Ce,ze,ke,Pe),fo(ke,Pe,0,ze,1,0);break;case Vc:uo(Ne,Ce,ze,ke,Pe);break;case Bn:xt(Ne,Ce,ze,ke,Pe,1);break;case Gc:xt(Ne,Ce,ze,ke,Pe,1),fo(ke,Pe,0,ze,1,0);break;case ac:xt(Ne,Ce,ze,ke,Pe,0);break;case rl:xt(Ne,Ce,ze,ke,Pe,0),fo(ke,Pe,1,ze,1,0);break;case tl:os(Ne,Ce,ze,ke,Pe);break;case Wc:os(Ne,Ce,ze,ke,Pe),Mn(ke,Pe,ze,1,0);break;case Os:Di(Ne,Ce,ze,ke,Pe);break;default:e(0)}Y+=J,xe+=Le}p.Ma+=I}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=y,e(p.C<=p.i)}function _r(p){var y;if(0<p.ua)return 0;for(y=0;y<p.Wb;++y){var S=p.Ya[y].G,E=p.Ya[y].H;if(0<S[1][E[1]+0].g||0<S[2][E[2]+0].g||0<S[3][E[3]+0].g)return 0}return 1}function Ir(p,y,S,E,B,I){if(p.Z!=0){var $=p.qd,Y=p.rd;for(e(us[p.Z]!=null);y<S;++y)us[p.Z]($,Y,E,B,E,B,I),$=E,Y=B,B+=I;p.qd=$,p.rd=Y}}function Va(p,y){var S=p.l.ma,E=S.Z==0||S.Z==1?p.l.j:p.C;if(E=p.C<E?E:p.C,e(y<=p.l.o),y>E){var B=p.l.width,I=S.ca,$=S.tb+B*E,Y=p.V,J=p.Ba+p.c*E,ae=p.gc;e(p.ab==1),e(ae[0].hc==3),Oi(ae[0],E,y,Y,J,I,$),Ir(S,E,y,I,$,B)}p.C=p.Ma=y}function wn(p,y,S,E,B,I,$){var Y=p.$/E,J=p.$%E,ae=p.m,xe=p.s,Le=S+p.$,re=Le;B=S+E*B;var Ne=S+E*I,Ce=280+xe.ua,ze=p.Pb?Y:16777216,ke=0<xe.ua?xe.Wa:null,Pe=xe.wc,Ve=Le<Ne?Aa(xe,J,Y):null;e(p.C<I),e(Ne<=B);var et=!1;e:for(;;){for(;et||Le<Ne;){var Je=0;if(Y>=ze){var ft=Le-S;e((ze=p).Pb),ze.wd=ze.m,ze.xd=ft,0<ze.s.ua&&Be(ze.s.Wa,ze.s.vb),ze=Y+Ds}if(J&Pe||(Ve=Aa(xe,J,Y)),e(Ve!=null),Ve.Qb&&(y[Le]=Ve.qb,et=!0),!et)if(de(ae),Ve.jc){Je=ae,ft=y;var st=Le,It=Ve.pd[L(Je)&Rs-1];e(Ve.jc),256>It.g?(te(Je,Je.u+It.g),ft[st]=It.value,Je=0):(te(Je,Je.u+It.g-256),e(256<=It.value),Je=It.value),Je==0&&(et=!0)}else Je=zr(Ve.G[0],Ve.H[0],ae);if(ae.h)break;if(et||256>Je){if(!et)if(Ve.nd)y[Le]=(Ve.qb|Je<<8)>>>0;else{if(de(ae),et=zr(Ve.G[1],Ve.H[1],ae),de(ae),ft=zr(Ve.G[2],Ve.H[2],ae),st=zr(Ve.G[3],Ve.H[3],ae),ae.h)break;y[Le]=(st<<24|et<<16|Je<<8|ft)>>>0}if(et=!1,++Le,++J>=E&&(J=0,++Y,$!=null&&Y<=I&&!(Y%16)&&$(p,Y),ke!=null))for(;re<Le;)Je=y[re++],ke.X[(506832829*Je&4294967295)>>>ke.Mb]=Je}else if(280>Je){if(Je=bn(Je-256,ae),ft=zr(Ve.G[4],Ve.H[4],ae),de(ae),ft=xn(E,ft=bn(ft,ae)),ae.h)break;if(Le-S<ft||B-Le<Je)break e;for(st=0;st<Je;++st)y[Le+st]=y[Le+st-ft];for(Le+=Je,J+=Je;J>=E;)J-=E,++Y,$!=null&&Y<=I&&!(Y%16)&&$(p,Y);if(e(Le<=B),J&Pe&&(Ve=Aa(xe,J,Y)),ke!=null)for(;re<Le;)Je=y[re++],ke.X[(506832829*Je&4294967295)>>>ke.Mb]=Je}else{if(!(Je<Ce))break e;for(et=Je-280,e(ke!=null);re<Le;)Je=y[re++],ke.X[(506832829*Je&4294967295)>>>ke.Mb]=Je;Je=Le,e(!(et>>>(ft=ke).Xa)),y[Je]=ft.X[et],et=!0}et||e(ae.h==q(ae))}if(p.Pb&&ae.h&&Le<B)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Be(p.s.vb,p.s.Wa);else{if(ae.h)break e;$!=null&&$(p,Y>I?I:Y),p.a=0,p.$=Le-S}return 1}return p.a=3,0}function Ln(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var y=p.Wa;y!=null&&(y.X=null),p.vb=null,e(p!=null)}function to(){var p=new Mt;return p==null?null:(p.a=0,p.xb=Xu,xr("Predictor","VP8LPredictors"),xr("Predictor","VP8LPredictors_C"),xr("PredictorAdd","VP8LPredictorsAdd"),xr("PredictorAdd","VP8LPredictorsAdd_C"),ra=Et,Qo=Ct,el=Pr,ss=Pt,os=Nt,Di=Dt,uo=Xt,V.VP8LMapColor32b=Ri,V.VP8LMapColor8b=Ma,p)}function Xn(p,y,S,E,B){var I=1,$=[p],Y=[y],J=E.m,ae=E.s,xe=null,Le=0;e:for(;;){if(S)for(;I&&z(J,1);){var re=$,Ne=Y,Ce=E,ze=1,ke=Ce.m,Pe=Ce.gc[Ce.ab],Ve=z(ke,2);if(Ce.Oc&1<<Ve)I=0;else{switch(Ce.Oc|=1<<Ve,Pe.hc=Ve,Pe.Ea=re[0],Pe.nc=Ne[0],Pe.K=[null],++Ce.ab,e(4>=Ce.ab),Ve){case 0:case 1:Pe.b=z(ke,3)+2,ze=Xn(ve(Pe.Ea,Pe.b),ve(Pe.nc,Pe.b),0,Ce,Pe.K),Pe.K=Pe.K[0];break;case 3:var et,Je=z(ke,8)+1,ft=16<Je?0:4<Je?1:2<Je?2:3;if(re[0]=ve(Pe.Ea,ft),Pe.b=ft,et=ze=Xn(Je,1,0,Ce,Pe.K)){var st,It=Je,ct=Pe,Qt=1<<(8>>ct.b),Mr=o(Qt);if(Mr==null)et=0;else{var Ht=ct.K[0],ot=ct.w;for(Mr[0]=ct.K[0][0],st=1;st<1*It;++st)Mr[st]=Ge(Ht[ot+st],Mr[st-1]);for(;st<4*Qt;++st)Mr[st]=0;ct.K[0]=null,ct.K[0]=Mr,et=1}}ze=et;break;case 2:break;default:e(0)}I=ze}}if($=$[0],Y=Y[0],I&&z(J,1)&&!(I=1<=(Le=z(J,4))&&11>=Le)){E.a=3;break e}var rt;if(rt=I)t:{var $r,Tt,Yt,vr=E,xa=$,qa=Y,Tr=Le,ua=S,Ka=vr.m,da=vr.s,Zt=[null],cr=1,Hr=0,mr=zn[Tr];r:for(;;){if(ua&&z(Ka,1)){var wa=z(Ka,3)+2,Vr=ve(xa,wa),ur=ve(qa,wa),ia=Vr*ur;if(!Xn(Vr,ur,0,vr,Zt))break r;for(Zt=Zt[0],da.xc=wa,$r=0;$r<ia;++$r){var yr=Zt[$r]>>8&65535;Zt[$r]=yr,yr>=cr&&(cr=yr+1)}}if(Ka.h)break r;for(Tt=0;5>Tt;++Tt){var ha=po[Tt];!Tt&&0<Tr&&(ha+=1<<Tr),Hr<ha&&(Hr=ha)}var fa=u(cr*mr,oe),Nr=cr,lr=u(Nr,_e);if(lr==null)var Ja=null;else e(65536>=Nr),Ja=lr;var Kr=o(Hr);if(Ja==null||Kr==null||fa==null){vr.a=1;break r}var _t=fa;for($r=Yt=0;$r<cr;++$r){var St=Ja[$r],dr=St.G,fn=St.H,$n=0,sn=1,ma=0;for(Tt=0;5>Tt;++Tt){ha=po[Tt],dr[Tt]=_t,fn[Tt]=Yt,!Tt&&0<Tr&&(ha+=1<<Tr);n:{var qs,Is=ha,eu=vr,Lr=Kr,Qu=_t,ed=Yt,tu=0,ds=eu.m,Xf=z(ds,1);if(s(Lr,0,0,Is),Xf){var td=z(ds,1)+1,rd=z(ds,1),ru=z(ds,rd==0?1:8);Lr[ru]=1,td==2&&(Lr[ru=z(ds,8)]=1);var ka=1}else{var Jr=o(19),lc=z(ds,4)+4;if(19<lc){eu.a=3;var Fs=0;break n}for(qs=0;qs<lc;++qs)Jr[ic[qs]]=z(ds,3);var ol=void 0,yo=void 0,Ui=eu,au=Jr,ll=Is,nu=Lr,iu=0,hs=Ui.m,ad=8,nd=u(128,oe);a:for(;F(nd,0,7,au,19);){if(z(hs,1)){var oh=2+2*z(hs,3);if((ol=2+z(hs,oh))>ll)break a}else ol=ll;for(yo=0;yo<ll&&ol--;){de(hs);var id=nd[0+(127&L(hs))];te(hs,hs.u+id.g);var $s=id.value;if(16>$s)nu[yo++]=$s,$s!=0&&(ad=$s);else{var lh=$s==16,ch=$s-16,uh=al[ch],sd=z(hs,Un[ch])+uh;if(yo+sd>ll)break a;for(var dh=lh?ad:0;0<sd--;)nu[yo++]=dh}}iu=1;break a}iu||(Ui.a=3),ka=iu}(ka=ka&&!ds.h)&&(tu=F(Qu,ed,8,Lr,Is)),ka&&tu!=0?Fs=tu:(eu.a=3,Fs=0)}if(Fs==0)break r;if(sn&&Yc[Tt]==1&&(sn=_t[Yt].g==0),$n+=_t[Yt].g,Yt+=Fs,3>=Tt){var bo,su=Kr[0];for(bo=1;bo<ha;++bo)Kr[bo]>su&&(su=Kr[bo]);ma+=su}}if(St.nd=sn,St.Qb=0,sn&&(St.qb=(dr[3][fn[3]+0].value<<24|dr[1][fn[1]+0].value<<16|dr[2][fn[2]+0].value)>>>0,$n==0&&256>dr[0][fn[0]+0].value&&(St.Qb=1,St.qb+=dr[0][fn[0]+0].value<<8)),St.jc=!St.Qb&&6>ma,St.jc){var cc,Pi=St;for(cc=0;cc<Rs;++cc){var fs=cc,ms=Pi.pd[fs],ou=Pi.G[0][Pi.H[0]+fs];256<=ou.value?(ms.g=ou.g+256,ms.value=ou.value):(ms.g=0,ms.value=0,fs>>=oa(ou,8,ms),fs>>=oa(Pi.G[1][Pi.H[1]+fs],16,ms),fs>>=oa(Pi.G[2][Pi.H[2]+fs],0,ms),oa(Pi.G[3][Pi.H[3]+fs],24,ms))}}}da.vc=Zt,da.Wb=cr,da.Ya=Ja,da.yc=fa,rt=1;break t}rt=0}if(!(I=rt)){E.a=3;break e}if(0<Le){if(ae.ua=1<<Le,!P(ae.Wa,Le)){E.a=1,I=0;break e}}else ae.ua=0;var lu=E,xo=$,hh=Y,cl=lu.s,ul=cl.xc;if(lu.c=xo,lu.i=hh,cl.md=ve(xo,ul),cl.wc=ul==0?-1:(1<<ul)-1,S){E.xb=Ms;break e}if((xe=o($*Y))==null){E.a=1,I=0;break e}I=(I=wn(E,xe,0,$,Y,Y,null))&&!J.h;break e}return I?(B!=null?B[0]=xe:(e(xe==null),e(S)),E.$=0,S||Ln(ae)):Ln(ae),I}function Zn(p,y){var S=p.c*p.i,E=S+y+16*y;return e(p.c<=y),p.V=o(E),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+y,1)}function Es(p,y){var S=p.C,E=y-S,B=p.V,I=p.Ba+p.c*S;for(e(y<=p.l.o);0<E;){var $=16<E?16:E,Y=p.l.ma,J=p.l.width,ae=J*$,xe=Y.ca,Le=Y.tb+J*S,re=p.Ta,Ne=p.Ua;As(p,$,B,I),Cn(re,Ne,xe,Le,ae),Ir(Y,S,S+$,xe,Le,J),E-=$,B+=$*p.c,S+=$}e(S==y),p.C=p.Ma=y}function Qn(){this.ub=this.yd=this.td=this.Rb=0}function ei(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ro(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Si(){this.Yb=(function(){var p=[];return(function y(S,E,B){for(var I=B[E],$=0;$<I&&(S.push(B.length>E+1?[]:0),!(B.length<E+1));$++)y(S[$],E+1,B)})(p,0,[3,11]),p})()}function ea(){this.jb=o(3),this.Wc=h([4,8],Si),this.Xc=h([4,17],Si)}function Ml(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function _n(){this.ld=this.La=this.dd=this.tc=0}function ti(){this.Na=this.la=0}function Hi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bl(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ul(){this.uc=this.M=this.Nb=0,this.wa=Array(new _n),this.Y=0,this.ya=Array(new Bl),this.aa=0,this.l=new Vi}function Pl(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Lc(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new Qn,this.Kc=new ei,this.ed=new Ml,this.Qa=new ro,this.Ic=this.$c=this.Aa=0,this.D=new Ul,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,j),this.ia=0,this.pb=u(4,Hi),this.Pa=new ea,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Pl),this.Hd=0,this.rb=Array(new ti),this.sb=0,this.wa=Array(new _n),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bl),this.L=this.aa=0,this.gd=h([4,2],_n),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Nn(p,y){return 0>p?0:p>y?y:p}function Vi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ri(){var p=new Lc;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,kn||(kn=Cs)),p}function hr(p,y,S){return p.a==0&&(p.a=y,p.sc=S,p.cb=0),0}function zl(p,y,S){return 3<=S&&p[y+0]==157&&p[y+1]==1&&p[y+2]==42}function ji(p,y){if(p==null)return 0;if(p.a=0,p.sc="OK",y==null)return hr(p,2,"null VP8Io passed to VP8GetHeaders()");var S=y.data,E=y.w,B=y.ha;if(4>B)return hr(p,7,"Truncated header.");var I=S[E+0]|S[E+1]<<8|S[E+2]<<16,$=p.Od;if($.Rb=!(1&I),$.td=I>>1&7,$.yd=I>>4&1,$.ub=I>>5,3<$.td)return hr(p,3,"Incorrect keyframe parameters.");if(!$.yd)return hr(p,4,"Frame not displayable.");E+=3,B-=3;var Y=p.Kc;if($.Rb){if(7>B)return hr(p,7,"cannot parse picture header");if(!zl(S,E,B))return hr(p,3,"Bad code word");Y.c=16383&(S[E+4]<<8|S[E+3]),Y.Td=S[E+4]>>6,Y.i=16383&(S[E+6]<<8|S[E+5]),Y.Ud=S[E+6]>>6,E+=7,B-=7,p.za=Y.c+15>>4,p.Ub=Y.i+15>>4,y.width=Y.c,y.height=Y.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,s((I=p.Pa).jb,0,255,I.jb.length),e((I=p.Qa)!=null),I.Cb=0,I.Bb=0,I.Fb=1,s(I.Zb,0,0,I.Zb.length),s(I.Lb,0,0,I.Lb)}if($.ub>B)return hr(p,7,"bad partition length");Q(I=p.m,S,E,$.ub),E+=$.ub,B-=$.ub,$.Rb&&(Y.Ld=be(I),Y.Kd=be(I)),Y=p.Qa;var J,ae=p.Pa;if(e(I!=null),e(Y!=null),Y.Cb=be(I),Y.Cb){if(Y.Bb=be(I),be(I)){for(Y.Fb=be(I),J=0;4>J;++J)Y.Zb[J]=be(I)?he(I,7):0;for(J=0;4>J;++J)Y.Lb[J]=be(I)?he(I,6):0}if(Y.Bb)for(J=0;3>J;++J)ae.jb[J]=be(I)?ue(I,8):255}else Y.Bb=0;if(I.Ka)return hr(p,3,"cannot parse segment header");if((Y=p.ed).zd=be(I),Y.Tb=ue(I,6),Y.wb=ue(I,3),Y.Pc=be(I),Y.Pc&&be(I)){for(ae=0;4>ae;++ae)be(I)&&(Y.vd[ae]=he(I,6));for(ae=0;4>ae;++ae)be(I)&&(Y.od[ae]=he(I,6))}if(p.L=Y.Tb==0?0:Y.zd?1:2,I.Ka)return hr(p,3,"cannot parse filter header");var xe=B;if(B=J=E,E=J+xe,Y=xe,p.Xb=(1<<ue(p.m,2))-1,xe<3*(ae=p.Xb))S=7;else{for(J+=3*ae,Y-=3*ae,xe=0;xe<ae;++xe){var Le=S[B+0]|S[B+1]<<8|S[B+2]<<16;Le>Y&&(Le=Y),Q(p.Jc[+xe],S,J,Le),J+=Le,Y-=Le,B+=3}Q(p.Jc[+ae],S,J,Y),S=J<E?0:5}if(S!=0)return hr(p,S,"cannot parse partitions");for(S=ue(J=p.m,7),B=be(J)?he(J,4):0,E=be(J)?he(J,4):0,Y=be(J)?he(J,4):0,ae=be(J)?he(J,4):0,J=be(J)?he(J,4):0,xe=p.Qa,Le=0;4>Le;++Le){if(xe.Cb){var re=xe.Zb[Le];xe.Fb||(re+=S)}else{if(0<Le){p.pb[Le]=p.pb[0];continue}re=S}var Ne=p.pb[Le];Ne.Sc[0]=qn[Nn(re+B,127)],Ne.Sc[1]=In[Nn(re+0,127)],Ne.Eb[0]=2*qn[Nn(re+E,127)],Ne.Eb[1]=101581*In[Nn(re+Y,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=qn[Nn(re+ae,117)],Ne.Qc[1]=In[Nn(re+J,127)],Ne.lc=re+J}if(!$.Rb)return hr(p,4,"Not a key frame.");for(be(I),$=p.Pa,S=0;4>S;++S){for(B=0;8>B;++B)for(E=0;3>E;++E)for(Y=0;11>Y;++Y)ae=Te(I,Dr[S][B][E][Y])?ue(I,8):ih[S][B][E][Y],$.Wc[S][B].Yb[E][Y]=ae;for(B=0;17>B;++B)$.Xc[S][B]=$.Wc[S][er[B]]}return p.kc=be(I),p.kc&&(p.Bd=ue(I,8)),p.cb=1}function Cs(p,y,S,E,B,I,$){var Y=y[B].Yb[S];for(S=0;16>B;++B){if(!Te(p,Y[S+0]))return B;for(;!Te(p,Y[S+1]);)if(Y=y[++B].Yb[0],S=0,B==16)return 16;var J=y[B+1].Yb;if(Te(p,Y[S+2])){var ae=p,xe=0;if(Te(ae,(re=Y)[(Le=S)+3]))if(Te(ae,re[Le+6])){for(Y=0,Le=2*(xe=Te(ae,re[Le+8]))+(re=Te(ae,re[Le+9+xe])),xe=0,re=nh[Le];re[Y];++Y)xe+=xe+Te(ae,re[Y]);xe+=3+(8<<Le)}else Te(ae,re[Le+7])?(xe=7+2*Te(ae,165),xe+=Te(ae,145)):xe=5+Te(ae,159);else xe=Te(ae,re[Le+4])?3+Te(ae,re[Le+5]):2;Y=J[2]}else xe=1,Y=J[1];J=$+Ju[B],0>(ae=p).b&&ge(ae);var Le,re=ae.b,Ne=(Le=ae.Ca>>1)-(ae.I>>re)>>31;--ae.b,ae.Ca+=Ne,ae.Ca|=1,ae.I-=(Le+1&Ne)<<re,I[J]=((xe^Ne)-Ne)*E[(0<B)+0]}return 16}function ql(p){var y=p.rb[p.sb-1];y.la=0,y.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function en(p,y,S,E,B){B=p[y+S+32*E]+(B>>3),p[y+S+32*E]=-256&B?0>B?0:255:B}function ya(p,y,S,E,B,I){en(p,y,0,S,E+B),en(p,y,1,S,E+I),en(p,y,2,S,E-I),en(p,y,3,S,E-B)}function la(p){return(20091*p>>16)+p}function Ho(p,y,S,E){var B,I=0,$=o(16);for(B=0;4>B;++B){var Y=p[y+0]+p[y+8],J=p[y+0]-p[y+8],ae=(35468*p[y+4]>>16)-la(p[y+12]),xe=la(p[y+4])+(35468*p[y+12]>>16);$[I+0]=Y+xe,$[I+1]=J+ae,$[I+2]=J-ae,$[I+3]=Y-xe,I+=4,y++}for(B=I=0;4>B;++B)Y=(p=$[I+0]+4)+$[I+8],J=p-$[I+8],ae=(35468*$[I+4]>>16)-la($[I+12]),en(S,E,0,0,Y+(xe=la($[I+4])+(35468*$[I+12]>>16))),en(S,E,1,0,J+ae),en(S,E,2,0,J-ae),en(S,E,3,0,Y-xe),I++,E+=32}function Rc(p,y,S,E){var B=p[y+0]+4,I=35468*p[y+4]>>16,$=la(p[y+4]),Y=35468*p[y+1]>>16;ya(S,E,0,B+$,p=la(p[y+1]),Y),ya(S,E,1,B+I,p,Y),ya(S,E,2,B-I,p,Y),ya(S,E,3,B-$,p,Y)}function Il(p,y,S,E,B){Ho(p,y,S,E),B&&Ho(p,y+16,S,E+4)}function tn(p,y,S,E){ls(p,y+0,S,E,1),ls(p,y+32,S,E+128,1)}function Fl(p,y,S,E){var B;for(p=p[y+0]+4,B=0;4>B;++B)for(y=0;4>y;++y)en(S,E,y,B,p)}function $l(p,y,S,E){p[y+0]&&fr(p,y+0,S,E),p[y+16]&&fr(p,y+16,S,E+4),p[y+32]&&fr(p,y+32,S,E+128),p[y+48]&&fr(p,y+48,S,E+128+4)}function ai(p,y,S,E){var B,I=o(16);for(B=0;4>B;++B){var $=p[y+0+B]+p[y+12+B],Y=p[y+4+B]+p[y+8+B],J=p[y+4+B]-p[y+8+B],ae=p[y+0+B]-p[y+12+B];I[0+B]=$+Y,I[8+B]=$-Y,I[4+B]=ae+J,I[12+B]=ae-J}for(B=0;4>B;++B)$=(p=I[0+4*B]+3)+I[3+4*B],Y=I[1+4*B]+I[2+4*B],J=I[1+4*B]-I[2+4*B],ae=p-I[3+4*B],S[E+0]=$+Y>>3,S[E+16]=ae+J>>3,S[E+32]=$-Y>>3,S[E+48]=ae-J>>3,E+=64}function ao(p,y,S){var E,B=y-32,I=Wa,$=255-p[B-1];for(E=0;E<S;++E){var Y,J=I,ae=$+p[y-1];for(Y=0;Y<S;++Y)p[y+Y]=J[ae+p[B+Y]];y+=32}}function Oc(p,y){ao(p,y,4)}function Dc(p,y){ao(p,y,8)}function Hl(p,y){ao(p,y,16)}function Vl(p,y){var S;for(S=0;16>S;++S)n(p,y+32*S,p,y-32,16)}function Mc(p,y){var S;for(S=16;0<S;--S)s(p,y,p[y-1],16),y+=32}function dn(p,y,S){var E;for(E=0;16>E;++E)s(y,S+32*E,p,16)}function ni(p,y){var S,E=16;for(S=0;16>S;++S)E+=p[y-1+32*S]+p[y+S-32];dn(E>>5,p,y)}function Gi(p,y){var S,E=8;for(S=0;16>S;++S)E+=p[y-1+32*S];dn(E>>4,p,y)}function no(p,y){var S,E=8;for(S=0;16>S;++S)E+=p[y+S-32];dn(E>>4,p,y)}function ks(p,y){dn(128,p,y)}function kt(p,y,S){return p+2*y+S+2>>2}function Bc(p,y){var S,E=y-32;for(E=new Uint8Array([kt(p[E-1],p[E+0],p[E+1]),kt(p[E+0],p[E+1],p[E+2]),kt(p[E+1],p[E+2],p[E+3]),kt(p[E+2],p[E+3],p[E+4])]),S=0;4>S;++S)n(p,y+32*S,E,0,E.length)}function Gl(p,y){var S=p[y-1],E=p[y-1+32],B=p[y-1+64],I=p[y-1+96];$e(p,y+0,16843009*kt(p[y-1-32],S,E)),$e(p,y+32,16843009*kt(S,E,B)),$e(p,y+64,16843009*kt(E,B,I)),$e(p,y+96,16843009*kt(B,I,I))}function Uc(p,y){var S,E=4;for(S=0;4>S;++S)E+=p[y+S-32]+p[y-1+32*S];for(E>>=3,S=0;4>S;++S)s(p,y+32*S,E,4)}function Sn(p,y){var S=p[y-1+0],E=p[y-1+32],B=p[y-1+64],I=p[y-1-32],$=p[y+0-32],Y=p[y+1-32],J=p[y+2-32],ae=p[y+3-32];p[y+0+96]=kt(E,B,p[y-1+96]),p[y+1+96]=p[y+0+64]=kt(S,E,B),p[y+2+96]=p[y+1+64]=p[y+0+32]=kt(I,S,E),p[y+3+96]=p[y+2+64]=p[y+1+32]=p[y+0+0]=kt($,I,S),p[y+3+64]=p[y+2+32]=p[y+1+0]=kt(Y,$,I),p[y+3+32]=p[y+2+0]=kt(J,Y,$),p[y+3+0]=kt(ae,J,Y)}function Oa(p,y){var S=p[y+1-32],E=p[y+2-32],B=p[y+3-32],I=p[y+4-32],$=p[y+5-32],Y=p[y+6-32],J=p[y+7-32];p[y+0+0]=kt(p[y+0-32],S,E),p[y+1+0]=p[y+0+32]=kt(S,E,B),p[y+2+0]=p[y+1+32]=p[y+0+64]=kt(E,B,I),p[y+3+0]=p[y+2+32]=p[y+1+64]=p[y+0+96]=kt(B,I,$),p[y+3+32]=p[y+2+64]=p[y+1+96]=kt(I,$,Y),p[y+3+64]=p[y+2+96]=kt($,Y,J),p[y+3+96]=kt(Y,J,J)}function Wl(p,y){var S=p[y-1+0],E=p[y-1+32],B=p[y-1+64],I=p[y-1-32],$=p[y+0-32],Y=p[y+1-32],J=p[y+2-32],ae=p[y+3-32];p[y+0+0]=p[y+1+64]=I+$+1>>1,p[y+1+0]=p[y+2+64]=$+Y+1>>1,p[y+2+0]=p[y+3+64]=Y+J+1>>1,p[y+3+0]=J+ae+1>>1,p[y+0+96]=kt(B,E,S),p[y+0+64]=kt(E,S,I),p[y+0+32]=p[y+1+96]=kt(S,I,$),p[y+1+32]=p[y+2+96]=kt(I,$,Y),p[y+2+32]=p[y+3+96]=kt($,Y,J),p[y+3+32]=kt(Y,J,ae)}function io(p,y){var S=p[y+0-32],E=p[y+1-32],B=p[y+2-32],I=p[y+3-32],$=p[y+4-32],Y=p[y+5-32],J=p[y+6-32],ae=p[y+7-32];p[y+0+0]=S+E+1>>1,p[y+1+0]=p[y+0+64]=E+B+1>>1,p[y+2+0]=p[y+1+64]=B+I+1>>1,p[y+3+0]=p[y+2+64]=I+$+1>>1,p[y+0+32]=kt(S,E,B),p[y+1+32]=p[y+0+96]=kt(E,B,I),p[y+2+32]=p[y+1+96]=kt(B,I,$),p[y+3+32]=p[y+2+96]=kt(I,$,Y),p[y+3+64]=kt($,Y,J),p[y+3+96]=kt(Y,J,ae)}function jn(p,y){var S=p[y-1+0],E=p[y-1+32],B=p[y-1+64],I=p[y-1+96];p[y+0+0]=S+E+1>>1,p[y+2+0]=p[y+0+32]=E+B+1>>1,p[y+2+32]=p[y+0+64]=B+I+1>>1,p[y+1+0]=kt(S,E,B),p[y+3+0]=p[y+1+32]=kt(E,B,I),p[y+3+32]=p[y+1+64]=kt(B,I,I),p[y+3+64]=p[y+2+64]=p[y+0+96]=p[y+1+96]=p[y+2+96]=p[y+3+96]=I}function so(p,y){var S=p[y-1+0],E=p[y-1+32],B=p[y-1+64],I=p[y-1+96],$=p[y-1-32],Y=p[y+0-32],J=p[y+1-32],ae=p[y+2-32];p[y+0+0]=p[y+2+32]=S+$+1>>1,p[y+0+32]=p[y+2+64]=E+S+1>>1,p[y+0+64]=p[y+2+96]=B+E+1>>1,p[y+0+96]=I+B+1>>1,p[y+3+0]=kt(Y,J,ae),p[y+2+0]=kt($,Y,J),p[y+1+0]=p[y+3+32]=kt(S,$,Y),p[y+1+32]=p[y+3+64]=kt(E,S,$),p[y+1+64]=p[y+3+96]=kt(B,E,S),p[y+1+96]=kt(I,B,E)}function Ai(p,y){var S;for(S=0;8>S;++S)n(p,y+32*S,p,y-32,8)}function Pc(p,y){var S;for(S=0;8>S;++S)s(p,y,p[y-1],8),y+=32}function Rn(p,y,S){var E;for(E=0;8>E;++E)s(y,S+32*E,p,8)}function Vo(p,y){var S,E=8;for(S=0;8>S;++S)E+=p[y+S-32]+p[y-1+32*S];Rn(E>>4,p,y)}function Go(p,y){var S,E=4;for(S=0;8>S;++S)E+=p[y+S-32];Rn(E>>3,p,y)}function Ea(p,y){var S,E=4;for(S=0;8>S;++S)E+=p[y-1+32*S];Rn(E>>3,p,y)}function Ei(p,y){Rn(128,p,y)}function On(p,y,S){var E=p[y-S],B=p[y+0],I=3*(B-E)+cs[1020+p[y-2*S]-p[y+S]],$=rc[112+(I+4>>3)];p[y-S]=Wa[255+E+rc[112+(I+3>>3)]],p[y+0]=Wa[255+B-$]}function Wi(p,y,S,E){var B=p[y+0],I=p[y+S];return Ba[255+p[y-2*S]-p[y-S]]>E||Ba[255+I-B]>E}function Wo(p,y,S,E){return 4*Ba[255+p[y-S]-p[y+0]]+Ba[255+p[y-2*S]-p[y+S]]<=E}function oo(p,y,S,E,B){var I=p[y-3*S],$=p[y-2*S],Y=p[y-S],J=p[y+0],ae=p[y+S],xe=p[y+2*S],Le=p[y+3*S];return 4*Ba[255+Y-J]+Ba[255+$-ae]>E?0:Ba[255+p[y-4*S]-I]<=B&&Ba[255+I-$]<=B&&Ba[255+$-Y]<=B&&Ba[255+Le-xe]<=B&&Ba[255+xe-ae]<=B&&Ba[255+ae-J]<=B}function Yi(p,y,S,E){var B=2*E+1;for(E=0;16>E;++E)Wo(p,y+E,S,B)&&On(p,y+E,S)}function Ki(p,y,S,E){var B=2*E+1;for(E=0;16>E;++E)Wo(p,y+E*S,1,B)&&On(p,y+E*S,1)}function lo(p,y,S,E){var B;for(B=3;0<B;--B)Yi(p,y+=4*S,S,E)}function Yl(p,y,S,E){var B;for(B=3;0<B;--B)Ki(p,y+=4,S,E)}function Ji(p,y,S,E,B,I,$,Y){for(I=2*I+1;0<B--;){if(oo(p,y,S,I,$))if(Wi(p,y,S,Y))On(p,y,S);else{var J=p,ae=y,xe=S,Le=J[ae-2*xe],re=J[ae-xe],Ne=J[ae+0],Ce=J[ae+xe],ze=J[ae+2*xe],ke=27*(Ve=cs[1020+3*(Ne-re)+cs[1020+Le-Ce]])+63>>7,Pe=18*Ve+63>>7,Ve=9*Ve+63>>7;J[ae-3*xe]=Wa[255+J[ae-3*xe]+Ve],J[ae-2*xe]=Wa[255+Le+Pe],J[ae-xe]=Wa[255+re+ke],J[ae+0]=Wa[255+Ne-ke],J[ae+xe]=Wa[255+Ce-Pe],J[ae+2*xe]=Wa[255+ze-Ve]}y+=E}}function Xi(p,y,S,E,B,I,$,Y){for(I=2*I+1;0<B--;){if(oo(p,y,S,I,$))if(Wi(p,y,S,Y))On(p,y,S);else{var J=p,ae=y,xe=S,Le=J[ae-xe],re=J[ae+0],Ne=J[ae+xe],Ce=rc[112+(4+(ze=3*(re-Le))>>3)],ze=rc[112+(ze+3>>3)],ke=Ce+1>>1;J[ae-2*xe]=Wa[255+J[ae-2*xe]+ke],J[ae-xe]=Wa[255+Le+ze],J[ae+0]=Wa[255+re-Ce],J[ae+xe]=Wa[255+Ne-ke]}y+=E}}function zc(p,y,S,E,B,I){Ji(p,y,S,1,16,E,B,I)}function Zi(p,y,S,E,B,I){Ji(p,y,1,S,16,E,B,I)}function qc(p,y,S,E,B,I){var $;for($=3;0<$;--$)Xi(p,y+=4*S,S,1,16,E,B,I)}function _(p,y,S,E,B,I){var $;for($=3;0<$;--$)Xi(p,y+=4,1,S,16,E,B,I)}function M(p,y,S,E,B,I,$,Y){Ji(p,y,B,1,8,I,$,Y),Ji(S,E,B,1,8,I,$,Y)}function ne(p,y,S,E,B,I,$,Y){Ji(p,y,1,B,8,I,$,Y),Ji(S,E,1,B,8,I,$,Y)}function pe(p,y,S,E,B,I,$,Y){Xi(p,y+4*B,B,1,8,I,$,Y),Xi(S,E+4*B,B,1,8,I,$,Y)}function Ae(p,y,S,E,B,I,$,Y){Xi(p,y+4,1,B,8,I,$,Y),Xi(S,E+4,1,B,8,I,$,Y)}function He(){this.ba=new Wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ir,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pt(){this.ua=0,this.Wa=new ee,this.vb=new ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _e,this.yc=new oe}function Mt(){this.xb=this.a=0,this.l=new Vi,this.ca=new Wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pt,this.ab=0,this.gc=u(4,ut),this.Oc=0}function $t(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sr(p,y,S,E,B,I,$){for(p=p==null?0:p[y+0],y=0;y<$;++y)B[I+y]=p+S[E+y]&255,p=B[I+y]}function Fr(p,y,S,E,B,I,$){var Y;if(p==null)sr(null,null,S,E,B,I,$);else for(Y=0;Y<$;++Y)B[I+Y]=p[y+Y]+S[E+Y]&255}function ta(p,y,S,E,B,I,$){if(p==null)sr(null,null,S,E,B,I,$);else{var Y,J=p[y+0],ae=J,xe=J;for(Y=0;Y<$;++Y)ae=xe+(J=p[y+Y])-ae,xe=S[E+Y]+(-256&ae?0>ae?0:255:ae)&255,ae=J,B[I+Y]=xe}}function Cr(p,y,S,E){var B=y.width,I=y.o;if(e(p!=null&&y!=null),0>S||0>=E||S+E>I)return null;if(!p.Cc){if(p.ga==null){var $;if(p.ga=new $t,($=p.ga==null)||($=y.width*y.o,e(p.Gb.length==0),p.Gb=o($),p.Uc=0,p.Gb==null?$=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,$=1),$=!$),!$){$=p.ga;var Y=p.Fa,J=p.P,ae=p.qc,xe=p.mb,Le=p.nb,re=J+1,Ne=ae-1,Ce=$.l;if(e(Y!=null&&xe!=null&&y!=null),us[0]=null,us[1]=sr,us[2]=Fr,us[3]=ta,$.ca=xe,$.tb=Le,$.c=y.width,$.i=y.height,e(0<$.c&&0<$.i),1>=ae)y=0;else if($.$a=3&Y[J+0],$.Z=Y[J+0]>>2&3,$.Lc=Y[J+0]>>4&3,J=Y[J+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||J)y=0;else if(Ce.put=wt,Ce.ac=Tn,Ce.bc=$i,Ce.ma=$,Ce.width=y.width,Ce.height=y.height,Ce.Da=y.Da,Ce.v=y.v,Ce.va=y.va,Ce.j=y.j,Ce.o=y.o,$.$a)e:{e($.$a==1),y=to();t:for(;;){if(y==null){y=0;break e}if(e($!=null),$.mc=y,y.c=$.c,y.i=$.i,y.l=$.l,y.l.ma=$,y.l.width=$.c,y.l.height=$.i,y.a=0,je(y.m,Y,re,Ne),!Xn($.c,$.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&_r(y.s)?($.ic=1,Y=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(Y),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):($.ic=0,y=Zn(y,$.c)),!y))break t;y=1;break e}$.mc=null,y=0}else y=Ne>=$.c*$.i;$=!y}if($)return null;p.ga.Lc!=1?p.Ga=0:E=I-S}e(p.ga!=null),e(S+E<=I);e:{if(y=(Y=p.ga).c,I=Y.l.o,Y.$a==0){if(re=p.rc,Ne=p.Vc,Ce=p.Fa,J=p.P+1+S*y,ae=p.mb,xe=p.nb+S*y,e(J<=p.P+p.qc),Y.Z!=0)for(e(us[Y.Z]!=null),$=0;$<E;++$)us[Y.Z](re,Ne,Ce,J,ae,xe,y),re=ae,Ne=xe,xe+=y,J+=y;else for($=0;$<E;++$)n(ae,xe,Ce,J,y),re=ae,Ne=xe,xe+=y,J+=y;p.rc=re,p.Vc=Ne}else{if(e(Y.mc!=null),y=S+E,e(($=Y.mc)!=null),e(y<=$.i),$.C>=y)y=1;else if(Y.ic||ii(),Y.ic){Y=$.V,re=$.Ba,Ne=$.c;var ze=$.i,ke=(Ce=1,J=$.$/Ne,ae=$.$%Ne,xe=$.m,Le=$.s,$.$),Pe=Ne*ze,Ve=Ne*y,et=Le.wc,Je=ke<Ve?Aa(Le,ae,J):null;e(ke<=Pe),e(y<=ze),e(_r(Le));t:for(;;){for(;!xe.h&&ke<Ve;){if(ae&et||(Je=Aa(Le,ae,J)),e(Je!=null),de(xe),256>(ze=zr(Je.G[0],Je.H[0],xe)))Y[re+ke]=ze,++ke,++ae>=Ne&&(ae=0,++J<=y&&!(J%16)&&Va($,J));else{if(!(280>ze)){Ce=0;break t}ze=bn(ze-256,xe);var ft,st=zr(Je.G[4],Je.H[4],xe);if(de(xe),!(ke>=(st=xn(Ne,st=bn(st,xe)))&&Pe-ke>=ze)){Ce=0;break t}for(ft=0;ft<ze;++ft)Y[re+ke+ft]=Y[re+ke+ft-st];for(ke+=ze,ae+=ze;ae>=Ne;)ae-=Ne,++J<=y&&!(J%16)&&Va($,J);ke<Ve&&ae&et&&(Je=Aa(Le,ae,J))}e(xe.h==q(xe))}Va($,J>y?y:J);break t}!Ce||xe.h&&ke<Pe?(Ce=0,$.a=xe.h?5:3):$.$=ke,y=Ce}else y=wn($,$.V,$.Ba,$.c,$.i,y,Es);if(!y){E=0;break e}}S+E>=I&&(p.Cc=1),E=1}if(!E)return null;if(p.Cc&&((E=p.ga)!=null&&(E.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*B}function ba(p,y,S,E,B,I){for(;0<B--;){var $,Y=p,J=y+(S?1:0),ae=p,xe=y+(S?0:3);for($=0;$<E;++$){var Le=ae[xe+4*$];Le!=255&&(Le*=32897,Y[J+4*$+0]=Y[J+4*$+0]*Le>>23,Y[J+4*$+1]=Y[J+4*$+1]*Le>>23,Y[J+4*$+2]=Y[J+4*$+2]*Le>>23)}y+=I}}function ca(p,y,S,E,B){for(;0<E--;){var I;for(I=0;I<S;++I){var $=p[y+2*I+0],Y=15&(ae=p[y+2*I+1]),J=4369*Y,ae=(240&ae|ae>>4)*J>>16;p[y+2*I+0]=(240&$|$>>4)*J>>16&240|(15&$|$<<4)*J>>16>>4&15,p[y+2*I+1]=240&ae|Y}y+=B}}function Da(p,y,S,E,B,I,$,Y){var J,ae,xe=255;for(ae=0;ae<B;++ae){for(J=0;J<E;++J){var Le=p[y+J];I[$+4*J]=Le,xe&=Le}y+=S,$+=Y}return xe!=255}function Qi(p,y,S,E,B){var I;for(I=0;I<B;++I)S[E+I]=p[y+I]>>8}function ii(){fo=ba,Mn=ca,Ql=Da,Cn=Qi}function es(p,y,S){V[p]=function(E,B,I,$,Y,J,ae,xe,Le,re,Ne,Ce,ze,ke,Pe,Ve,et){var Je,ft=et-1>>1,st=Y[J+0]|ae[xe+0]<<16,It=Le[re+0]|Ne[Ce+0]<<16;e(E!=null);var ct=3*st+It+131074>>2;for(y(E[B+0],255&ct,ct>>16,ze,ke),I!=null&&(ct=3*It+st+131074>>2,y(I[$+0],255&ct,ct>>16,Pe,Ve)),Je=1;Je<=ft;++Je){var Qt=Y[J+Je]|ae[xe+Je]<<16,Mr=Le[re+Je]|Ne[Ce+Je]<<16,Ht=st+Qt+It+Mr+524296,ot=Ht+2*(Qt+It)>>3;ct=ot+st>>1,st=(Ht=Ht+2*(st+Mr)>>3)+Qt>>1,y(E[B+2*Je-1],255&ct,ct>>16,ze,ke+(2*Je-1)*S),y(E[B+2*Je-0],255&st,st>>16,ze,ke+(2*Je-0)*S),I!=null&&(ct=Ht+It>>1,st=ot+Mr>>1,y(I[$+2*Je-1],255&ct,ct>>16,Pe,Ve+(2*Je-1)*S),y(I[$+2*Je+0],255&st,st>>16,Pe,Ve+(2*Je+0)*S)),st=Qt,It=Mr}1&et||(ct=3*st+It+131074>>2,y(E[B+et-1],255&ct,ct>>16,ze,ke+(et-1)*S),I!=null&&(ct=3*It+st+131074>>2,y(I[$+et-1],255&ct,ct>>16,Pe,Ve+(et-1)*S)))}}function Kl(){Pa[Hc]=go,Pa[Ya]=nl,Pa[Vc]=Zu,Pa[Bn]=Jc,Pa[ac]=Bs,Pa[tl]=Bi,Pa[Os]=Us,Pa[nc]=nl,Pa[Gc]=Jc,Pa[rl]=Bs,Pa[Wc]=Bi}function Yo(p){return p&-16384?0>p?0:255:p>>Xc}function Ci(p,y){return Yo((19077*p>>8)+(26149*y>>8)-14234)}function si(p,y,S){return Yo((19077*p>>8)-(6419*y>>8)-(13320*S>>8)+8708)}function co(p,y){return Yo((19077*p>>8)+(33050*y>>8)-17685)}function ts(p,y,S,E,B){E[B+0]=Ci(p,S),E[B+1]=si(p,y,S),E[B+2]=co(p,y)}function Ca(p,y,S,E,B){E[B+0]=co(p,y),E[B+1]=si(p,y,S),E[B+2]=Ci(p,S)}function Ts(p,y,S,E,B){var I=si(p,y,S);y=I<<3&224|co(p,y)>>3,E[B+0]=248&Ci(p,S)|I>>5,E[B+1]=y}function Ls(p,y,S,E,B){var I=240&co(p,y)|15;E[B+0]=240&Ci(p,S)|si(p,y,S)>>4,E[B+1]=I}function Ko(p,y,S,E,B){E[B+0]=255,ts(p,y,S,E,B+1)}function ki(p,y,S,E,B){Ca(p,y,S,E,B),E[B+3]=255}function rn(p,y,S,E,B){ts(p,y,S,E,B),E[B+3]=255}function rs(p,y,S){V[p]=function(E,B,I,$,Y,J,ae,xe,Le){for(var re=xe+(-2&Le)*S;xe!=re;)y(E[B+0],I[$+0],Y[J+0],ae,xe),y(E[B+1],I[$+0],Y[J+0],ae,xe+S),B+=2,++$,++J,xe+=2*S;1&Le&&y(E[B+0],I[$+0],Y[J+0],ae,xe)}}function Jo(p,y,S){return S==0?p==0?y==0?6:5:y==0?4:0:S}function Jl(p,y,S,E,B){switch(p>>>30){case 3:ls(y,S,E,B,0);break;case 2:Ga(y,S,E,B);break;case 1:fr(y,S,E,B)}}function An(p,y){var S,E,B=y.M,I=y.Nb,$=p.oc,Y=p.pc+40,J=p.oc,ae=p.pc+584,xe=p.oc,Le=p.pc+600;for(S=0;16>S;++S)$[Y+32*S-1]=129;for(S=0;8>S;++S)J[ae+32*S-1]=129,xe[Le+32*S-1]=129;for(0<B?$[Y-1-32]=J[ae-1-32]=xe[Le-1-32]=129:(s($,Y-32-1,127,21),s(J,ae-32-1,127,9),s(xe,Le-32-1,127,9)),E=0;E<p.za;++E){var re=y.ya[y.aa+E];if(0<E){for(S=-1;16>S;++S)n($,Y+32*S-4,$,Y+32*S+12,4);for(S=-1;8>S;++S)n(J,ae+32*S-4,J,ae+32*S+4,4),n(xe,Le+32*S-4,xe,Le+32*S+4,4)}var Ne=p.Gd,Ce=p.Hd+E,ze=re.ad,ke=re.Hc;if(0<B&&(n($,Y-32,Ne[Ce].y,0,16),n(J,ae-32,Ne[Ce].f,0,8),n(xe,Le-32,Ne[Ce].ea,0,8)),re.Za){var Pe=$,Ve=Y-32+16;for(0<B&&(E>=p.za-1?s(Pe,Ve,Ne[Ce].y[15],4):n(Pe,Ve,Ne[Ce+1].y,0,4)),S=0;4>S;S++)Pe[Ve+128+S]=Pe[Ve+256+S]=Pe[Ve+384+S]=Pe[Ve+0+S];for(S=0;16>S;++S,ke<<=2)Pe=$,Ve=Y+na[S],Yr[re.Ob[S]](Pe,Ve),Jl(ke,ze,16*+S,Pe,Ve)}else if(Pe=Jo(E,B,re.Ob[0]),nn[Pe]($,Y),ke!=0)for(S=0;16>S;++S,ke<<=2)Jl(ke,ze,16*+S,$,Y+na[S]);for(S=re.Gc,Pe=Jo(E,B,re.Dd),ui[Pe](J,ae),ui[Pe](xe,Le),ke=ze,Pe=J,Ve=ae,255&(re=0|S)&&(170&re?Dn(ke,256,Pe,Ve):or(ke,256,Pe,Ve)),re=xe,ke=Le,255&(S>>=8)&&(170&S?Dn(ze,320,re,ke):or(ze,320,re,ke)),B<p.Ub-1&&(n(Ne[Ce].y,0,$,Y+480,16),n(Ne[Ce].f,0,J,ae+224,8),n(Ne[Ce].ea,0,xe,Le+224,8)),S=8*I*p.B,Ne=p.sa,Ce=p.ta+16*E+16*I*p.R,ze=p.qa,re=p.ra+8*E+S,ke=p.Ha,Pe=p.Ia+8*E+S,S=0;16>S;++S)n(Ne,Ce+S*p.R,$,Y+32*S,16);for(S=0;8>S;++S)n(ze,re+S*p.B,J,ae+32*S,8),n(ke,Pe+S*p.B,xe,Le+32*S,8)}}function oi(p,y,S,E,B,I,$,Y,J){var ae=[0],xe=[0],Le=0,re=J!=null?J.kd:0,Ne=J??new Xe;if(p==null||12>S)return 7;Ne.data=p,Ne.w=y,Ne.ha=S,y=[y],S=[S],Ne.gb=[Ne.gb];e:{var Ce=y,ze=S,ke=Ne.gb;if(e(p!=null),e(ze!=null),e(ke!=null),ke[0]=0,12<=ze[0]&&!r(p,Ce[0],"RIFF")){if(r(p,Ce[0]+8,"WEBP")){ke=3;break e}var Pe=Me(p,Ce[0]+4);if(12>Pe||4294967286<Pe){ke=3;break e}if(re&&Pe>ze[0]-8){ke=7;break e}ke[0]=Pe,Ce[0]+=12,ze[0]-=12}ke=0}if(ke!=0)return ke;for(Pe=0<Ne.gb[0],S=S[0];;){e:{var Ve=p;ze=y,ke=S;var et=ae,Je=xe,ft=Ce=[0];if((ct=Le=[Le])[0]=0,8>ke[0])ke=7;else{if(!r(Ve,ze[0],"VP8X")){if(Me(Ve,ze[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var st=Me(Ve,ze[0]+8),It=1+ce(Ve,ze[0]+12);if(2147483648<=It*(Ve=1+ce(Ve,ze[0]+15))){ke=3;break e}ft!=null&&(ft[0]=st),et!=null&&(et[0]=It),Je!=null&&(Je[0]=Ve),ze[0]+=18,ke[0]-=18,ct[0]=1}ke=0}}if(Le=Le[0],Ce=Ce[0],ke!=0)return ke;if(ze=!!(2&Ce),!Pe&&Le)return 3;if(I!=null&&(I[0]=!!(16&Ce)),$!=null&&($[0]=ze),Y!=null&&(Y[0]=0),$=ae[0],Ce=xe[0],Le&&ze&&J==null){ke=0;break}if(4>S){ke=7;break}if(Pe&&Le||!Pe&&!Le&&!r(p,y[0],"ALPH")){S=[S],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{st=p,ke=y,Pe=S;var ct=Ne.gb;et=Ne.na,Je=Ne.P,ft=Ne.Sa,It=22,e(st!=null),e(Pe!=null),Ve=ke[0];var Qt=Pe[0];for(e(et!=null),e(ft!=null),et[0]=null,Je[0]=null,ft[0]=0;;){if(ke[0]=Ve,Pe[0]=Qt,8>Qt){ke=7;break e}var Mr=Me(st,Ve+4);if(4294967286<Mr){ke=3;break e}var Ht=8+Mr+1&-2;if(It+=Ht,0<ct&&It>ct){ke=3;break e}if(!r(st,Ve,"VP8 ")||!r(st,Ve,"VP8L")){ke=0;break e}if(Qt[0]<Ht){ke=7;break e}r(st,Ve,"ALPH")||(et[0]=st,Je[0]=Ve+8,ft[0]=Mr),Ve+=Ht,Qt-=Ht}}if(S=S[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],ke!=0)break}S=[S],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(ct=p,ke=y,Pe=S,et=Ne.gb[0],Je=Ne.Ja,ft=Ne.xa,st=ke[0],Ve=!r(ct,st,"VP8 "),It=!r(ct,st,"VP8L"),e(ct!=null),e(Pe!=null),e(Je!=null),e(ft!=null),8>Pe[0])ke=7;else{if(Ve||It){if(ct=Me(ct,st+4),12<=et&&ct>et-12){ke=3;break e}if(re&&ct>Pe[0]-8){ke=7;break e}Je[0]=ct,ke[0]+=8,Pe[0]-=8,ft[0]=It}else ft[0]=5<=Pe[0]&&ct[st+0]==47&&!(ct[st+4]>>5),Je[0]=Pe[0];ke=0}if(S=S[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],y=y[0],ke!=0)break;if(4294967286<Ne.Ja)return 3;if(Y==null||ze||(Y[0]=Ne.xa?2:1),$=[$],Ce=[Ce],Ne.xa){if(5>S){ke=7;break}Y=$,re=Ce,ze=I,p==null||5>S?p=0:5<=S&&p[y+0]==47&&!(p[y+4]>>5)?(Pe=[0],ct=[0],et=[0],je(Je=new A,p,y,S),Ni(Je,Pe,ct,et)?(Y!=null&&(Y[0]=Pe[0]),re!=null&&(re[0]=ct[0]),ze!=null&&(ze[0]=et[0]),p=1):p=0):p=0}else{if(10>S){ke=7;break}Y=Ce,p==null||10>S||!zl(p,y+3,S-3)?p=0:(re=p[y+0]|p[y+1]<<8|p[y+2]<<16,ze=16383&(p[y+7]<<8|p[y+6]),p=16383&(p[y+9]<<8|p[y+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=Ne.Ja||!ze||!p?p=0:($&&($[0]=ze),Y&&(Y[0]=p),p=1))}if(!p||($=$[0],Ce=Ce[0],Le&&(ae[0]!=$||xe[0]!=Ce)))return 3;J!=null&&(J[0]=Ne,J.offset=y-J.w,e(4294967286>y-J.w),e(J.offset==J.ha-S));break}return ke==0||ke==7&&Le&&J==null?(I!=null&&(I[0]|=Ne.na!=null&&0<Ne.na.length),E!=null&&(E[0]=$),B!=null&&(B[0]=Ce),0):ke}function as(p,y,S){var E=y.width,B=y.height,I=0,$=0,Y=E,J=B;if(y.Da=p!=null&&0<p.Da,y.Da&&(Y=p.cd,J=p.bd,I=p.v,$=p.j,11>S||(I&=-2,$&=-2),0>I||0>$||0>=Y||0>=J||I+Y>E||$+J>B))return 0;if(y.v=I,y.j=$,y.va=I+Y,y.o=$+J,y.U=Y,y.T=J,y.da=p!=null&&0<p.da,y.da){if(!Se(Y,J,S=[p.ib],I=[p.hb]))return 0;y.ib=S[0],y.hb=I[0]}return y.ob=p!=null&&p.ob,y.Kb=p==null||!p.Sd,y.da&&(y.ob=y.ib<3*E/4&&y.hb<3*B/4,y.Kb=0),1}function Xl(p){if(p==null)return 2;if(11>p.S){var y=p.f.RGBA;y.fb+=(p.height-1)*y.A,y.A=-y.A}else y=p.f.kb,p=p.height,y.O+=(p-1)*y.fa,y.fa=-y.fa,y.N+=(p-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(p-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(p-1)*y.lb,y.lb=-y.lb);return 0}function li(p,y,S,E){if(E==null||0>=p||0>=y)return 2;if(S!=null){if(S.Da){var B=S.cd,I=S.bd,$=-2&S.v,Y=-2&S.j;if(0>$||0>Y||0>=B||0>=I||$+B>p||Y+I>y)return 2;p=B,y=I}if(S.da){if(!Se(p,y,B=[S.ib],I=[S.hb]))return 2;p=B[0],y=I[0]}}E.width=p,E.height=y;e:{var J=E.width,ae=E.height;if(p=E.S,0>=J||0>=ae||!(p>=Hc&&13>p))p=2;else{if(0>=E.Rd&&E.sd==null){$=I=B=y=0;var xe=(Y=J*Qc[p])*ae;if(11>p||(I=(ae+1)/2*(y=(J+1)/2),p==12&&($=(B=J)*ae)),(ae=o(xe+2*I+$))==null){p=1;break e}E.sd=ae,11>p?((J=E.f.RGBA).eb=ae,J.fb=0,J.A=Y,J.size=xe):((J=E.f.kb).y=ae,J.O=0,J.fa=Y,J.Fd=xe,J.f=ae,J.N=0+xe,J.Ab=y,J.Cd=I,J.ea=ae,J.W=0+xe+I,J.Db=y,J.Ed=I,p==12&&(J.F=ae,J.J=0+xe+2*I),J.Tc=$,J.lb=B)}if(y=1,B=E.S,I=E.width,$=E.height,B>=Hc&&13>B)if(11>B)p=E.f.RGBA,y&=(Y=Math.abs(p.A))*($-1)+I<=p.size,y&=Y>=I*Qc[B],y&=p.eb!=null;else{p=E.f.kb,Y=(I+1)/2,xe=($+1)/2,J=Math.abs(p.fa),ae=Math.abs(p.Ab);var Le=Math.abs(p.Db),re=Math.abs(p.lb),Ne=re*($-1)+I;y&=J*($-1)+I<=p.Fd,y&=ae*(xe-1)+Y<=p.Cd,y=(y&=Le*(xe-1)+Y<=p.Ed)&J>=I&ae>=Y&Le>=Y,y&=p.y!=null,y&=p.f!=null,y&=p.ea!=null,B==12&&(y&=re>=I,y&=Ne<=p.Tc,y&=p.F!=null)}else y=0;p=y?0:2}}return p!=0||S!=null&&S.fd&&(p=Xl(E)),p}var Rs=64,hn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],an=24,Ti=32,Li=8,ns=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(p){return p},V.Predictor2=function(p,y,S){return y[S+0]},V.Predictor3=function(p,y,S){return y[S+1]},V.Predictor4=function(p,y,S){return y[S-1]},V.Predictor5=function(p,y,S){return Qe(Qe(p,y[S+1]),y[S+0])},V.Predictor6=function(p,y,S){return Qe(p,y[S-1])},V.Predictor7=function(p,y,S){return Qe(p,y[S+0])},V.Predictor8=function(p,y,S){return Qe(y[S-1],y[S+0])},V.Predictor9=function(p,y,S){return Qe(y[S+0],y[S+1])},V.Predictor10=function(p,y,S){return Qe(Qe(p,y[S-1]),Qe(y[S+0],y[S+1]))},V.Predictor11=function(p,y,S){var E=y[S+0];return 0>=nt(E>>24&255,p>>24&255,(y=y[S-1])>>24&255)+nt(E>>16&255,p>>16&255,y>>16&255)+nt(E>>8&255,p>>8&255,y>>8&255)+nt(255&E,255&p,255&y)?E:p},V.Predictor12=function(p,y,S){var E=y[S+0];return(at((p>>24&255)+(E>>24&255)-((y=y[S-1])>>24&255))<<24|at((p>>16&255)+(E>>16&255)-(y>>16&255))<<16|at((p>>8&255)+(E>>8&255)-(y>>8&255))<<8|at((255&p)+(255&E)-(255&y)))>>>0},V.Predictor13=function(p,y,S){var E=y[S-1];return(At((p=Qe(p,y[S+0]))>>24&255,E>>24&255)<<24|At(p>>16&255,E>>16&255)<<16|At(p>>8&255,E>>8&255)<<8|At(255&p,255&E))>>>0};var Xo=V.PredictorAdd0;V.PredictorAdd1=it,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var Zo=V.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var ra,Ic=V.ColorIndexInverseTransform,Ri=V.MapARGB,Oi=V.VP8LColorIndexInverseTransformAlpha,Ma=V.MapAlpha,is=V.VP8LPredictorsAdd=[];is.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var Qo,el,ss,os,Di,uo,En,ls,Ga,Dn,fr,or,kr,aa,Mi,ci,ho,Zl,Wu,th,rh,ah,Yu,Ku,fo,Mn,Ql,Cn,mo=o(511),Fc=o(2041),ec=o(225),tc=o(767),$c=0,cs=Fc,rc=ec,Wa=tc,Ba=mo,Hc=0,Ya=1,Vc=2,Bn=3,ac=4,tl=5,Os=6,nc=7,Gc=8,rl=9,Wc=10,Un=[2,3,7],al=[3,3,11],po=[280,256,256,256,40],Yc=[0,1,1,1,0],ic=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Pn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],zn=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ds=8,qn=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],In=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kn=null,nh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ju=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Kc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ih=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ua=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Dr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],er=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],nn=[],Yr=[],ui=[],Ms=1,Xu=2,us=[],Pa=[];es("UpsampleRgbLinePair",ts,3),es("UpsampleBgrLinePair",Ca,3),es("UpsampleRgbaLinePair",rn,4),es("UpsampleBgraLinePair",ki,4),es("UpsampleArgbLinePair",Ko,4),es("UpsampleRgba4444LinePair",Ls,2),es("UpsampleRgb565LinePair",Ts,2);var go=V.UpsampleRgbLinePair,Zu=V.UpsampleBgrLinePair,nl=V.UpsampleRgbaLinePair,Jc=V.UpsampleBgraLinePair,Bs=V.UpsampleArgbLinePair,Bi=V.UpsampleRgba4444LinePair,Us=V.UpsampleRgb565LinePair,Fn=16,il=1<<Fn-1,vo=-227,Ps=482,Xc=6,zs=0,za=o(256),Zc=o(256),sh=o(256),Yf=o(256),Kf=o(Ps-vo),Jf=o(Ps-vo);rs("YuvToRgbRow",ts,3),rs("YuvToBgrRow",Ca,3),rs("YuvToRgbaRow",rn,4),rs("YuvToBgraRow",ki,4),rs("YuvToArgbRow",Ko,4),rs("YuvToRgba4444Row",Ls,2),rs("YuvToRgb565Row",Ts,2);var na=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],sl=[0,2,8],sc=[8,7,6,4,4,2,2,2,1,1,1,1],oc=1;this.WebPDecodeRGBA=function(p,y,S,E,B){var I=Ya,$=new He,Y=new Wt;$.ba=Y,Y.S=I,Y.width=[Y.width],Y.height=[Y.height];var J=Y.width,ae=Y.height,xe=new yt;if(xe==null||p==null)var Le=2;else e(xe!=null),Le=oi(p,y,S,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Le!=0?J=0:(J!=null&&(J[0]=xe.width[0]),ae!=null&&(ae[0]=xe.height[0]),J=1),J){Y.width=Y.width[0],Y.height=Y.height[0],E!=null&&(E[0]=Y.width),B!=null&&(B[0]=Y.height);e:{if(E=new Vi,(B=new Xe).data=p,B.w=y,B.ha=S,B.kd=1,y=[0],e(B!=null),((p=oi(B.data,B.w,B.ha,null,null,null,y,null,B))==0||p==7)&&y[0]&&(p=4),(y=p)==0){if(e($!=null),E.data=B.data,E.w=B.w+B.offset,E.ha=B.ha-B.offset,E.put=wt,E.ac=Tn,E.bc=$i,E.ma=$,B.xa){if((p=to())==null){$=1;break e}if((function(re,Ne){var Ce=[0],ze=[0],ke=[0];t:for(;;){if(re==null)return 0;if(Ne==null)return re.a=2,0;if(re.l=Ne,re.a=0,je(re.m,Ne.data,Ne.w,Ne.ha),!Ni(re.m,Ce,ze,ke)){re.a=3;break t}if(re.xb=Xu,Ne.width=Ce[0],Ne.height=ze[0],!Xn(Ce[0],ze[0],1,re,null))break t;return 1}return e(re.a!=0),0})(p,E)){if(E=(y=li(E.width,E.height,$.Oa,$.ba))==0){t:{E=p;r:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((S=E.l)!=null),e((B=S.ma)!=null),E.xb!=0){if(E.ca=B.ba,E.tb=B.tb,e(E.ca!=null),!as(B.Oa,S,Bn)){E.a=2;break r}if(!Zn(E,S.width)||S.da)break r;if((S.da||Rt(E.ca.S))&&ii(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&ii()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!P(E.s.vb,E.s.Wa.Xa)){E.a=1;break r}E.xb=0}if(!wn(E,E.V,E.Ba,E.c,E.i,S.o,Qa))break r;B.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(y=p.a)}else y=p.a}else{if((p=new ri)==null){$=1;break e}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,ji(p,E)){if((y=li(E.width,E.height,$.Oa,$.ba))==0){if(p.Aa=0,S=$.Oa,e((B=p)!=null),S!=null){if(0<(J=0>(J=S.Md)?0:100<J?255:255*J/100)){for(ae=xe=0;4>ae;++ae)12>(Le=B.pb[ae]).lc&&(Le.ia=J*sc[0>Le.lc?0:Le.lc]>>3),xe|=Le.ia;xe&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=S.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(re,Ne){if(re==null)return 0;if(Ne==null)return hr(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!ji(re,Ne))return 0;if(e(re.cb),Ne.ac==null||Ne.ac(Ne)){Ne.ob&&(re.L=0);var Ce=sl[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=Ne.v-Ce>>4,re.zb=Ne.j-Ce>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=Ne.o+15+Ce>>4,re.Hb=Ne.va+15+Ce>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var ze=re.ed;for(Ce=0;4>Ce;++Ce){var ke;if(re.Qa.Cb){var Pe=re.Qa.Lb[Ce];re.Qa.Fb||(Pe+=ze.Tb)}else Pe=ze.Tb;for(ke=0;1>=ke;++ke){var Ve=re.gd[Ce][ke],et=Pe;if(ze.Pc&&(et+=ze.vd[0],ke&&(et+=ze.od[0])),0<(et=0>et?0:63<et?63:et)){var Je=et;0<ze.wb&&(Je=4<ze.wb?Je>>2:Je>>1)>9-ze.wb&&(Je=9-ze.wb),1>Je&&(Je=1),Ve.dd=Je,Ve.tc=2*et+Je,Ve.ld=40<=et?2:15<=et?1:0}else Ve.tc=0;Ve.La=ke}}}Ce=0}else hr(re,6,"Frame setup failed"),Ce=re.a;if(Ce=Ce==0){if(Ce){re.$c=0,0<re.Aa||(re.Ic=oc);t:{Ce=re.Ic,ze=4*(Je=re.za);var ft=32*Je,st=Je+1,It=0<re.L?Je*(0<re.Aa?2:1):0,ct=(re.Aa==2?2:1)*Je;if((Ve=ze+832+(ke=3*(16*Ce+sl[re.L])/2*ft)+(Pe=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=Ve)Ce=0;else{if(Ve>re.Vb){if(re.Vb=0,re.Ec=o(Ve),re.Fc=0,re.Ec==null){Ce=hr(re,1,"no memory during frame initialization.");break t}re.Vb=Ve}Ve=re.Ec,et=re.Fc,re.Ac=Ve,re.Bc=et,et+=ze,re.Gd=u(ft,Pl),re.Hd=0,re.rb=u(st+1,ti),re.sb=1,re.wa=It?u(It,_n):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=Je),e(!0),re.oc=Ve,re.pc=et,et+=832,re.ya=u(ct,Bl),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=Je),re.R=16*Je,re.B=8*Je,Je=(ft=sl[re.L])*re.R,ft=ft/2*re.B,re.sa=Ve,re.ta=et+Je,re.qa=re.sa,re.ra=re.ta+16*Ce*re.R+ft,re.Ha=re.qa,re.Ia=re.ra+8*Ce*re.B+ft,re.$c=0,et+=ke,re.mb=Pe?Ve:null,re.nb=Pe?et:null,e(et+Pe<=re.Fc+re.Vb),ql(re),s(re.Ac,re.Bc,0,ze),Ce=1}}if(Ce){if(Ne.ka=0,Ne.y=re.sa,Ne.O=re.ta,Ne.f=re.qa,Ne.N=re.ra,Ne.ea=re.Ha,Ne.Vd=re.Ia,Ne.fa=re.R,Ne.Rc=re.B,Ne.F=null,Ne.J=0,!$c){for(Ce=-255;255>=Ce;++Ce)mo[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)Fc[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)ec[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)tc[255+Ce]=0>Ce?0:255<Ce?255:Ce;$c=1}En=ai,ls=Il,Dn=tn,fr=Fl,or=$l,Ga=Rc,kr=zc,aa=Zi,Mi=M,ci=ne,ho=qc,Zl=_,Wu=pe,th=Ae,rh=Yi,ah=Ki,Yu=lo,Ku=Yl,Yr[0]=Uc,Yr[1]=Oc,Yr[2]=Bc,Yr[3]=Gl,Yr[4]=Sn,Yr[5]=Wl,Yr[6]=Oa,Yr[7]=io,Yr[8]=so,Yr[9]=jn,nn[0]=ni,nn[1]=Hl,nn[2]=Vl,nn[3]=Mc,nn[4]=Gi,nn[5]=no,nn[6]=ks,ui[0]=Vo,ui[1]=Dc,ui[2]=Ai,ui[3]=Pc,ui[4]=Ea,ui[5]=Go,ui[6]=Ei,Ce=1}else Ce=0}Ce&&(Ce=(function(Qt,Mr){for(Qt.M=0;Qt.M<Qt.Va;++Qt.M){var Ht,ot=Qt.Jc[Qt.M&Qt.Xb],rt=Qt.m,$r=Qt;for(Ht=0;Ht<$r.za;++Ht){var Tt=rt,Yt=$r,vr=Yt.Ac,xa=Yt.Bc+4*Ht,qa=Yt.zc,Tr=Yt.ya[Yt.aa+Ht];if(Yt.Qa.Bb?Tr.$b=Te(Tt,Yt.Pa.jb[0])?2+Te(Tt,Yt.Pa.jb[2]):Te(Tt,Yt.Pa.jb[1]):Tr.$b=0,Yt.kc&&(Tr.Ad=Te(Tt,Yt.Bd)),Tr.Za=!Te(Tt,145)+0,Tr.Za){var ua=Tr.Ob,Ka=0;for(Yt=0;4>Yt;++Yt){var da,Zt=qa[0+Yt];for(da=0;4>da;++da){Zt=Ua[vr[xa+da]][Zt];for(var cr=Kc[Te(Tt,Zt[0])];0<cr;)cr=Kc[2*cr+Te(Tt,Zt[cr])];Zt=-cr,vr[xa+da]=Zt}n(ua,Ka,vr,xa,4),Ka+=4,qa[0+Yt]=Zt}}else Zt=Te(Tt,156)?Te(Tt,128)?1:3:Te(Tt,163)?2:0,Tr.Ob[0]=Zt,s(vr,xa,Zt,4),s(qa,0,Zt,4);Tr.Dd=Te(Tt,142)?Te(Tt,114)?Te(Tt,183)?1:3:2:0}if($r.m.Ka)return hr(Qt,7,"Premature end-of-partition0 encountered.");for(;Qt.ja<Qt.za;++Qt.ja){if($r=ot,Tt=(rt=Qt).rb[rt.sb-1],vr=rt.rb[rt.sb+rt.ja],Ht=rt.ya[rt.aa+rt.ja],xa=rt.kc?Ht.Ad:0)Tt.la=vr.la=0,Ht.Za||(Tt.Na=vr.Na=0),Ht.Hc=0,Ht.Gc=0,Ht.ia=0;else{var Hr,mr;if(Tt=vr,vr=$r,xa=rt.Pa.Xc,qa=rt.ya[rt.aa+rt.ja],Tr=rt.pb[qa.$b],Yt=qa.ad,ua=0,Ka=rt.rb[rt.sb-1],Zt=da=0,s(Yt,ua,0,384),qa.Za)var wa=0,Vr=xa[3];else{cr=o(16);var ur=Tt.Na+Ka.Na;if(ur=kn(vr,xa[1],ur,Tr.Eb,0,cr,0),Tt.Na=Ka.Na=(0<ur)+0,1<ur)En(cr,0,Yt,ua);else{var ia=cr[0]+3>>3;for(cr=0;256>cr;cr+=16)Yt[ua+cr]=ia}wa=1,Vr=xa[0]}var yr=15&Tt.la,ha=15&Ka.la;for(cr=0;4>cr;++cr){var fa=1&ha;for(ia=mr=0;4>ia;++ia)yr=yr>>1|(fa=(ur=kn(vr,Vr,ur=fa+(1&yr),Tr.Sc,wa,Yt,ua))>wa)<<7,mr=mr<<2|(3<ur?3:1<ur?2:Yt[ua+0]!=0),ua+=16;yr>>=4,ha=ha>>1|fa<<7,da=(da<<8|mr)>>>0}for(Vr=yr,wa=ha>>4,Hr=0;4>Hr;Hr+=2){for(mr=0,yr=Tt.la>>4+Hr,ha=Ka.la>>4+Hr,cr=0;2>cr;++cr){for(fa=1&ha,ia=0;2>ia;++ia)ur=fa+(1&yr),yr=yr>>1|(fa=0<(ur=kn(vr,xa[2],ur,Tr.Qc,0,Yt,ua)))<<3,mr=mr<<2|(3<ur?3:1<ur?2:Yt[ua+0]!=0),ua+=16;yr>>=2,ha=ha>>1|fa<<5}Zt|=mr<<4*Hr,Vr|=yr<<4<<Hr,wa|=(240&ha)<<Hr}Tt.la=Vr,Ka.la=wa,qa.Hc=da,qa.Gc=Zt,qa.ia=43690&Zt?0:Tr.ia,xa=!(da|Zt)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[Ht.$b][Ht.Za],rt.wa[rt.Y+rt.ja].La|=!xa),$r.Ka)return hr(Qt,7,"Premature end-of-file encountered.")}if(ql(Qt),rt=Mr,$r=1,Ht=(ot=Qt).D,Tt=0<ot.L&&ot.M>=ot.zb&&ot.M<=ot.Va,ot.Aa==0)t:{if(Ht.M=ot.M,Ht.uc=Tt,An(ot,Ht),$r=1,Ht=(mr=ot.D).Nb,Tt=(Zt=sl[ot.L])*ot.R,vr=Zt/2*ot.B,cr=16*Ht*ot.R,ia=8*Ht*ot.B,xa=ot.sa,qa=ot.ta-Tt+cr,Tr=ot.qa,Yt=ot.ra-vr+ia,ua=ot.Ha,Ka=ot.Ia-vr+ia,ha=(yr=mr.M)==0,da=yr>=ot.Va-1,ot.Aa==2&&An(ot,mr),mr.uc)for(fa=(ur=ot).D.M,e(ur.D.uc),mr=ur.yb;mr<ur.Hb;++mr){wa=mr,Vr=fa;var Nr=(lr=(ma=ur).D).Nb;Hr=ma.R;var lr=lr.wa[lr.Y+wa],Ja=ma.sa,Kr=ma.ta+16*Nr*Hr+16*wa,_t=lr.dd,St=lr.tc;if(St!=0)if(e(3<=St),ma.L==1)0<wa&&ah(Ja,Kr,Hr,St+4),lr.La&&Ku(Ja,Kr,Hr,St),0<Vr&&rh(Ja,Kr,Hr,St+4),lr.La&&Yu(Ja,Kr,Hr,St);else{var dr=ma.B,fn=ma.qa,$n=ma.ra+8*Nr*dr+8*wa,sn=ma.Ha,ma=ma.Ia+8*Nr*dr+8*wa;Nr=lr.ld,0<wa&&(aa(Ja,Kr,Hr,St+4,_t,Nr),ci(fn,$n,sn,ma,dr,St+4,_t,Nr)),lr.La&&(Zl(Ja,Kr,Hr,St,_t,Nr),th(fn,$n,sn,ma,dr,St,_t,Nr)),0<Vr&&(kr(Ja,Kr,Hr,St+4,_t,Nr),Mi(fn,$n,sn,ma,dr,St+4,_t,Nr)),lr.La&&(ho(Ja,Kr,Hr,St,_t,Nr),Wu(fn,$n,sn,ma,dr,St,_t,Nr))}}if(ot.ia&&alert("todo:DitherRow"),rt.put!=null){if(mr=16*yr,yr=16*(yr+1),ha?(rt.y=ot.sa,rt.O=ot.ta+cr,rt.f=ot.qa,rt.N=ot.ra+ia,rt.ea=ot.Ha,rt.W=ot.Ia+ia):(mr-=Zt,rt.y=xa,rt.O=qa,rt.f=Tr,rt.N=Yt,rt.ea=ua,rt.W=Ka),da||(yr-=Zt),yr>rt.o&&(yr=rt.o),rt.F=null,rt.J=null,ot.Fa!=null&&0<ot.Fa.length&&mr<yr&&(rt.J=Cr(ot,rt,mr,yr-mr),rt.F=ot.mb,rt.F==null&&rt.F.length==0)){$r=hr(ot,3,"Could not decode alpha data.");break t}mr<rt.j&&(Zt=rt.j-mr,mr=rt.j,e(!(1&Zt)),rt.O+=ot.R*Zt,rt.N+=ot.B*(Zt>>1),rt.W+=ot.B*(Zt>>1),rt.F!=null&&(rt.J+=rt.width*Zt)),mr<yr&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=mr-rt.j,rt.U=rt.va-rt.v,rt.T=yr-mr,$r=rt.put(rt))}Ht+1!=ot.Ic||da||(n(ot.sa,ot.ta-Tt,xa,qa+16*ot.R,Tt),n(ot.qa,ot.ra-vr,Tr,Yt+8*ot.B,vr),n(ot.Ha,ot.Ia-vr,ua,Ka+8*ot.B,vr))}if(!$r)return hr(Qt,6,"Output aborted.")}return 1})(re,Ne)),Ne.bc!=null&&Ne.bc(Ne),Ce&=1}return Ce?(re.cb=0,Ce):0})(p,E)||(y=p.a)}}else y=p.a}y==0&&$.Oa!=null&&$.Oa.fd&&(y=Xl($.ba))}$=y}I=$!=0?null:11>I?Y.f.RGBA.eb:Y.f.kb.y}else I=null;return I};var Qc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(V,ye){for(var U="",F=0;F<4;F++)U+=String.fromCharCode(V[ye++]);return U}function g(V,ye){return V[ye+0]|V[ye+1]<<8}function w(V,ye){return(V[ye+0]|V[ye+1]<<8|V[ye+2]<<16)>>>0}function N(V,ye){return(V[ye+0]|V[ye+1]<<8|V[ye+2]<<16|V[ye+3]<<24)>>>0}new f;var x=[0],T=[0],k=[],O=new f,R=t,G=(function(V,ye){var U={},F=0,oe=!1,le=0,_e=0;if(U.frames=[],!(function(j,A){for(var L=0;L<4;L++)if(j[A+L]!="RIFF".charCodeAt(L))return!0;return!1})(V,ye)){for(N(V,ye+=4),ye+=8;ye<V.length;){var Q=m(V,ye),ue=N(V,ye+=4);ye+=4;var he=ue+(1&ue);switch(Q){case"VP8 ":case"VP8L":U.frames[F]===void 0&&(U.frames[F]={}),(z=U.frames[F]).src_off=oe?_e:ye-8,z.src_size=le+ue+8,F++,oe&&(oe=!1,le=0,_e=0);break;case"VP8X":(z=U.header={}).feature_flags=V[ye];var je=ye+4;z.canvas_width=1+w(V,je),je+=3,z.canvas_height=1+w(V,je),je+=3;break;case"ALPH":oe=!0,le=he+8,_e=ye-8;break;case"ANIM":(z=U.header).bgcolor=N(V,ye),je=ye+4,z.loop_count=g(V,je),je+=2;break;case"ANMF":var me,z;(z=U.frames[F]={}).offset_x=2*w(V,ye),ye+=3,z.offset_y=2*w(V,ye),ye+=3,z.width=1+w(V,ye),ye+=3,z.height=1+w(V,ye),ye+=3,z.duration=w(V,ye),ye+=3,me=V[ye++],z.dispose=1&me,z.blend=me>>1&1}Q!="ANMF"&&(ye+=he)}return U}})(R,0);G.response=R,G.rgbaoutput=!0,G.dataurl=!1;var D=G.header?G.header:null,W=G.frames?G.frames:null;if(D){D.loop_counter=D.loop_count,x=[D.canvas_height],T=[D.canvas_width];for(var ie=0;ie<W.length&&W[ie].blend!=0;ie++);}var se=W[0],K=O.WebPDecodeRGBA(R,se.src_off,se.src_size,T,x);se.rgba=K,se.imgwidth=T[0],se.imgheight=x[0];for(var Z=0;Z<T[0]*x[0]*4;Z++)k[Z]=K[Z];return this.width=T,this.height=x,this.data=k,this}(function(t){var e,r,n,s,o,u,h,f,m,g=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new f,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new u,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new u,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,m=new g}]);var w=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var A=j;Object.defineProperty(this,"pdf",{get:function(){return A}});var L=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return L},set:function(P){L=!!P}});var q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return q},set:function(P){q=!!P}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(P){isNaN(P)||(te=P)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(P){isNaN(P)||(de=P)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(P){var Be;typeof P=="number"?Be=[P,P,P,P]:((Be=new Array(4))[0]=P[0],Be[1]=P.length>=2?P[1]:Be[0],Be[2]=P.length>=3?P[2]:Be[0],Be[3]=P.length>=4?P[3]:Be[1]),m.margin=Be}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(P){ge=P}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(P){be=P}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(P){Te=P}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(P){P instanceof g&&(m=P)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(P){m.path=P}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(P){$e=P}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(P){var Be;Be=N(P),this.ctx.fillStyle=Be.style,this.ctx.isFillTransparent=Be.a===0,this.ctx.fillOpacity=Be.a,this.pdf.setFillColor(Be.r,Be.g,Be.b,{a:Be.a}),this.pdf.setTextColor(Be.r,Be.g,Be.b,{a:Be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(P){var Be=N(P);this.ctx.strokeStyle=Be.style,this.ctx.isStrokeTransparent=Be.a===0,this.ctx.strokeOpacity=Be.a,Be.a===0?this.pdf.setDrawColor(255,255,255):(Be.a,this.pdf.setDrawColor(Be.r,Be.g,Be.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(P){["butt","round","square"].indexOf(P)!==-1&&(this.ctx.lineCap=P,this.pdf.setLineCap(P))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(P){isNaN(P)||(this.ctx.lineWidth=P,this.pdf.setLineWidth(P))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(P){["bevel","round","miter"].indexOf(P)!==-1&&(this.ctx.lineJoin=P,this.pdf.setLineJoin(P))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(P){isNaN(P)||(this.ctx.miterLimit=P,this.pdf.setMiterLimit(P))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(P){this.ctx.textBaseline=P}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(P){["right","end","center","left","start"].indexOf(P)!==-1&&(this.ctx.textAlign=P)}});var tt=null,ce=null,Me=null;Object.defineProperty(this,"fontFaces",{get:function(){return Me},set:function(P){tt=null,ce=null,Me=P}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(P){var Be;if(this.ctx.font=P,(Be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(P))!==null){var ee=Be[1];Be[2];var Se=Be[3],ve=Be[4];Be[5];var Ge=Be[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ve)[2];ve=Math.floor(Ye==="px"?parseFloat(ve)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(ve)*this.pdf.getFontSize():parseFloat(ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ve);var Ze=(function(ht){var Pr,Pt,Nt=[],Dt=ht.trim();if(Dt==="")return Hm;if(Dt in sy)return[sy[Dt]];for(;Dt!=="";){switch(Pt=null,Pr=(Dt=ly(Dt)).charAt(0)){case'"':case"'":Pt=Yj(Dt.substring(1),Pr);break;default:Pt=Kj(Dt)}if(Pt===null||(Nt.push(Pt[0]),(Dt=ly(Pt[1]))!==""&&Dt.charAt(0)!==","))return Hm;Dt=Dt.replace(/^,/,"")}return Nt})(Ge);if(this.fontFaces){var Qe=(function(ht,Pr){var Pt=ht.getFontList(),Nt=JSON.stringify(Pt);if(tt===null||ce!==Nt){var Dt=(function(Xt){var xt=[];return Object.keys(Xt).forEach(function(xr){Xt[xr].forEach(function(Rt){var zt=null;switch(Rt){case"bold":zt={family:xr,weight:"bold"};break;case"italic":zt={family:xr,style:"italic"};break;case"bolditalic":zt={family:xr,weight:"bold",style:"italic"};break;case"":case"normal":zt={family:xr}}zt!==null&&(zt.ref={name:xr,style:Rt},xt.push(zt))})}),xt})(Pt);tt=(function(Xt){for(var xt={},xr=0;xr<Xt.length;++xr){var Rt=$m(Xt[xr]),zt=Rt.family,wr=Rt.stretch,Wt=Rt.style,yt=Rt.weight;xt[zt]=xt[zt]||{},xt[zt][wr]=xt[zt][wr]||{},xt[zt][wr][Wt]=xt[zt][wr][Wt]||{},xt[zt][wr][Wt][yt]=Rt}return xt})(Dt.concat(Pr)),ce=Nt}return tt})(this.pdf,this.fontFaces),at=Ze.map(function(ht){return{family:ht,stretch:"normal",weight:Se,style:ee}}),At=(function(ht,Pr,Pt){for(var Nt=(Pt=Pt||{}).defaultFontFamily||"times",Dt=Object.assign({},Wj,Pt.genericFontFamilies||{}),Xt=null,xt=null,xr=0;xr<Pr.length;++xr)if(Dt[(Xt=$m(Pr[xr])).family]&&(Xt.family=Dt[Xt.family]),ht.hasOwnProperty(Xt.family)){xt=ht[Xt.family];break}if(!(xt=xt||ht[Nt]))throw new Error("Could not find a font-family for the rule '"+oy(Xt)+"' and default family '"+Nt+"'.");if(xt=(function(Rt,zt){if(zt[Rt])return zt[Rt];var wr=jp[Rt],Wt=wr<=jp.normal?-1:1,yt=iy(zt,sx,wr,Wt);if(!yt)throw new Error("Could not find a matching font-stretch value for "+Rt);return yt})(Xt.stretch,xt),xt=(function(Rt,zt){if(zt[Rt])return zt[Rt];for(var wr=ix[Rt],Wt=0;Wt<wr.length;++Wt)if(zt[wr[Wt]])return zt[wr[Wt]];throw new Error("Could not find a matching font-style for "+Rt)})(Xt.style,xt),!(xt=(function(Rt,zt){if(zt[Rt])return zt[Rt];if(Rt===400&&zt[500])return zt[500];if(Rt===500&&zt[400])return zt[400];var wr=Gj[Rt],Wt=iy(zt,ox,wr,Rt<400?-1:1);if(!Wt)throw new Error("Could not find a matching font-weight for value "+Rt);return Wt})(Xt.weight,xt)))throw new Error("Failed to resolve a font for the rule '"+oy(Xt)+"'.");return xt})(Qe,at);this.pdf.setFont(At.ref.name,At.ref.style)}else{var nt="";(Se==="bold"||parseInt(Se,10)>=700||ee==="bold")&&(nt="bold"),ee==="italic"&&(nt+="italic"),nt.length===0&&(nt="normal");for(var it="",Et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<Ze.length;lt++){if(this.pdf.internal.getFont(Ze[lt],nt,{noFallback:!0,disableWarning:!0})!==void 0){it=Ze[lt];break}if(nt==="bolditalic"&&this.pdf.internal.getFont(Ze[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=Ze[lt],nt="bold";else if(this.pdf.internal.getFont(Ze[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=Ze[lt],nt="normal";break}}if(it===""){for(var Ct=0;Ct<Ze.length;Ct++)if(Et[Ze[Ct]]){it=Et[Ze[Ct]];break}}it=it===""?"Times":it,this.pdf.setFont(it,nt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(P){this.ctx.globalCompositeOperation=P}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(P){this.ctx.globalAlpha=P}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(P){this.ctx.lineDashOffset=P,z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(P){this.ctx.lineDash=P,z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(P){this.ctx.ignoreClearRect=!!P}})};w.prototype.setLineDash=function(j){this.lineDash=j},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){W.call(this,"fill",!1)},w.prototype.stroke=function(){W.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(j,A){if(isNaN(j)||isNaN(A))throw Ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var L=this.ctx.transform.applyToPoint(new u(j,A));this.path.push({type:"mt",x:L.x,y:L.y}),this.ctx.lastPoint=new u(j,A)},w.prototype.closePath=function(){var j=new u(0,0),A=0;for(A=this.path.length-1;A!==-1;A--)if(this.path[A].type==="begin"&&Er(this.path[A+1])==="object"&&typeof this.path[A+1].x=="number"){j=new u(this.path[A+1].x,this.path[A+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(j.x,j.y)},w.prototype.lineTo=function(j,A){if(isNaN(j)||isNaN(A))throw Ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var L=this.ctx.transform.applyToPoint(new u(j,A));this.path.push({type:"lt",x:L.x,y:L.y}),this.ctx.lastPoint=new u(L.x,L.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),W.call(this,null,!0)},w.prototype.quadraticCurveTo=function(j,A,L,q){if(isNaN(L)||isNaN(q)||isNaN(j)||isNaN(A))throw Ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new u(L,q)),de=this.ctx.transform.applyToPoint(new u(j,A));this.path.push({type:"qct",x1:de.x,y1:de.y,x:te.x,y:te.y}),this.ctx.lastPoint=new u(te.x,te.y)},w.prototype.bezierCurveTo=function(j,A,L,q,te,de){if(isNaN(te)||isNaN(de)||isNaN(j)||isNaN(A)||isNaN(L)||isNaN(q))throw Ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new u(te,de)),be=this.ctx.transform.applyToPoint(new u(j,A)),Te=this.ctx.transform.applyToPoint(new u(L,q));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:Te.x,y2:Te.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new u(ge.x,ge.y)},w.prototype.arc=function(j,A,L,q,te,de){if(isNaN(j)||isNaN(A)||isNaN(L)||isNaN(q)||isNaN(te))throw Ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new u(j,A));j=ge.x,A=ge.y;var be=this.ctx.transform.applyToPoint(new u(0,L)),Te=this.ctx.transform.applyToPoint(new u(0,0));L=Math.sqrt(Math.pow(be.x-Te.x,2)+Math.pow(be.y-Te.y,2))}Math.abs(te-q)>=2*Math.PI&&(q=0,te=2*Math.PI),this.path.push({type:"arc",x:j,y:A,radius:L,startAngle:q,endAngle:te,counterclockwise:de})},w.prototype.arcTo=function(j,A,L,q,te){throw new Error("arcTo not implemented.")},w.prototype.rect=function(j,A,L,q){if(isNaN(j)||isNaN(A)||isNaN(L)||isNaN(q))throw Ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,A),this.lineTo(j+L,A),this.lineTo(j+L,A+q),this.lineTo(j,A+q),this.lineTo(j,A),this.lineTo(j+L,A),this.lineTo(j,A)},w.prototype.fillRect=function(j,A,L,q){if(isNaN(j)||isNaN(A)||isNaN(L)||isNaN(q))throw Ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,A,L,q),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},w.prototype.strokeRect=function(j,A,L,q){if(isNaN(j)||isNaN(A)||isNaN(L)||isNaN(q))throw Ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(j,A,L,q),this.stroke())},w.prototype.clearRect=function(j,A,L,q){if(isNaN(j)||isNaN(A)||isNaN(L)||isNaN(q))throw Ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,A,L,q))},w.prototype.save=function(j){j=typeof j!="boolean"||j;for(var A=this.pdf.internal.getCurrentPageInfo().pageNumber,L=0;L<this.pdf.internal.getNumberOfPages();L++)this.pdf.setPage(L+1),this.pdf.internal.out("q");if(this.pdf.setPage(A),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var q=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=q}},w.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var A=this.pdf.internal.getCurrentPageInfo().pageNumber,L=0;L<this.pdf.internal.getNumberOfPages();L++)this.pdf.setPage(L+1),this.pdf.internal.out("Q");this.pdf.setPage(A),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var N=function(j){var A,L,q,te;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))A=0,L=0,q=0,te=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(de!==null)A=parseInt(de[1]),L=parseInt(de[2]),q=parseInt(de[3]),te=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)A=parseInt(de[1]),L=parseInt(de[2]),q=parseInt(de[3]),te=parseFloat(de[4]);else{if(te=1,typeof j=="string"&&j.charAt(0)!=="#"){var ge=new Zb(j);j=ge.ok?ge.toHex():"#000000"}j.length===4?(A=j.substring(1,2),A+=A,L=j.substring(2,3),L+=L,q=j.substring(3,4),q+=q):(A=j.substring(1,3),L=j.substring(3,5),q=j.substring(5,7)),A=parseInt(A,16),L=parseInt(L,16),q=parseInt(q,16)}}return{r:A,g:L,b:q,a:te,style:j}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(j,A,L,q){if(isNaN(A)||isNaN(L)||typeof j!="string")throw Ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(q=isNaN(q)?void 0:q,!x.call(this)){var te=he(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;F.call(this,{text:j,x:A,y:L,scale:de,angle:te,align:this.textAlign,maxWidth:q})}},w.prototype.strokeText=function(j,A,L,q){if(isNaN(A)||isNaN(L)||typeof j!="string")throw Ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){q=isNaN(q)?void 0:q;var te=he(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;F.call(this,{text:j,x:A,y:L,scale:de,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:q})}},w.prototype.measureText=function(j){if(typeof j!="string")throw Ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var A=this.pdf,L=this.pdf.internal.scaleFactor,q=A.internal.getFontSize(),te=A.getStringUnitWidth(j)*q/A.internal.scaleFactor;return new function(de){var ge=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:te*=Math.round(96*L/72*1e4)/1e4})},w.prototype.scale=function(j,A){if(isNaN(j)||isNaN(A))throw Ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var L=new f(j,0,0,A,0,0);this.ctx.transform=this.ctx.transform.multiply(L)},w.prototype.rotate=function(j){if(isNaN(j))throw Ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var A=new f(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(A)},w.prototype.translate=function(j,A){if(isNaN(j)||isNaN(A))throw Ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var L=new f(1,0,0,1,j,A);this.ctx.transform=this.ctx.transform.multiply(L)},w.prototype.transform=function(j,A,L,q,te,de){if(isNaN(j)||isNaN(A)||isNaN(L)||isNaN(q)||isNaN(te)||isNaN(de))throw Ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new f(j,A,L,q,te,de);this.ctx.transform=this.ctx.transform.multiply(ge)},w.prototype.setTransform=function(j,A,L,q,te,de){j=isNaN(j)?1:j,A=isNaN(A)?0:A,L=isNaN(L)?0:L,q=isNaN(q)?1:q,te=isNaN(te)?0:te,de=isNaN(de)?0:de,this.ctx.transform=new f(j,A,L,q,te,de)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(j,A,L,q,te,de,ge,be,Te){var $e=this.pdf.getImageProperties(j),tt=1,ce=1,Me=1,P=1;q!==void 0&&be!==void 0&&(Me=be/q,P=Te/te,tt=$e.width/q*be/q,ce=$e.height/te*Te/te),de===void 0&&(de=A,ge=L,A=0,L=0),q!==void 0&&be===void 0&&(be=q,Te=te),q===void 0&&be===void 0&&(be=$e.width,Te=$e.height);var Be=this.ctx.transform.decompose(),ee=he(Be.rotate.shx),Se=new f,ve=(Se=(Se=(Se=Se.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new h(de-A*Me,ge-L*P,q*tt,te*ce));if(this.autoPaging){for(var Ge,Ye=O.call(this,ve),Ze=[],Qe=0;Qe<Ye.length;Qe+=1)Ze.indexOf(Ye[Qe])===-1&&Ze.push(Ye[Qe]);D(Ze);for(var at=Ze[0],At=Ze[Ze.length-1],nt=at;nt<At+1;nt++){this.pdf.setPage(nt);var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=nt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=nt===1?0:lt+(nt-2)*Ct;if(this.ctx.clip_path.length!==0){var Pr=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(Ge,this.posX+this.margin[3],-ht+Et+this.ctx.prevPageLastElemOffset),ie.call(this,"fill",!0),this.path=Pr}var Pt=JSON.parse(JSON.stringify(ve));Pt=G([Pt],this.posX+this.margin[3],-ht+Et+this.ctx.prevPageLastElemOffset)[0];var Nt=(nt>at||nt<At)&&k.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ct,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,ee),Nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(j,"JPEG",ve.x,ve.y,ve.w,ve.h,null,null,ee)};var O=function(j,A,L){var q=[];A=A||this.pdf.internal.pageSize.width,L=L||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":q.push(Math.floor((j.y+te)/L)+1);break;case"arc":q.push(Math.floor((j.y+te-j.radius)/L)+1),q.push(Math.floor((j.y+te+j.radius)/L)+1);break;case"qct":var de=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);q.push(Math.floor((de.y+te)/L)+1),q.push(Math.floor((de.y+de.h+te)/L)+1);break;case"bct":var ge=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);q.push(Math.floor((ge.y+te)/L)+1),q.push(Math.floor((ge.y+ge.h+te)/L)+1);break;case"rect":q.push(Math.floor((j.y+te)/L)+1),q.push(Math.floor((j.y+j.h+te)/L)+1)}for(var be=0;be<q.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<q[be];)R.call(this);return q},R=function(){var j=this.fillStyle,A=this.strokeStyle,L=this.font,q=this.lineCap,te=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=A,this.font=L,this.lineCap=q,this.lineWidth=te,this.lineJoin=de},G=function(j,A,L){for(var q=0;q<j.length;q++)switch(j[q].type){case"bct":j[q].x2+=A,j[q].y2+=L;case"qct":j[q].x1+=A,j[q].y1+=L;default:j[q].x+=A,j[q].y+=L}return j},D=function(j){return j.sort(function(A,L){return A-L})},W=function(j,A){var L=this.fillStyle,q=this.strokeStyle,te=this.lineCap,de=this.lineWidth,ge=Math.abs(de*this.ctx.transform.scaleX),be=this.lineJoin;if(this.autoPaging){for(var Te,$e,tt=JSON.parse(JSON.stringify(this.path)),ce=JSON.parse(JSON.stringify(this.path)),Me=[],P=0;P<ce.length;P++)if(ce[P].x!==void 0)for(var Be=O.call(this,ce[P]),ee=0;ee<Be.length;ee+=1)Me.indexOf(Be[ee])===-1&&Me.push(Be[ee]);for(var Se=0;Se<Me.length;Se++)for(;this.pdf.internal.getNumberOfPages()<Me[Se];)R.call(this);D(Me);for(var ve=Me[0],Ge=Me[Me.length-1],Ye=ve;Ye<Ge+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=L,this.strokeStyle=q,this.lineCap=te,this.lineWidth=ge,this.lineJoin=be;var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qe=Ye===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Ye===1?0:at+(Ye-2)*At;if(this.ctx.clip_path.length!==0){var it=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(Te,this.posX+this.margin[3],-nt+Qe+this.ctx.prevPageLastElemOffset),ie.call(this,j,!0),this.path=it}if($e=JSON.parse(JSON.stringify(tt)),this.path=G($e,this.posX+this.margin[3],-nt+Qe+this.ctx.prevPageLastElemOffset),A===!1||Ye===0){var Et=(Ye>ve||Ye<Ge)&&k.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,At,null).clip().discardPath()),ie.call(this,j,A),Et&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=tt}else this.lineWidth=ge,ie.call(this,j,A),this.lineWidth=de},ie=function(j,A){if((j!=="stroke"||A||!T.call(this))&&(j==="stroke"||A||!x.call(this))){for(var L,q,te=[],de=this.path,ge=0;ge<de.length;ge++){var be=de[ge];switch(be.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:be,deltas:[],abs:[]});break;case"lt":var Te=te.length;if(de[ge-1]&&!isNaN(de[ge-1].x)&&(L=[be.x-de[ge-1].x,be.y-de[ge-1].y],Te>0)){for(;Te>=0;Te--)if(te[Te-1].close!==!0&&te[Te-1].begin!==!0){te[Te-1].deltas.push(L),te[Te-1].abs.push(be);break}}break;case"bct":L=[be.x1-de[ge-1].x,be.y1-de[ge-1].y,be.x2-de[ge-1].x,be.y2-de[ge-1].y,be.x-de[ge-1].x,be.y-de[ge-1].y],te[te.length-1].deltas.push(L);break;case"qct":var $e=de[ge-1].x+2/3*(be.x1-de[ge-1].x),tt=de[ge-1].y+2/3*(be.y1-de[ge-1].y),ce=be.x+2/3*(be.x1-be.x),Me=be.y+2/3*(be.y1-be.y),P=be.x,Be=be.y;L=[$e-de[ge-1].x,tt-de[ge-1].y,ce-de[ge-1].x,Me-de[ge-1].y,P-de[ge-1].x,Be-de[ge-1].y],te[te.length-1].deltas.push(L);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(be)}}q=A?null:j==="stroke"?"stroke":"fill";for(var ee=!1,Se=0;Se<te.length;Se++)if(te[Se].arc)for(var ve=te[Se].abs,Ge=0;Ge<ve.length;Ge++){var Ye=ve[Ge];Ye.type==="arc"?Z.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,A,!ee):oe.call(this,Ye.x,Ye.y),ee=!0}else if(te[Se].close===!0)this.pdf.internal.out("h"),ee=!1;else if(te[Se].begin!==!0){var Ze=te[Se].start.x,Qe=te[Se].start.y;le.call(this,te[Se].deltas,Ze,Qe),ee=!0}q&&V.call(this,q),A&&ye.call(this)}},se=function(j){var A=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,L=A*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-L;case"top":return j+A-L;case"hanging":return j+A-2*L;case"middle":return j+A/2-L;default:return j}},K=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(A,L){this.colorStops.push([A,L])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Z=function(j,A,L,q,te,de,ge,be,Te){for(var $e=Q.call(this,L,q,te,de),tt=0;tt<$e.length;tt++){var ce=$e[tt];tt===0&&(Te?U.call(this,ce.x1+j,ce.y1+A):oe.call(this,ce.x1+j,ce.y1+A)),_e.call(this,j,A,ce.x2,ce.y2,ce.x3,ce.y3,ce.x4,ce.y4)}be?ye.call(this):V.call(this,ge)},V=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ye=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(j,A){this.pdf.internal.out(r(j)+" "+n(A)+" m")},F=function(j){var A;switch(j.align){case"right":case"end":A="right";break;case"center":A="center";break;default:A="left"}var L,q,te,de=this.pdf.getTextDimensions(j.text),ge=se.call(this,j.y),be=K.call(this,ge)-de.h,Te=this.ctx.transform.applyToPoint(new u(j.x,ge));if(this.autoPaging){var $e=this.ctx.transform.decompose(),tt=new f;tt=(tt=(tt=tt.multiply($e.translate)).multiply($e.skew)).multiply($e.scale);for(var ce=this.ctx.transform.applyToRectangle(new h(j.x,ge,de.w,de.h)),Me=tt.applyToRectangle(new h(j.x,be,de.w,de.h)),P=O.call(this,Me),Be=[],ee=0;ee<P.length;ee+=1)Be.indexOf(P[ee])===-1&&Be.push(P[ee]);D(Be);for(var Se=Be[0],ve=Be[Be.length-1],Ge=Se;Ge<ve+1;Ge++){this.pdf.setPage(Ge);var Ye=Ge===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[2],at=Qe-this.margin[0],At=this.pdf.internal.pageSize.width-this.margin[1],nt=At-this.margin[3],it=Ge===1?0:Ze+(Ge-2)*at;if(this.ctx.clip_path.length!==0){var Et=this.path;L=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=G(L,this.posX+this.margin[3],-1*it+Ye),ie.call(this,"fill",!0),this.path=Et}var lt=G([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-it+Ye+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(q*j.scale),te=this.lineWidth,this.lineWidth=te*j.scale);var Ct=this.autoPaging!=="text";if(Ct||lt.y+lt.h<=Qe){if(Ct||lt.y>=Ye&&lt.x<=At){var ht=Ct?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||At-lt.x)[0],Pr=G([JSON.parse(JSON.stringify(ce))],this.posX+this.margin[3],-it+Ye+this.ctx.prevPageLastElemOffset)[0],Pt=Ct&&(Ge>Se||Ge<ve)&&k.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,at,null).clip().discardPath()),this.pdf.text(ht,Pr.x,Pr.y,{angle:j.angle,align:A,renderingMode:j.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else lt.y<Qe&&(this.ctx.prevPageLastElemOffset+=Qe-lt.y);j.scale>=.01&&(this.pdf.setFontSize(q),this.lineWidth=te)}}else j.scale>=.01&&(q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(q*j.scale),te=this.lineWidth,this.lineWidth=te*j.scale),this.pdf.text(j.text,Te.x+this.posX,Te.y+this.posY,{angle:j.angle,align:A,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(q),this.lineWidth=te)},oe=function(j,A,L,q){L=L||0,q=q||0,this.pdf.internal.out(r(j+L)+" "+n(A+q)+" l")},le=function(j,A,L){return this.pdf.lines(j,A,L,null,null)},_e=function(j,A,L,q,te,de,ge,be){this.pdf.internal.out([e(s(L+j)),e(o(q+A)),e(s(te+j)),e(o(de+A)),e(s(ge+j)),e(o(be+A)),"c"].join(" "))},Q=function(j,A,L,q){for(var te=2*Math.PI,de=Math.PI/2;A>L;)A-=te;var ge=Math.abs(L-A);ge<te&&q&&(ge=te-ge);for(var be=[],Te=q?-1:1,$e=A;ge>1e-5;){var tt=$e+Te*Math.min(ge,de);be.push(ue.call(this,j,$e,tt)),ge-=Math.abs(tt-$e),$e=tt}return be},ue=function(j,A,L){var q=(L-A)/2,te=j*Math.cos(q),de=j*Math.sin(q),ge=te,be=-de,Te=ge*ge+be*be,$e=Te+ge*te+be*de,tt=4/3*(Math.sqrt(2*Te*$e)-$e)/(ge*de-be*te),ce=ge-tt*be,Me=be+tt*ge,P=ce,Be=-Me,ee=q+A,Se=Math.cos(ee),ve=Math.sin(ee);return{x1:j*Math.cos(A),y1:j*Math.sin(A),x2:ce*Se-Me*ve,y2:ce*ve+Me*Se,x3:P*Se-Be*ve,y3:P*ve+Be*Se,x4:j*Math.cos(L),y4:j*Math.sin(L)}},he=function(j){return 180*j/Math.PI},je=function(j,A,L,q,te,de){var ge=j+.5*(L-j),be=A+.5*(q-A),Te=te+.5*(L-te),$e=de+.5*(q-de),tt=Math.min(j,te,ge,Te),ce=Math.max(j,te,ge,Te),Me=Math.min(A,de,be,$e),P=Math.max(A,de,be,$e);return new h(tt,Me,ce-tt,P-Me)},me=function(j,A,L,q,te,de,ge,be){var Te,$e,tt,ce,Me,P,Be,ee,Se,ve,Ge,Ye,Ze,Qe,at=L-j,At=q-A,nt=te-L,it=de-q,Et=ge-te,lt=be-de;for($e=0;$e<41;$e++)Se=(Be=(tt=j+(Te=$e/40)*at)+Te*((Me=L+Te*nt)-tt))+Te*(Me+Te*(te+Te*Et-Me)-Be),ve=(ee=(ce=A+Te*At)+Te*((P=q+Te*it)-ce))+Te*(P+Te*(de+Te*lt-P)-ee),$e==0?(Ge=Se,Ye=ve,Ze=Se,Qe=ve):(Ge=Math.min(Ge,Se),Ye=Math.min(Ye,ve),Ze=Math.max(Ze,Se),Qe=Math.max(Qe,ve));return new h(Math.round(Ge),Math.round(Ye),Math.round(Ze-Ge),Math.round(Qe-Ye))},z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,A,L=(j=this.ctx.lineDash,A=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:A}));this.prevLineDash!==L&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=L)}}})(vt.API),(function(t){var e=function(u){var h,f,m,g,w,N,x,T,k,O;for(f=[],m=0,g=(u+=h="\0\0\0\0".slice(u.length%4||4)).length;g>m;m+=4)(w=(u.charCodeAt(m)<<24)+(u.charCodeAt(m+1)<<16)+(u.charCodeAt(m+2)<<8)+u.charCodeAt(m+3))!==0?(N=(w=((w=((w=((w=(w-(O=w%85))/85)-(k=w%85))/85)-(T=w%85))/85)-(x=w%85))/85)%85,f.push(N+33,x+33,T+33,k+33,O+33)):f.push(122);return(function(R,G){for(var D=G;D>0;D--)R.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},r=function(u){var h,f,m,g,w,N=String,x="length",T=255,k="charCodeAt",O="slice",R="replace";for(u[O](-2),u=u[O](0,-2)[R](/\s/g,"")[R]("z","!!!!!"),m=[],g=0,w=(u+=h="uuuuu"[O](u[x]%5||5))[x];w>g;g+=5)f=52200625*(u[k](g)-33)+614125*(u[k](g+1)-33)+7225*(u[k](g+2)-33)+85*(u[k](g+3)-33)+(u[k](g+4)-33),m.push(T&f>>24,T&f>>16,T&f>>8,T&f);return(function(G,D){for(var W=D;W>0;W--)G.pop()})(m,h[x]),N.fromCharCode.apply(N,m)},n=function(u){return u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),h.test(u)===!1)return"";for(var f="",m=0;m<u.length;m+=2)f+=String.fromCharCode("0x"+(u[m]+u[m+1]));return f},o=function(u){for(var h=new Uint8Array(u.length),f=u.length;f--;)h[f]=u.charCodeAt(f);return(h=yp(h)).reduce(function(m,g){return m+String.fromCharCode(g)},"")};t.processDataByFilters=function(u,h){var f=0,m=u||"",g=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":m=r(m),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=e(m),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=s(m),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=n(m),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=o(m),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:m,reverseChain:g.reverse().join(" ")}}})(vt.API),(function(t){t.loadFile=function(e,r,n){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var h=void 0;try{h=(function(f,m,g){var w=new XMLHttpRequest,N=0,x=function(T){var k=T.length,O=[],R=String.fromCharCode;for(N=0;N<k;N+=1)O.push(R(255&T.charCodeAt(N)));return O.join("")};if(w.open("GET",f,!m),w.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(w.onload=function(){w.status===200?g(x(this.responseText)):g(void 0)}),w.send(null),m&&w.status===200)return x(w.responseText)})(s,o,u)}catch{}return h})(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(vt.API),(function(t){function e(){return(Ft.html2canvas?Promise.resolve(Ft.html2canvas):jm(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function r(){return(Ft.DOMPurify?Promise.resolve(Ft.DOMPurify):jm(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var n=function(h){var f=Er(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(h,f){var m=document.createElement(h);for(var g in f.className&&(m.className=f.className),f.innerHTML&&f.dompurify&&(m.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)m.style[g]=f.style[g];return m},o=function h(f,m){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)m!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||g.appendChild(h(w,m));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g},u=function h(f){var m=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),g=h.convert(Promise.resolve(),m);return(g=g.setProgress(1,h,1,[h])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(h,f){return h.__proto__=f||u.prototype,h},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(m){switch(n(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(r).then(function(m){return this.set({src:s("div",{innerHTML:h,dompurify:m})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},u.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,f(this.prop.container,m)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(f){var m=this.opt.jsPDF,g=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,N=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete N.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=g,g)for(var x=0;x<g.length;++x){var T=g[x],k=T.src.find(function(O){return O.format==="truetype"});k&&m.addFont(k.url,T.ref.name,T.ref.style)}return N.windowHeight=N.windowHeight||0,N.windowHeight=N.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):N.windowHeight,m.context2d.save(!0),f(this.prop.container,N)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(h,f,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},u.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},u.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},u.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(h){if(n(h)!=="object")return this;var f=Object.keys(h||{}).map(function(m){if(m in u.template.prop)return function(){this.prop[m]=h[m]};switch(m){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[m]=h[m]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(h,f){return this.then(function(){var m=h in u.template.prop?this.prop[h]:this.opt[h];return f?f(m):m})},u.prototype.setMargin=function(h){return this.then(function(){switch(n(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},u.prototype.setPageSize=function(h){function f(m,g){return Math.floor(m*g/72*96)}return this.then(function(){(h=h||vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},u.prototype.setProgress=function(h,f,m,g){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),m!=null&&(this.progress.n=m),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(h,f,m,g){return this.setProgress(h?this.progress.val+h:null,f||null,m?this.progress.n+m:null,g?this.progress.stack.concat(g):null)},u.prototype.then=function(h,f){var m=this;return this.thenCore(h,f,function(g,w){return m.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(N){return m.updateProgress(null,g),N}).then(g,w).then(function(N){return m.updateProgress(1),N})})},u.prototype.thenCore=function(h,f,m){m=m||Promise.prototype.then;var g=this;h&&(h=h.bind(g)),f&&(f=f.bind(g));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:u.convert(Object.assign({},g),Promise.prototype),N=m.call(w,h,f);return u.convert(N,g.__proto__)},u.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},u.prototype.thenList=function(h){var f=this;return h.forEach(function(m){f=f.thenCore(m)}),f},u.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return u.convert(f,this)},u.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},u.prototype.error=function(h){return this.then(function(){throw new Error(h)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,vt.getPageSize=function(h,f,m){if(Er(h)==="object"){var g=h;h=g.orientation,f=g.unit||f,m=g.format||m}f=f||"mm",m=m||"a4",h=(""+(h||"P")).toLowerCase();var w,N=(""+m).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var T,k=0,O=0;if(x.hasOwnProperty(N))k=x[N][1]/w,O=x[N][0]/w;else try{k=m[1],O=m[0]}catch{throw new Error("Invalid format: "+m)}if(h==="p"||h==="portrait")h="p",O>k&&(T=O,O=k,k=T);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",k>O&&(T=O,O=k,k=T)}return{width:O,height:k,unit:f,k:w,orientation:h}},t.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map($m):null;var m=new u(f);return f.worker?m:m.from(h).doCallback()}})(vt.API),vt.API.addJS=function(t){return uy=t,this.internal.events.subscribe("postPutResources",function(){of=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(of+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),cy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+uy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){of!==void 0&&cy!==void 0&&this.internal.out("/Names <</JavaScript "+of+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],h=n.exec(u);if(h!=null){var f=h[1];r.internal.newObjectDeferredBegin(f,!1)}r.internal.write(u)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,g=[];for(o=0;o<m;o++){var w=r.internal.newObject();g.push(w);var N=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+N.objId+" 0 R /XYZ null null null]>> endobj")}var x=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<g.length;o++)r.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+x+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,o){var u={title:s,options:o,children:[]};return n==null&&(n=this.root),n.children.push(u),u},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var u=n.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var h=this.count=this.count_r({count:0},u);if(h>0&&this.line("/Count "+h),u.options&&u.options.pageNumber){var f=r.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var m=0;m<n.children.length;m++)this.renderItems(n.children[m])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var o=0;o<s.children.length;o++)n.count++,this.count_r(n,s.children[o]);return n.count}}])})(vt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,o,u,h){var f,m=this.decode.DCT_DECODE,g=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=u||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,f=(function(w){for(var N,x=256*w.charCodeAt(4)+w.charCodeAt(5),T=w.length,k={width:0,height:0,numcomponents:1},O=4;O<T;O+=2){if(O+=x,e.indexOf(w.charCodeAt(O+1))!==-1){N=256*w.charCodeAt(O+5)+w.charCodeAt(O+6),k={width:256*w.charCodeAt(O+7)+w.charCodeAt(O+8),height:N,numcomponents:w.charCodeAt(O+9)};break}x=256*w.charCodeAt(O+2)+w.charCodeAt(O+3)}return k})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}g={data:r,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:m,index:n,alias:s}}return g}})(vt.API),vt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,o=Rj(t,{checkCrc:!0}),u=o.width,h=o.height,f=o.channels,m=o.palette,g=o.depth;s=m&&f===1?(function(Z){for(var V=Z.width,ye=Z.height,U=Z.data,F=Z.palette,oe=Z.depth,le=!1,_e=[],Q=[],ue=void 0,he=!1,je=0,me=0;me<F.length;me++){var z=mv(F[me],4),j=z[0],A=z[1],L=z[2],q=z[3];_e.push(j,A,L),q!=null&&(q===0?(je++,Q.length<1&&Q.push(me)):q<255&&(he=!0))}if(he||je>1){le=!0,Q=void 0;var te=V*ye;ue=new Uint8Array(te);for(var de=new DataView(U.buffer),ge=0;ge<te;ge++){var be=Vm(de,ge,oe),Te=mv(F[be],4)[3];ue[ge]=Te}}else je===0&&(Q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:le?8:void 0,colorBytes:U,alphaBytes:ue,needSMask:le,palette:_e,mask:Q}})(o):f===2||f===4?(function(Z){for(var V=Z.data,ye=Z.width,U=Z.height,F=Z.channels,oe=Z.depth,le=F===2?"DeviceGray":"DeviceRGB",_e=F-1,Q=ye*U,ue=_e,he=Q*ue,je=1*Q,me=Math.ceil(he*oe/8),z=Math.ceil(je*oe/8),j=new Uint8Array(me),A=new Uint8Array(z),L=new DataView(V.buffer),q=new DataView(j.buffer),te=new DataView(A.buffer),de=!1,ge=0;ge<Q;ge++){for(var be=ge*F,Te=0;Te<ue;Te++)by(q,Vm(L,be+Te,oe),ge*ue+Te,oe);var $e=Vm(L,be+ue,oe);$e<(1<<oe)-1&&(de=!0),by(te,$e,1*ge,oe)}return{colorSpace:le,colorsPerPixel:_e,sMaskBitsPerComponent:de?oe:void 0,colorBytes:j,alphaBytes:A,needSMask:de}})(o):(function(Z){var V=Z.data,ye=Z.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ye,colorsPerPixel:ye==="DeviceGray"?1:3,colorBytes:V instanceof Uint16Array?(function(U){for(var F=U.length,oe=new Uint8Array(2*F),le=new DataView(oe.buffer,oe.byteOffset,oe.byteLength),_e=0;_e<F;_e++)le.setUint16(2*_e,U[_e],!1);return oe})(V):V,needSMask:!1}})(o);var w,N,x,T=s,k=T.colorSpace,O=T.colorsPerPixel,R=T.sMaskBitsPerComponent,G=T.colorBytes,D=T.alphaBytes,W=T.needSMask,ie=T.palette,se=T.mask,K=null;return n!==vt.API.image_compression.NONE&&typeof yp=="function"?(K=(function(Z){var V;switch(Z){case vt.API.image_compression.FAST:V=11;break;case vt.API.image_compression.MEDIUM:V=13;break;case vt.API.image_compression.SLOW:V=14;break;default:V=12}return V})(n),w=this.decode.FLATE_DECODE,N="/Predictor ".concat(K," /Colors ").concat(O," /BitsPerComponent ").concat(g," /Columns ").concat(u),t=my(G,Math.ceil(u*O*g/8),O,g,n),W&&(x=my(D,Math.ceil(u*R/8),1,R,n))):(w=void 0,N=void 0,t=G,W&&(x=D)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:r,data:t,index:e,filter:w,decodeParameters:N,transparency:se,palette:ie,sMask:x,predictor:K,width:u,height:h,bitsPerComponent:g,sMaskBitsPerComponent:R,colorSpace:k}}},(function(t){t.processGIF89A=function(e,r,n,s){var o=new Qj(e),u=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var m={data:f,width:u,height:h},g=new Gm(100).encode(m,100);return t.processJPEG.call(this,g,r,n,s)},t.processGIF87A=t.processGIF89A})(vt.API),ys.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ys.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ur.log("bit decode error:"+r)}},ys.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+8*s*4,h=0;h<8&&8*s+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[u+4*h]=f.blue,this.data[u+4*h+1]=f.green,this.data[u+4*h+2]=f.red,this.data[u+4*h+3]=255}r!==0&&(this.pos+=4-r)}},ys.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var o=this.datav.getUint8(this.pos++,!0),u=n*this.width*4+2*s*4,h=o>>4,f=15&o,m=this.palette[h];if(this.data[u]=m.blue,this.data[u+1]=m.green,this.data[u+2]=m.red,this.data[u+3]=255,2*s+1>=this.width)break;m=this.palette[f],this.data[u+4]=m.blue,this.data[u+4+1]=m.green,this.data[u+4+2]=m.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},ys.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},ys.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,h=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,m=o>>15?255:0,g=n*this.width*4+4*s;this.data[g]=f,this.data[g+1]=h,this.data[g+2]=u,this.data[g+3]=m}this.pos+=t}},ys.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(u&e)/e*255|0,f=(u>>5&r)/r*255|0,m=(u>>11)/e*255|0,g=s*this.width*4+4*o;this.data[g]=m,this.data[g+1]=f,this.data[g+2]=h,this.data[g+3]=255}this.pos+=t}},ys.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*r;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=n,this.data[u+3]=255}this.pos+=this.width%4}},ys.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*r;this.data[h]=o,this.data[h+1]=s,this.data[h+2]=n,this.data[h+3]=u}},ys.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,s){var o=new ys(e,!1),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},m=new Gm(100).encode(f,100);return t.processJPEG.call(this,m,r,n,s)}})(vt.API),wy.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,s){var o=new wy(e),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},m=new Gm(100).encode(f,100);return t.processJPEG.call(this,m,r,n,s)}})(vt.API),vt.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),h=0,f=0,m=0;m<s;m+=4){var g=n[m],w=n[m+1],N=n[m+2],x=n[m+3];o[h++]=g,o[h++]=w,o[h++]=N,u[f++]=x}var T=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:T,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},vt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ku=vt.API,lf=ku.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:s.metadata.Unicode.widths,f=h.fof?h.fof:1,m=e.kerning?e.kerning:s.metadata.Unicode.kerning,g=m.fof?m.fof:1,w=e.doKerning!==!1,N=0,x=t.length,T=0,k=h[0]||f,O=[];for(r=0;r<x;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?O.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+u*(1e3/o)||0)/1e3):(N=w&&Er(m[n])==="object"&&!isNaN(parseInt(m[n][T],10))?m[n][T]/g:0,O.push((h[n]||k)/f+N)),T=n;return O},dy=ku.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return ku.processArabic&&(t=ku.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:lf.apply(this,arguments).reduce(function(o,u){return o+u},0)},hy=function(t,e,r,n){for(var s=[],o=0,u=t.length,h=0;o!==u&&h+e[o]<r;)h+=e[o],o++;s.push(t.slice(0,o));var f=o;for(h=0;o!==u;)h+e[o]>n&&(s.push(t.slice(f,o)),h=0,f=o),h+=e[o],o++;return f!==o&&s.push(t.slice(f,o)),s},fy=function(t,e,r){r||(r={});var n,s,o,u,h,f,m,g=[],w=[g],N=r.textIndent||0,x=0,T=0,k=t.split(" "),O=lf.apply(this,[" ",r])[0];if(f=r.lineIndent===-1?k[0].length+2:r.lineIndent||0){var R=Array(f).join(" "),G=[];k.map(function(W){(W=W.split(/\s*\n/)).length>1?G=G.concat(W.map(function(ie,se){return(se&&ie.length?`
`:"")+ie})):G.push(W[0])}),k=G,f=dy.apply(this,[R,r])}for(o=0,u=k.length;o<u;o++){var D=0;if(n=k[o],f&&n[0]==`
`&&(n=n.substr(1),D=1),N+x+(T=(s=lf.apply(this,[n,r])).reduce(function(W,ie){return W+ie},0))>e||D){if(T>e){for(h=hy.apply(this,[n,s,e-(N+x),e]),g.push(h.shift()),g=[h.pop()];h.length;)w.push([h.shift()]);T=s.slice(n.length-(g[0]?g[0].length:0)).reduce(function(W,ie){return W+ie},0)}else g=[n];w.push(g),N=T+f,x=O}else g.push(n),N+=x+T,x=O}return m=f?function(W,ie){return(ie?R:"")+W.join(" ")}:function(W){return W.join(" ")},w.map(m)},ku.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var w=this.internal.getFont(g.fontName,g.fontStyle),N="Unicode";return w.metadata[N]?{widths:w.metadata[N].widths||{0:1},kerning:w.metadata[N].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=r.lineIndent;var h,f,m=[];for(h=0,f=n.length;h<f;h++)m=m.concat(fy.apply(this,[n[h],u,o]));return m},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},o=0;o<16;o++)n[r[o]]=e[o],s[e[o]]=r[o];var u=function(N){return"0x"+parseInt(N,10).toString(16)},h=t.__fontmetrics__.compress=function(N){var x,T,k,O,R=["{"];for(var G in N){if(x=N[G],isNaN(parseInt(G,10))?T="'"+G+"'":(G=parseInt(G,10),T=(T=u(G).slice(2)).slice(0,-1)+s[T.slice(-1)]),typeof x=="number")x<0?(k=u(x).slice(3),O="-"):(k=u(x).slice(2),O=""),k=O+k.slice(0,-1)+s[k.slice(-1)];else{if(Er(x)!=="object")throw new Error("Don't know what to do with value type "+Er(x)+".");k=h(x)}R.push(T+k)}return R.push("}"),R.join("")},f=t.__fontmetrics__.uncompress=function(N){if(typeof N!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,T,k,O,R={},G=1,D=R,W=[],ie="",se="",K=N.length-1,Z=1;Z<K;Z+=1)(O=N[Z])=="'"?x?(k=x.join(""),x=void 0):x=[]:x?x.push(O):O=="{"?(W.push([D,k]),D={},k=void 0):O=="}"?((T=W.pop())[0][T[1]]=D,k=void 0,D=T[0]):O=="-"?G=-1:k===void 0?n.hasOwnProperty(O)?(ie+=n[O],k=parseInt(ie,16)*G,G=1,ie=""):ie+=O:n.hasOwnProperty(O)?(se+=n[O],D[k]=parseInt(se,16)*G,G=1,k=void 0,se=""):se+=O;return R},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(N){var x=N.font,T=w.Unicode[x.postScriptName];T&&(x.metadata.Unicode={},x.metadata.Unicode.widths=T.widths,x.metadata.Unicode.kerning=T.kerning);var k=g.Unicode[x.postScriptName];k&&(x.metadata.Unicode.encoding=k,x.encoding=k.codePages[0])}])})(vt.API),(function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),o=0;o<n;o++)s[o]=r.charCodeAt(o);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,o=r.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(gf(h)),u.metadata=t.API.TTFFont.open(h),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,n)}}])})(vt),vt.API.addSvgAsImage=function(t,e,r,n,s,o,u,h){if(isNaN(e)||isNaN(r))throw Ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw Ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=n,f.height=s;var m=f.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(Ft.canvg?Promise.resolve(Ft.canvg):jm(()=>import("./index.es-BPnqgQqB.js"),[])).catch(function(N){return Promise.reject(new Error("Could not load canvg: "+N))}).then(function(N){return N.default?N.default:N}).then(function(N){return N.fromString(m,t,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(g)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),e,r,n,s,u,h)})},vt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},vt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(u),f=[],m=0,g=0,w=0;function N(T,k){var O,R=!1;for(O=0;O<T.length;O+=1)T[O]===k&&(R=!0);return R}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var x=h.length;for(w=0;w<x;w+=1)r[h[w]].value=r[h[w]].defaultValue,r[h[w]].explicitSet=!1}if(Er(t)==="object"){for(s in t)if(o=t[s],N(h,s)&&o!==void 0){if(r[s].type==="boolean"&&typeof o=="boolean")r[s].value=o;else if(r[s].type==="name"&&N(r[s].valueSet,o))r[s].value=o;else if(r[s].type==="integer"&&Number.isInteger(o))r[s].value=o;else if(r[s].type==="array"){for(m=0;m<o.length;m+=1)if(n=!0,o[m].length===1&&typeof o[m][0]=="number")f.push(String(o[m]-1));else if(o[m].length>1){for(g=0;g<o[m].length;g+=1)typeof o[m][g]!="number"&&(n=!1);n===!0&&f.push([o[m][0]-1,o[m][1]-1].join(" "))}r[s].value="["+f.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,k=[];for(T in r)r[T].explicitSet===!0&&(r[T].type==="name"?k.push("/"+T+" /"+r[T].value):k.push("/"+T+" "+r[T].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),m=o.length+u.length+h.length+s.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(s+o+u+h+f),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(vt.API),(function(t){var e=t.API,r=e.pdfEscape16=function(o,u){for(var h,f=u.metadata.Unicode.widths,m=["","0","00","000","0000"],g=[""],w=0,N=o.length;w<N;++w){if(h=u.metadata.characterToGlyph(o.charCodeAt(w)),u.metadata.glyIdsUsed.push(h),u.metadata.toUnicode[h]=o.charCodeAt(w),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(u.metadata.widthOfGlyph(h),10)])),h=="0")return g.join("");h=h.toString(16),g.push(m[4-h.length],h)}return g.join("")},n=function(o){var u,h,f,m,g,w,N;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,N=(h=Object.keys(o).sort(function(x,T){return x-T})).length;w<N;w++)u=h[w],f.length>=100&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(m=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+m+">"));return f.length&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,m=u.newObject,g=u.putStream;if(h.metadata instanceof t.API.TTFFont&&h.encoding==="Identity-H"){for(var w=h.metadata.Unicode.widths,N=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),x="",T=0;T<N.length;T++)x+=String.fromCharCode(N[T]);var k=m();g({data:x,addLength1:!0,objectId:k}),f("endobj");var O=m();g({data:n(h.metadata.toUnicode),addLength1:!0,objectId:O}),f("endobj");var R=m();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Du(h.fontName)),f("/FontFile2 "+k+" 0 R"),f("/FontBBox "+t.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var G=m();f("<<"),f("/Type /Font"),f("/BaseFont /"+Du(h.fontName)),f("/FontDescriptor "+R+" 0 R"),f("/W "+t.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=m(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+O+" 0 R"),f("/BaseFont /"+Du(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+G+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,m=u.newObject,g=u.putStream;if(h.metadata instanceof t.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var w=h.metadata.rawData,N="",x=0;x<w.length;x++)N+=String.fromCharCode(w[x]);var T=m();g({data:N,addLength1:!0,objectId:T}),f("endobj");var k=m();g({data:n(h.metadata.toUnicode),addLength1:!0,objectId:k}),f("endobj");var O=m();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+T+" 0 R"),f("/Flags 96"),f("/FontBBox "+t.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+Du(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=m();for(var R=0;R<h.metadata.hmtx.widths.length;R++)h.metadata.hmtx.widths[R]=parseInt(h.metadata.hmtx.widths[R]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+Du(h.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,h=o.text||"",f=o.x,m=o.y,g=o.options||{},w=o.mutex||{},N=w.pdfEscape,x=w.activeFontKey,T=w.fonts,k=x,O="",R=0,G="",D=T[k].encoding;if(T[k].encoding!=="Identity-H")return{text:h,x:f,y:m,options:g,mutex:w};for(G=h,k=x,Array.isArray(h)&&(G=h[0]),R=0;R<G.length;R+=1)T[k].metadata.hasOwnProperty("cmap")&&(u=T[k].metadata.cmap.unicode.codeMap[G[R].charCodeAt(0)]),u||G[R].charCodeAt(0)<256&&T[k].metadata.hasOwnProperty("Unicode")?O+=G[R]:O+="";var W="";return parseInt(k.slice(1))<14||D==="WinAnsiEncoding"?W=N(O,k).split("").map(function(ie){return ie.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(W=r(O,T[k])),w.isHex=!0,{text:W,x:f,y:m,options:g,mutex:w}};e.events.push(["postProcessText",function(o){var u=o.text||"",h=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var m=0;for(m=0;m<u.length;m+=1)Array.isArray(u[m])&&u[m].length===3?h.push([s(Object.assign({},f,{text:u[m][0]})).text,u[m][1],u[m][2]]):h.push(s(Object.assign({},f,{text:u[m]})).text);o.text=h}else o.text=s(Object.assign({},f,{text:u})).text}])})(vt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(vt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,o,u,h,f,m,g,w=e,N=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],R=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),G=!1,D=0;this.__bidiEngine__={};var W=function(U){var F=U.charCodeAt(),oe=F>>8,le=k[oe];return le!==void 0?w[256*le+(255&F)]:oe===252||oe===253?"AL":R.test(oe)?"L":oe===8?"R":"N"},ie=function(U){for(var F,oe=0;oe<U.length;oe++){if((F=W(U.charAt(oe)))==="L")return!1;if(F==="R")return!0}return!1},se=function(U,F,oe,le){var _e,Q,ue,he,je=F[le];switch(je){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":G=!1;break;case"N":case"AN":break;case"EN":G&&(je="AN");break;case"AL":G=!0,je="R";break;case"WS":case"BN":je="N";break;case"CS":le<1||le+1>=F.length||(_e=oe[le-1])!=="EN"&&_e!=="AN"||(Q=F[le+1])!=="EN"&&Q!=="AN"?je="N":G&&(Q="AN"),je=Q===_e?Q:"N";break;case"ES":je=(_e=le>0?oe[le-1]:"B")==="EN"&&le+1<F.length&&F[le+1]==="EN"?"EN":"N";break;case"ET":if(le>0&&oe[le-1]==="EN"){je="EN";break}if(G){je="N";break}for(ue=le+1,he=F.length;ue<he&&F[ue]==="ET";)ue++;je=ue<he&&F[ue]==="EN"?"EN":"N";break;case"NSM":if(u&&!h){for(he=F.length,ue=le+1;ue<he&&F[ue]==="NSM";)ue++;if(ue<he){var me=U[le],z=me>=1425&&me<=2303||me===64286;if(_e=F[ue],z&&(_e==="R"||_e==="AL")){je="R";break}}}je=le<1||(_e=F[le-1])==="B"?"N":oe[le-1];break;case"B":G=!1,s=!0,je=D;break;case"S":o=!0,je="N"}return je},K=function(U,F,oe){var le=U.split("");return oe&&Z(le,oe,{hiLevel:D}),le.reverse(),F&&F.reverse(),le.join("")},Z=function(U,F,oe){var le,_e,Q,ue,he,je=-1,me=U.length,z=0,j=[],A=D?x:N,L=[];for(G=!1,s=!1,o=!1,_e=0;_e<me;_e++)L[_e]=W(U[_e]);for(Q=0;Q<me;Q++){if(he=z,j[Q]=se(U,L,j,Q),le=240&(z=A[he][T[j[Q]]]),z&=15,F[Q]=ue=A[z][5],le>0)if(le===16){for(_e=je;_e<Q;_e++)F[_e]=1;je=-1}else je=-1;if(A[z][6])je===-1&&(je=Q);else if(je>-1){for(_e=je;_e<Q;_e++)F[_e]=ue;je=-1}L[Q]==="B"&&(F[Q]=0),oe.hiLevel|=ue}o&&(function(q,te,de){for(var ge=0;ge<de;ge++)if(q[ge]==="S"){te[ge]=D;for(var be=ge-1;be>=0&&q[be]==="WS";be--)te[be]=D}})(L,F,me)},V=function(U,F,oe,le,_e){if(!(_e.hiLevel<U)){if(U===1&&D===1&&!s)return F.reverse(),void(oe&&oe.reverse());for(var Q,ue,he,je,me=F.length,z=0;z<me;){if(le[z]>=U){for(he=z+1;he<me&&le[he]>=U;)he++;for(je=z,ue=he-1;je<ue;je++,ue--)Q=F[je],F[je]=F[ue],F[ue]=Q,oe&&(Q=oe[je],oe[je]=oe[ue],oe[ue]=Q);z=he}z++}}},ye=function(U,F,oe){var le=U.split(""),_e={hiLevel:D};return oe||(oe=[]),Z(le,oe,_e),(function(Q,ue,he){if(he.hiLevel!==0&&g)for(var je,me=0;me<Q.length;me++)ue[me]===1&&(je=O.indexOf(Q[me]))>=0&&(Q[me]=O[je+1])})(le,oe,_e),V(2,le,F,oe,_e),V(1,le,F,oe,_e),le.join("")};return this.__bidiEngine__.doBidiReorder=function(U,F,oe){if((function(_e,Q){if(Q)for(var ue=0;ue<_e.length;ue++)Q[ue]=ue;h===void 0&&(h=ie(_e)),m===void 0&&(m=ie(_e))})(U,F),u||!f||m)if(u&&f&&h^m)D=h?1:0,U=K(U,F,oe);else if(!u&&f&&m)D=h?1:0,U=ye(U,F,oe),U=K(U,F);else if(!u||h||f||m){if(u&&!f&&h^m)U=K(U,F),h?(D=0,U=ye(U,F,oe)):(D=1,U=ye(U,F,oe),U=K(U,F));else if(u&&h&&!f&&m)D=1,U=ye(U,F,oe),U=K(U,F);else if(!u&&!f&&h^m){var le=g;h?(D=1,U=ye(U,F,oe),D=0,g=!1,U=ye(U,F,oe),g=le):(D=0,U=ye(U,F,oe),U=K(U,F),D=1,g=!1,U=ye(U,F,oe),g=le,U=K(U,F))}}else D=0,U=ye(U,F,oe);else D=h?1:0,U=ye(U,F,oe);return U},this.__bidiEngine__.setOptions=function(U){U&&(u=U.isInputVisual,f=U.isOutputVisual,h=U.isInputRtl,m=U.isOutputRtl,g=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var h=0;for(u=[],h=0;h<s.length;h+=1)Object.prototype.toString.call(s[h])==="[object Array]"?u.push([r.doBidiReorder(s[h][0]),s[h][1],s[h][2]]):u.push([r.doBidiReorder(s[h])]);n.text=u}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])})(vt),vt.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Rl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new m8(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new e8(this.contents),this.head=new r8(this),this.name=new o8(this),this.cmap=new cx(this),this.toUnicode={},this.hhea=new a8(this),this.maxp=new l8(this),this.hmtx=new c8(this),this.post=new i8(this),this.os2=new n8(this),this.loca=new f8(this),this.glyf=new u8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,h,f,m;for(m=[],u=0,h=(f=this.bbox).length;u<h;u++)e=f[u],m.push(Math.round(e*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,o,u,h;for(u=0,o=0,h=(e=""+e).length;0<=h?o<h:o>h;o=0<=h?++o:--o)s=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return u*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var js,Rl=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,o,u,h,f;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),h=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^h)+(255^f)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*o+65536*u+256*h+f},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,o;for(o=[],n=0,s=e.length;n<s;n++)r=e[n],o.push(this.writeByte(r));return o},t})(),e8=(function(){var t;function e(r){var n,s,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,o,u,h,f,m,g,w,N,x,T,k;for(k in x=Object.keys(r).length,f=Math.log(2),w=16*Math.floor(Math.log(x)/f),u=Math.floor(w/f),g=16*x-w,(s=new Rl).writeInt(this.scalarType),s.writeShort(x),s.writeShort(w),s.writeShort(u),s.writeShort(g),o=16*x,m=s.pos+o,h=null,T=[],r)for(N=r[k],s.writeString(k),s.writeInt(t(N)),s.writeInt(m),s.writeInt(N.length),T=T.concat(N),k==="head"&&(h=m),m+=N.length;m%4;)T.push(0),m++;return s.write(T),n=2981146554-t(s.data),s.pos=h+8,s.writeUInt32(n),s.data},t=function(r){var n,s,o,u;for(r=ux.call(r);r.length%4;)r.push(0);for(o=new Rl(r),s=0,n=0,u=r.length;n<u;n=n+=4)s+=o.readUInt32();return 4294967295&s},e})(),t8={}.hasOwnProperty,eo=function(t,e){for(var r in e)t8.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};js=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var r8=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Rl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),_y=(function(){function t(e,r){var n,s,o,u,h,f,m,g,w,N,x,T,k,O,R,G,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(x=e.readUInt16(),N=x/2,e.pos+=6,o=(function(){var W,ie;for(ie=[],f=W=0;0<=N?W<N:W>N;f=0<=N?++W:--W)ie.push(e.readUInt16());return ie})(),e.pos+=2,k=(function(){var W,ie;for(ie=[],f=W=0;0<=N?W<N:W>N;f=0<=N?++W:--W)ie.push(e.readUInt16());return ie})(),m=(function(){var W,ie;for(ie=[],f=W=0;0<=N?W<N:W>N;f=0<=N?++W:--W)ie.push(e.readUInt16());return ie})(),g=(function(){var W,ie;for(ie=[],f=W=0;0<=N?W<N:W>N;f=0<=N?++W:--W)ie.push(e.readUInt16());return ie})(),s=(this.length-e.pos+this.offset)/2,h=(function(){var W,ie;for(ie=[],f=W=0;0<=s?W<s:W>s;f=0<=s?++W:--W)ie.push(e.readUInt16());return ie})(),f=R=0,D=o.length;R<D;f=++R)for(O=o[f],n=G=T=k[f];T<=O?G<=O:G>=O;n=T<=O?++G:--G)g[f]===0?u=n+m[f]:(u=h[g[f]/2+(n-T)-(N-f)]||0)!==0&&(u+=m[f]),this.codeMap[n]=65535&u}e.pos=w}return t.encode=function(e,r){var n,s,o,u,h,f,m,g,w,N,x,T,k,O,R,G,D,W,ie,se,K,Z,V,ye,U,F,oe,le,_e,Q,ue,he,je,me,z,j,A,L,q,te,de,ge,be,Te,$e,tt;switch(le=new Rl,u=Object.keys(e).sort(function(ce,Me){return ce-Me}),r){case"macroman":for(k=0,O=(function(){var ce=[];for(T=0;T<256;++T)ce.push(0);return ce})(),G={0:0},o={},_e=0,je=u.length;_e<je;_e++)G[be=e[s=u[_e]]]==null&&(G[be]=++k),o[s]={old:e[s],new:G[e[s]]},O[s]=G[e[s]];return le.writeUInt16(1),le.writeUInt16(0),le.writeUInt32(12),le.writeUInt16(0),le.writeUInt16(262),le.writeUInt16(0),le.write(O),{charMap:o,subtable:le.data,maxGlyphID:k+1};case"unicode":for(F=[],w=[],D=0,G={},n={},R=m=null,Q=0,me=u.length;Q<me;Q++)G[ie=e[s=u[Q]]]==null&&(G[ie]=++D),n[s]={old:ie,new:G[ie]},h=G[ie]-s,R!=null&&h===m||(R&&w.push(R),F.push(s),m=h),R=s;for(R&&w.push(R),w.push(65535),F.push(65535),ye=2*(V=F.length),Z=2*Math.pow(Math.log(V)/Math.LN2,2),N=Math.log(Z/2)/Math.LN2,K=2*V-Z,f=[],se=[],x=[],T=ue=0,z=F.length;ue<z;T=++ue){if(U=F[T],g=w[T],U===65535){f.push(0),se.push(0);break}if(U-(oe=n[U].new)>=32768)for(f.push(0),se.push(2*(x.length+V-T)),s=he=U;U<=g?he<=g:he>=g;s=U<=g?++he:--he)x.push(n[s].new);else f.push(oe-U),se.push(0)}for(le.writeUInt16(3),le.writeUInt16(1),le.writeUInt32(12),le.writeUInt16(4),le.writeUInt16(16+8*V+2*x.length),le.writeUInt16(0),le.writeUInt16(ye),le.writeUInt16(Z),le.writeUInt16(N),le.writeUInt16(K),de=0,j=w.length;de<j;de++)s=w[de],le.writeUInt16(s);for(le.writeUInt16(0),ge=0,A=F.length;ge<A;ge++)s=F[ge],le.writeUInt16(s);for(Te=0,L=f.length;Te<L;Te++)h=f[Te],le.writeUInt16(h);for($e=0,q=se.length;$e<q;$e++)W=se[$e],le.writeUInt16(W);for(tt=0,te=x.length;tt<te;tt++)k=x[tt],le.writeUInt16(k);return{charMap:n,subtable:le.data,maxGlyphID:D+1}}},t})(),cx=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new _y(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,s;return r==null&&(r="macroman"),n=_y.encode(e,r),(s=new Rl).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},t})(),a8=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),n8=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),i8=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)r=e.readByte(),s.push(this.names.push(e.readString(r)));return s;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var u,h,f;for(f=[],o=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;o=0<=h?++u:--u)f.push(e.readUInt32());return f}).call(this)}},t})(),s8=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},o8=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,s,o,u,h,f,m,g,w,N;for(e.pos=this.offset,e.readShort(),r=e.readShort(),h=e.readShort(),n=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(f={},o=g=0,w=n.length;g<w;o=++g)s=n[o],e.pos=s.offset,m=e.readString(s.length),u=new s8(m,s),f[N=s.nameID]==null&&(f[N]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t})(),l8=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),c8=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,s,o,u,h,f;for(e.pos=this.offset,this.metrics=[],r=0,h=this.file.hhea.numberOfMetrics;0<=h?r<h:r>h;r=0<=h?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,g;for(g=[],r=m=0;0<=s?m<s:m>s;r=0<=s?++m:--m)g.push(e.readInt16());return g})(),this.widths=(function(){var m,g,w,N;for(N=[],m=0,g=(w=this.metrics).length;m<g;m++)o=w[m],N.push(o.advance);return N}).call(this),n=this.widths[this.widths.length-1],f=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)f.push(this.widths.push(n));return f},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),ux=[].slice,u8=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,s,o,u,h,f,m,g,w;return e in this.cache?this.cache[e]:(o=this.file.loca,r=this.file.contents,n=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,u=(h=new Rl(r.read(s))).readShort(),m=h.readShort(),w=h.readShort(),f=h.readShort(),g=h.readShort(),this.cache[e]=u===-1?new h8(h,m,w,f,g):new d8(h,u,m,w,f,g),this.cache[e]))},t.prototype.encode=function(e,r,n){var s,o,u,h,f;for(u=[],o=[],h=0,f=r.length;h<f;h++)s=e[r[h]],o.push(u.length),s&&(u=u.concat(s.encode(n)));return o.push(u.length),{table:u,offsets:o}},t})(),d8=(function(){function t(e,r,n,s,o,u){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),h8=(function(){function t(e,r,n,s,o){var u,h;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;h=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&h;)u.pos+=1&h?4:2,128&h?u.pos+=8:64&h?u.pos+=4:8&h&&(u.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Rl(ux.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),f8=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return eo(t,js),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],n=0,s=this.length;n<s;n+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],n=0,s=this.length;n<s;n+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<n.length;++u)if(n[u]=s,o<r.length&&r[o]==u){++o,n[u]=s;var h=this.offsets[u],f=this.offsets[u+1]-h;f>0&&(s+=f)}for(var m=new Array(4*n.length),g=0;g<n.length;++g)m[4*g+3]=255&n[g],m[4*g+2]=(65280&n[g])>>8,m[4*g+1]=(16711680&n[g])>>16,m[4*g]=(4278190080&n[g])>>24;return m},t})(),m8=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,o;for(r in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,o,u,h,f;for(s={},u=0,h=e.length;u<h;u++)s[o=e[u]]=this.font.glyf.glyphFor(o);for(o in r=[],s)(n=s[o])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(o in f=this.glyphsFor(r))n=f[o],s[o]=n;return s},t.prototype.encode=function(e,r){var n,s,o,u,h,f,m,g,w,N,x,T,k,O,R;for(s in n=cx.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),x={0:0},R=n.charMap)x[(f=R[s]).old]=f.new;for(T in N=n.maxGlyphID,u)T in x||(x[T]=N++);return g=(function(G){var D,W;for(D in W={},G)W[G[D]]=D;return W})(x),w=Object.keys(g).sort(function(G,D){return G-D}),k=(function(){var G,D,W;for(W=[],G=0,D=w.length;G<D;G++)h=w[G],W.push(g[h]);return W})(),o=this.font.glyf.encode(u,k,x),m=this.font.loca.encode(o.offsets,k),O={cmap:this.font.cmap.raw(),glyf:o.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},t})();vt.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,o,u;if(Array.isArray(r))return"["+(function(){var h,f,m;for(m=[],h=0,f=r.length;h<f;h++)n=r[h],m.push(e.convert(n));return m})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in o=["<<"],r)u=r[s],o.push("/"+s+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+r},e})();function dx(t,e,r,n,s){n=n||{};var o=1.15,u=s.internal.scaleFactor,h=s.internal.getFontSize()/u,f=s.getLineHeightFactor?s.getLineHeightFactor():o,m=h*f,g=/\r\n|\r|\n/g,w="",N=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(w=typeof t=="string"?t.split(g):t,N=w.length||1),r+=h*(2-o),n.valign==="middle"?r-=N/2*m:n.valign==="bottom"&&(r-=N*m),n.halign==="center"||n.halign==="right"){var x=h;if(n.halign==="center"&&(x*=.5),w&&N>=1){for(var T=0;T<w.length;T++)s.text(w[T],e-s.getStringUnitWidth(w[T])*x,r),r+=m;return s}e-=s.getStringUnitWidth(t)*x}return n.halign==="justify"?s.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(t,e,r),s}var Ny={},Fu=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:Ny=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,s,o;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var u=this.jsPDFDocument.internal.getFont(),h=u.fontStyle,f=u.fontName;if(e.font&&(f=e.font),e.fontStyle){h=e.fontStyle;var m=this.getFontList()[f];m&&m.indexOf(h)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(m[0]),h=m[0])}if(this.jsPDFDocument.setFont(f,h),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var g=t.unifyColor(e.fillColor);g&&(n=this.jsPDFDocument).setFillColor.apply(n,g),g=t.unifyColor(e.textColor),g&&(s=this.jsPDFDocument).setTextColor.apply(s,g),g=t.unifyColor(e.lineColor),g&&(o=this.jsPDFDocument).setDrawColor.apply(o,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,s,o){return this.jsPDFDocument.rect(e,r,n,s,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Ny||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),Ap=function(t,e){return Ap=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ap(t,e)};function hx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ap(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fx=(function(t){hx(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e})(Array);function p8(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function g8(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Of(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],s=n.map(function(o){return r.getTextWidth(o)}).reduce(function(o,u){return Math.max(o,u)},0);return s}function mx(t,e,r,n){var s=e.settings.tableLineWidth,o=e.settings.tableLineColor;t.applyStyles({lineWidth:s,lineColor:o});var u=px(s,!1);u&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,u)}function px(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function Hf(t,e){var r,n,s,o;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(s=t.right)!==null&&s!==void 0?s:e,bottom:(o=t.bottom)!==null&&o!==void 0?o:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function gx(t,e){var r=Hf(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function v8(t,e,r,n,s){var o={},u=1.3333333333333333,h=Wm(e,function(D){return s.getComputedStyle(D).backgroundColor});h!=null&&(o.fillColor=h);var f=Wm(e,function(D){return s.getComputedStyle(D).color});f!=null&&(o.textColor=f);var m=b8(n,r);m&&(o.cellPadding=m);var g="borderTopColor",w=u*r,N=n.borderTopWidth;if(n.borderBottomWidth===N&&n.borderRightWidth===N&&n.borderLeftWidth===N){var x=(parseFloat(N)||0)/w;x&&(o.lineWidth=x)}else o.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/w,right:(parseFloat(n.borderRightWidth)||0)/w,bottom:(parseFloat(n.borderBottomWidth)||0)/w,left:(parseFloat(n.borderLeftWidth)||0)/w},o.lineWidth.top||(o.lineWidth.right?g="borderRightColor":o.lineWidth.bottom?g="borderBottomColor":o.lineWidth.left&&(g="borderLeftColor"));var T=Wm(e,function(D){return s.getComputedStyle(D)[g]});T!=null&&(o.lineColor=T);var k=["left","right","center","justify"];k.indexOf(n.textAlign)!==-1&&(o.halign=n.textAlign),k=["middle","bottom","top"],k.indexOf(n.verticalAlign)!==-1&&(o.valign=n.verticalAlign);var O=parseInt(n.fontSize||"");isNaN(O)||(o.fontSize=O/u);var R=y8(n);R&&(o.fontStyle=R);var G=(n.fontFamily||"").toLowerCase();return t.indexOf(G)!==-1&&(o.font=G),o}function y8(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Wm(t,e){var r=vx(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],o=parseInt(n[4]);return o===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function vx(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:vx(t.parentElement,e):r}function b8(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),s=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,o=r.map(function(h){return parseInt(h||"0")/n}),u=Hf(o,0);return s>u.top&&(u.top=s),s>u.bottom&&(u.bottom=s),u}function yx(t,e,r,n,s){var o,u;n===void 0&&(n=!1),s===void 0&&(s=!1);var h;typeof e=="string"?h=r.document.querySelector(e):h=e;var f=Object.keys(t.getFontList()),m=t.scaleFactor(),g=[],w=[],N=[];if(!h)return console.error("Html table could not be found with input: ",e),{head:g,body:w,foot:N};for(var x=0;x<h.rows.length;x++){var T=h.rows[x],k=(u=(o=T==null?void 0:T.parentElement)===null||o===void 0?void 0:o.tagName)===null||u===void 0?void 0:u.toLowerCase(),O=x8(f,m,r,T,n,s);O&&(k==="thead"?g.push(O):k==="tfoot"?N.push(O):w.push(O))}return{head:g,body:w,foot:N}}function x8(t,e,r,n,s,o){for(var u=new fx(n),h=0;h<n.cells.length;h++){var f=n.cells[h],m=r.getComputedStyle(f);if(s||m.display!=="none"){var g=void 0;o&&(g=v8(t,f,e,m,r)),u.push({rowSpan:f.rowSpan,colSpan:f.colSpan,styles:g,_element:f,content:w8(f)})}}var w=r.getComputedStyle(n);if(u.length>0&&(s||w.display!=="none"))return u}function w8(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function _8(t,e,r){for(var n=0,s=[t,e,r];n<s.length;n++){var o=s[n];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Uo(t,e,r,n,s){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),u=1;u<arguments.length;u++){var h=arguments[u];if(h!=null)for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(o[f]=h[f])}return o}function bx(t,e){var r=new Fu(t),n=r.getDocumentOptions(),s=r.getGlobalOptions();_8(s,n,e);var o=Uo({},s,n,e),u;typeof window<"u"&&(u=window);var h=N8(s,n,e),f=S8(s,n,e),m=j8(r,o),g=E8(r,o,u);return{id:e.tableId,content:g,hooks:f,styles:h,settings:m}}function N8(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(f){if(f==="columnStyles"){var m=t[f],g=e[f],w=r[f];n.columnStyles=Uo({},m,g,w)}else{var N=[t,e,r],x=N.map(function(T){return T[f]||{}});n[f]=Uo({},x[0],x[1],x[2])}},o=0,u=Object.keys(n);o<u.length;o++){var h=u[o];s(h)}return n}function S8(t,e,r){for(var n=[t,e,r],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,u=n;o<u.length;o++){var h=u[o];h.didParseCell&&s.didParseCell.push(h.didParseCell),h.willDrawCell&&s.willDrawCell.push(h.willDrawCell),h.didDrawCell&&s.didDrawCell.push(h.didDrawCell),h.willDrawPage&&s.willDrawPage.push(h.willDrawPage),h.didDrawPage&&s.didDrawPage.push(h.didDrawPage)}return s}function j8(t,e){var r,n,s,o,u,h,f,m,g,w,N,x,T=Hf(e.margin,40/t.scaleFactor()),k=(r=A8(t,e.startY))!==null&&r!==void 0?r:T.top,O;e.showFoot===!0?O="everyPage":e.showFoot===!1?O="never":O=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var R;e.showHead===!0?R="everyPage":e.showHead===!1?R="never":R=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var G=(o=e.useCss)!==null&&o!==void 0?o:!1,D=e.theme||(G?"plain":"striped"),W=!!e.horizontalPageBreak,ie=(u=e.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(h=e.includeHiddenHtml)!==null&&h!==void 0?h:!1,useCss:G,theme:D,startY:k,margin:T,pageBreak:(f=e.pageBreak)!==null&&f!==void 0?f:"auto",rowPageBreak:(m=e.rowPageBreak)!==null&&m!==void 0?m:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:R,showFoot:O,tableLineWidth:(w=e.tableLineWidth)!==null&&w!==void 0?w:0,tableLineColor:(N=e.tableLineColor)!==null&&N!==void 0?N:200,horizontalPageBreak:W,horizontalPageBreakRepeat:ie,horizontalPageBreakBehaviour:(x=e.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function A8(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),s=t.pageNumber(),o=!1;if(r&&r.startPageNumber){var u=r.startPageNumber+r.pageNumber-1;o=u===s}return typeof e=="number"?e:(e==null||e===!1)&&o&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function E8(t,e,r){var n=e.head||[],s=e.body||[],o=e.foot||[];if(e.html){var u=e.includeHiddenHtml;if(r){var h=yx(t,e.html,r,u,e.useCss)||{};n=h.head||n,s=h.body||n,o=h.foot||n}else console.error("Cannot parse html in non browser environment")}var f=e.columns||C8(n,s,o);return{columns:f,head:n,body:s,foot:o}}function C8(t,e,r){var n=t[0]||e[0]||r[0]||[],s=[];return Object.keys(n).filter(function(o){return o!=="_element"}).forEach(function(o){var u=1,h;Array.isArray(n)?h=n[parseInt(o)]:h=n[o],typeof h=="object"&&!Array.isArray(h)&&(u=(h==null?void 0:h.colSpan)||1);for(var f=0;f<u;f++){var m=void 0;Array.isArray(n)?m=s.length:m=o+(f>0?"_".concat(f):"");var g={dataKey:m};s.push(g)}}),s}var Ep=(function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t})(),k8=(function(t){hx(e,t);function e(r,n,s,o,u,h){var f=t.call(this,r,n,h)||this;return f.cell=s,f.row=o,f.column=u,f.section=o.section,f}return e})(Ep),T8=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,s,o,u){for(var h=0,f=r;h<f.length;h++){var m=f[h],g=new k8(e,this,n,s,o,u),w=m(g)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],w)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var o=s[n];o(new Ep(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var o=s[n];o(new Ep(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(s,o){return s+o.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t})(),xx=(function(){function t(e,r,n,s,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof fx&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=s,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,s){var o;return Math.max(n,((o=r.cells[s.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var s=r.cells[n.index];return s?s.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(s,o){var u=n.cells[o.index];if(!u)return 0;var h=r.getLineHeight(u.styles.fontSize),f=u.padding("vertical"),m=f+h;return m>s?m:s},0)},t})(),wx=(function(){function t(e,r,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var u=o!=null?""+o:"",h=/\r\n|\r|\n/g;this.text=u.split(h)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*r,o=n*s+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Hf(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),L8=(function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,s=e.allRows();n<s.length;n++){var o=s[n],u=o.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(r=Math.max(r,u.styles.cellWidth))}return r},t})();function R8(t,e){O8(t,e);var r=[],n=0;e.columns.forEach(function(o){var u=o.getMaxCustomCellWidth(e);u?o.width=u:(o.width=o.wrappedWidth,r.push(o)),n+=o.width});var s=e.getWidth(t.pageSize().width)-n;s&&(s=Cp(r,s,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),s&&(s=Cp(r,s,function(o){return o.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/t.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),M8(e),B8(e,t),D8(e)}function O8(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,s=gx(t,e);e.allRows().forEach(function(o){for(var u=0,h=e.columns;u<h.length;u++){var f=h[u],m=o.cells[f.index];if(m){var g=e.hooks.didParseCell;e.callCellHooks(t,g,m,o,f,null);var w=m.padding("horizontal");m.contentWidth=Of(m.text,m.styles,t)+w;var N=Of(m.text.join(" ").split(/[^\S\u00A0]+/),m.styles,t);if(m.minReadableWidth=N+m.padding("horizontal"),typeof m.styles.cellWidth=="number")m.minWidth=m.styles.cellWidth,m.wrappedWidth=m.styles.cellWidth;else if(m.styles.cellWidth==="wrap"||n===!0)m.contentWidth>s?(m.minWidth=s,m.wrappedWidth=s):(m.minWidth=m.contentWidth,m.wrappedWidth=m.contentWidth);else{var x=10/r;m.minWidth=m.styles.minCellWidth||x,m.wrappedWidth=m.contentWidth,m.minWidth>m.wrappedWidth&&(m.wrappedWidth=m.minWidth)}}}}),e.allRows().forEach(function(o){for(var u=0,h=e.columns;u<h.length;u++){var f=h[u],m=o.cells[f.index];if(m&&m.colSpan===1)f.wrappedWidth=Math.max(f.wrappedWidth,m.wrappedWidth),f.minWidth=Math.max(f.minWidth,m.minWidth),f.minReadableWidth=Math.max(f.minReadableWidth,m.minReadableWidth);else{var g=e.styles.columnStyles[f.dataKey]||e.styles.columnStyles[f.index]||{},w=g.cellWidth||g.minCellWidth;w&&typeof w=="number"&&(f.minWidth=w,f.wrappedWidth=w)}m&&(m.colSpan>1&&!f.minWidth&&(f.minWidth=m.minWidth),m.colSpan>1&&!f.wrappedWidth&&(f.wrappedWidth=m.minWidth))}})}function Cp(t,e,r){for(var n=e,s=t.reduce(function(x,T){return x+T.wrappedWidth},0),o=0;o<t.length;o++){var u=t[o],h=u.wrappedWidth/s,f=n*h,m=u.width+f,g=r(u),w=m<g?g:m;e-=w-u.width,u.width=w}if(e=Math.round(e*1e10)/1e10,e){var N=t.filter(function(x){return e<0?x.width>r(x):!0});N.length&&(e=Cp(N,e,r))}return e}function D8(t){for(var e={},r=1,n=t.allRows(),s=0;s<n.length;s++)for(var o=n[s],u=0,h=t.columns;u<h.length;u++){var f=h[u],m=e[f.index];if(r>1)r--,delete o.cells[f.index];else if(m)m.cell.height+=o.height,r=m.cell.colSpan,delete o.cells[f.index],m.left--,m.left<=1&&delete e[f.index];else{var g=o.cells[f.index];if(!g)continue;if(g.height=o.height,g.rowSpan>1){var w=n.length-s,N=g.rowSpan>w?w:g.rowSpan;e[f.index]={cell:g,left:N,row:o}}}}}function M8(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],s=null,o=0,u=0,h=0;h<t.columns.length;h++){var f=t.columns[h];if(u-=1,u>1&&t.columns[h+1])o+=f.width,delete n.cells[f.index];else if(s){var m=s;delete n.cells[f.index],s=null,m.width=f.width+o}else{var m=n.cells[f.index];if(!m)continue;if(u=m.colSpan,o=0,m.colSpan>1){s=m,o+=f.width;continue}m.width=f.width+o}}}function B8(t,e){for(var r={count:0,height:0},n=0,s=t.allRows();n<s.length;n++){for(var o=s[n],u=0,h=t.columns;u<h.length;u++){var f=h[u],m=o.cells[f.index];if(m){e.applyStyles(m.styles,!0);var g=m.width-m.padding("horizontal");if(m.styles.overflow==="linebreak")m.text=e.splitTextToSize(m.text,g+1/e.scaleFactor(),{fontSize:m.styles.fontSize});else if(m.styles.overflow==="ellipsize")m.text=Sy(m.text,g,m.styles,e,"...");else if(m.styles.overflow==="hidden")m.text=Sy(m.text,g,m.styles,e,"");else if(typeof m.styles.overflow=="function"){var w=m.styles.overflow(m.text,g);typeof w=="string"?m.text=[w]:m.text=w}m.contentHeight=m.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var N=m.contentHeight/m.rowSpan;m.rowSpan>1&&r.count*r.height<N*m.rowSpan?r={height:N,count:m.rowSpan}:r&&r.count>0&&r.height>N&&(N=r.height),N>o.height&&(o.height=N)}}r.count--}}function Sy(t,e,r,n,s){return t.map(function(o){return U8(o,e,r,n,s)})}function U8(t,e,r,n,s){var o=1e4*n.scaleFactor();if(e=Math.ceil(e*o)/o,e>=Of(t,r,n))return t;for(;e<Of(t+s,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+s}function _x(t,e){var r=new Fu(t),n=P8(e,r.scaleFactor()),s=new T8(e,n);return R8(r,s),r.applyStyles(r.userStyles),s}function P8(t,e){var r=t.content,n=q8(r.columns);if(r.head.length===0){var s=jy(n,"head");s&&r.head.push(s)}if(r.foot.length===0){var s=jy(n,"foot");s&&r.foot.push(s)}var o=t.settings.theme,u=t.styles;return{columns:n,head:Ym("head",r.head,n,u,o,e),body:Ym("body",r.body,n,u,o,e),foot:Ym("foot",r.foot,n,u,o,e)}}function Ym(t,e,r,n,s,o){var u={},h=e.map(function(f,m){for(var g=0,w={},N=0,x=0,T=0,k=r;T<k.length;T++){var O=k[T];if(u[O.index]==null||u[O.index].left===0)if(x===0){var R=void 0;Array.isArray(f)?R=f[O.index-N-g]:R=f[O.dataKey];var G={};typeof R=="object"&&!Array.isArray(R)&&(G=(R==null?void 0:R.styles)||{});var D=I8(t,O,m,s,n,o,G),W=new wx(R,D,t);w[O.dataKey]=W,w[O.index]=W,x=W.colSpan-1,u[O.index]={left:W.rowSpan-1,times:x}}else x--,N++;else u[O.index].left--,x=u[O.index].times,g++}return new xx(f,m,t,w)});return h}function jy(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var s=z8(e,n.raw);s!=null&&(r[n.dataKey]=s)}}),Object.keys(r).length>0?r:null}function z8(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function q8(t){return t.map(function(e,r){var n,s;return typeof e=="object"?s=(n=e.dataKey)!==null&&n!==void 0?n:r:s=r,new L8(s,e,r)})}function I8(t,e,r,n,s,o,u){var h=g8(n),f;t==="head"?f=s.headStyles:t==="body"?f=s.bodyStyles:t==="foot"&&(f=s.footStyles);var m=Uo({},h.table,h[t],s.styles,f),g=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},w=t==="body"?g:{},N=t==="body"&&r%2===0?Uo({},h.alternateRow,s.alternateRowStyles):{},x=p8(o),T=Uo({},x,m,N,w);return Uo(T,u)}function F8(t,e,r){var n;r===void 0&&(r={});var s=gx(t,e),o=new Map,u=[],h=[],f=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?f=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(f=[e.settings.horizontalPageBreakRepeat]),f.forEach(function(N){var x=e.columns.find(function(T){return T.dataKey===N||T.index===N});x&&!o.has(x.index)&&(o.set(x.index,!0),u.push(x.index),h.push(e.columns[x.index]),s-=x.wrappedWidth)});for(var m=!0,g=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;g<e.columns.length;){if(o.has(g)){g++;continue}var w=e.columns[g].wrappedWidth;if(m||s>=w)m=!1,u.push(g),h.push(e.columns[g]),s-=w;else break;g++}return{colIndexes:u,columns:h,lastIndex:g-1}}function $8(t,e){for(var r=[],n=0;n<e.columns.length;n++){var s=F8(t,e,{start:n});s.columns.length&&(r.push(s),n=s.lastIndex)}return r}function Nx(t,e){var r=e.settings,n=r.startY,s=r.margin,o={x:s.left,y:n},u=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),h=n+s.bottom+u;if(r.pageBreak==="avoid"){var f=e.body,m=f.reduce(function(N,x){return N+x.height},0);h+=m}var g=new Fu(t);(r.pageBreak==="always"||r.startY!=null&&h>g.pageSize().height)&&(jx(g),o.y=s.top),e.callWillDrawPageHooks(g,o);var w=Uo({},o);e.startPageNumber=g.pageNumber(),r.horizontalPageBreak?H8(g,e,w,o):(g.applyStyles(g.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(N){return Io(g,e,N,o,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(N,x){var T=x===e.body.length-1;Df(g,e,N,T,w,o,e.columns)}),g.applyStyles(g.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(N){return Io(g,e,N,o,e.columns)})),mx(g,e,w,o),e.callEndPageHooks(g,o),e.finalY=o.y,t.lastAutoTable=e,g.applyStyles(g.userStyles)}function H8(t,e,r,n){var s=$8(t,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(m,g){t.applyStyles(t.userStyles),g>0?Pd(t,e,r,n,m.columns,!0):Ay(t,e,n,m.columns),V8(t,e,r,n,m.columns),Km(t,e,n,m.columns)});else for(var u=-1,h=s[0],f=function(){var m=u;if(h){t.applyStyles(t.userStyles);var g=h.columns;u>=0?Pd(t,e,r,n,g,!0):Ay(t,e,n,g),m=Ey(t,e,u+1,n,g),Km(t,e,n,g)}var w=m-u;s.slice(1).forEach(function(N){t.applyStyles(t.userStyles),Pd(t,e,r,n,N.columns,!0),Ey(t,e,u+1,n,N.columns,w),Km(t,e,n,N.columns)}),u=m};u<e.body.length-1;)f()}function Ay(t,e,r,n){var s=e.settings;t.applyStyles(t.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(o){return Io(t,e,o,r,n)})}function V8(t,e,r,n,s){t.applyStyles(t.userStyles),e.body.forEach(function(o,u){var h=u===e.body.length-1;Df(t,e,o,h,r,n,s)})}function Ey(t,e,r,n,s,o){t.applyStyles(t.userStyles),o=o??e.body.length;var u=Math.min(r+o,e.body.length),h=-1;return e.body.slice(r,u).forEach(function(f,m){var g=r+m===e.body.length-1,w=Sx(t,e,g,n);f.canEntireRowFit(w,s)&&(Io(t,e,f,n,s),h=r+m)}),h}function Km(t,e,r,n){var s=e.settings;t.applyStyles(t.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(o){return Io(t,e,o,r,n)})}function G8(t,e,r){var n=r.getLineHeight(t.styles.fontSize),s=t.padding("vertical"),o=Math.floor((e-s)/n);return Math.max(0,o)}function W8(t,e,r,n){var s={};t.spansMultiplePages=!0,t.height=0;for(var o=0,u=0,h=r.columns;u<h.length;u++){var f=h[u],m=t.cells[f.index];if(m){Array.isArray(m.text)||(m.text=[m.text]);var g=new wx(m.raw,m.styles,m.section);g=Uo(g,m),g.text=[];var w=G8(m,e,n);m.text.length>w&&(g.text=m.text.splice(w,m.text.length));var N=n.scaleFactor(),x=n.getLineHeightFactor();m.contentHeight=m.getContentHeight(N,x),m.contentHeight>=e&&(m.contentHeight=e,g.styles.minCellHeight-=e),m.contentHeight>t.height&&(t.height=m.contentHeight),g.contentHeight=g.getContentHeight(N,x),g.contentHeight>o&&(o=g.contentHeight),s[f.index]=g}}var T=new xx(t.raw,-1,t.section,s,!0);T.height=o;for(var k=0,O=r.columns;k<O.length;k++){var f=O[k],g=T.cells[f.index];g&&(g.height=T.height);var m=t.cells[f.index];m&&(m.height=t.height)}return T}function Y8(t,e,r,n){var s=t.pageSize().height,o=n.settings.margin,u=o.top+o.bottom,h=s-u;e.section==="body"&&(h-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var f=e.getMinimumRowHeight(n.columns,t),m=f<r;if(f>h)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!m)return!1;var g=e.hasRowSpan(n.columns),w=e.getMaxCellHeight(n.columns)>h;return w?(g&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||n.settings.rowPageBreak==="avoid")}function Df(t,e,r,n,s,o,u){var h=Sx(t,e,n,o);if(r.canEntireRowFit(h,u))Io(t,e,r,o,u);else if(Y8(t,r,h,e)){var f=W8(r,h,e,t);Io(t,e,r,o,u),Pd(t,e,s,o,u),Df(t,e,f,n,s,o,u)}else Pd(t,e,s,o,u),Df(t,e,r,n,s,o,u)}function Io(t,e,r,n,s){n.x=e.settings.margin.left;for(var o=0,u=s;o<u.length;o++){var h=u[o],f=r.cells[h.index];if(!f){n.x+=h.width;continue}t.applyStyles(f.styles),f.x=n.x,f.y=n.y;var m=e.callCellHooks(t,e.hooks.willDrawCell,f,r,h,n);if(m===!1){n.x+=h.width;continue}K8(t,f,n);var g=f.getTextPos();dx(f.text,g.x,g.y,{halign:f.styles.halign,valign:f.styles.valign,maxWidth:Math.ceil(f.width-f.padding("left")-f.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,f,r,h,n),n.x+=h.width}n.y+=r.height}function K8(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=px(n.lineWidth,n.fillColor);s&&t.rect(e.x,r.y,e.width,e.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),J8(t,e,r,n.lineWidth))}function J8(t,e,r,n){var s,o,u,h;n.top&&(s=r.x,o=r.y,u=r.x+e.width,h=r.y,n.right&&(u+=.5*n.right),n.left&&(s-=.5*n.left),f(n.top,s,o,u,h)),n.bottom&&(s=r.x,o=r.y+e.height,u=r.x+e.width,h=r.y+e.height,n.right&&(u+=.5*n.right),n.left&&(s-=.5*n.left),f(n.bottom,s,o,u,h)),n.left&&(s=r.x,o=r.y,u=r.x,h=r.y+e.height,n.top&&(o-=.5*n.top),n.bottom&&(h+=.5*n.bottom),f(n.left,s,o,u,h)),n.right&&(s=r.x+e.width,o=r.y,u=r.x+e.width,h=r.y+e.height,n.top&&(o-=.5*n.top),n.bottom&&(h+=.5*n.bottom),f(n.right,s,o,u,h));function f(m,g,w,N,x){t.getDocument().setLineWidth(m),t.getDocument().line(g,w,N,x,"S")}}function Sx(t,e,r,n){var s=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&r)&&(s+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-s}function Pd(t,e,r,n,s,o){s===void 0&&(s=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(h){return Io(t,e,h,n,s)}),e.callEndPageHooks(t,n);var u=e.settings.margin;mx(t,e,r,n),jx(t),e.pageNumber++,n.x=u.left,n.y=u.top,r.y=u.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(h){return Io(t,e,h,n,s)}),t.applyStyles(t.userStyles))}function jx(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function X8(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],s=bx(this,n),o=_x(this,s);return Nx(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,s){dx(e,r,n,s,this)},t.API.autoTableSetDefaults=function(e){return Fu.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Fu.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Fu(this),o=yx(s,e,window,r,!1),u=o.head,h=o.body,f=((n=u[0])===null||n===void 0?void 0:n.map(function(m){return m.content}))||[];return{columns:f,rows:h,data:h}}}var Jm;function Vf(t,e){var r=bx(t,e),n=_x(t,r);Nx(t,n)}try{if(typeof window<"u"&&window){var Cy=window,ky=Cy.jsPDF||((Jm=Cy.jspdf)===null||Jm===void 0?void 0:Jm.jsPDF);ky&&X8(ky)}}catch(t){console.error("Could not apply autoTable plugin",t)}const Ty=({role:t,onClose:e})=>c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:t.name}),c.jsx("button",{onClick:e,className:"p-1 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700",children:c.jsx(zo,{size:24})})]}),c.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-gray-300",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Descripcin:"})," ",t.description]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Tareas Detalladas:"})," ",t.detailedTasks]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Nivel de Experiencia Requerido:"})," ",c.jsx("span",{className:"capitalize px-2 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded-full text-sm",children:t.experienceLevel})]}),t.youtubeUrl&&c.jsxs("div",{children:[c.jsxs("h4",{className:"font-semibold mb-2 flex items-center",children:[c.jsx(mp,{size:18,className:"mr-2 text-red-500"})," Video Explicativo"]}),c.jsx("div",{className:"aspect-w-16 aspect-h-9",children:c.jsx("iframe",{className:"w-full h-full rounded-lg",src:t.youtubeUrl,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})]})]})})}),Kd=({isOpen:t,onClose:e,title:r,children:n})=>{const s=X.useRef(null);return X.useEffect(()=>{const o=u=>{u.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[t,e]),t?c.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black bg-opacity-50 animate-fade-in",onClick:o=>{o.target===o.currentTarget&&e()},children:c.jsxs("div",{ref:s,className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] flex flex-col animate-slide-up",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r}),c.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Cerrar",children:c.jsx(zo,{size:24})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n}),c.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200 bg-gray-50",children:c.jsx("button",{onClick:e,className:"px-6 py-2.5 bg-primary-500 text-white font-semibold rounded-md hover:bg-primary-600 transition-colors shadow-sm",children:"Cerrar"})})]})}):null};let Z8={data:""},Q8=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||Z8},eA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tA=/\/\*[^]*?\*\/|  +/g,Ly=/\n+/g,Cl=(t,e)=>{let r="",n="",s="";for(let o in t){let u=t[o];o[0]=="@"?o[1]=="i"?r=o+" "+u+";":n+=o[1]=="f"?Cl(u,o):o+"{"+Cl(u,o[1]=="k"?"":e)+"}":typeof u=="object"?n+=Cl(u,e?e.replace(/([^,])+/g,h=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,h):h?h+" "+f:f)):o):u!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Cl.p?Cl.p(o,u):o+":"+u+";")}return r+(e&&s?e+"{"+s+"}":s)+n},Oo={},Ax=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Ax(t[r]);return e}return t},rA=(t,e,r,n,s)=>{let o=Ax(t),u=Oo[o]||(Oo[o]=(f=>{let m=0,g=11;for(;m<f.length;)g=101*g+f.charCodeAt(m++)>>>0;return"go"+g})(o));if(!Oo[u]){let f=o!==t?t:(m=>{let g,w,N=[{}];for(;g=eA.exec(m.replace(tA,""));)g[4]?N.shift():g[3]?(w=g[3].replace(Ly," ").trim(),N.unshift(N[0][w]=N[0][w]||{})):N[0][g[1]]=g[2].replace(Ly," ").trim();return N[0]})(t);Oo[u]=Cl(s?{["@keyframes "+u]:f}:f,r?"":"."+u)}let h=r&&Oo.g?Oo.g:null;return r&&(Oo.g=Oo[u]),((f,m,g,w)=>{w?m.data=m.data.replace(w,f):m.data.indexOf(f)===-1&&(m.data=g?f+m.data:m.data+f)})(Oo[u],e,n,h),u},aA=(t,e,r)=>t.reduce((n,s,o)=>{let u=e[o];if(u&&u.call){let h=u(r),f=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=f?"."+f:h&&typeof h=="object"?h.props?"":Cl(h,""):h===!1?"":h}return n+s+(u??"")},"");function Gf(t){let e=this||{},r=t.call?t(e.p):t;return rA(r.unshift?r.raw?aA(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,Q8(e.target),e.g,e.o,e.k)}let Ex,kp,Tp;Gf.bind({g:1});let Fo=Gf.bind({k:1});function nA(t,e,r,n){Cl.p=e,Ex=t,kp=r,Tp=n}function Dl(t,e){let r=this||{};return function(){let n=arguments;function s(o,u){let h=Object.assign({},o),f=h.className||s.className;r.p=Object.assign({theme:kp&&kp()},h),r.o=/ *go\d+/.test(f),h.className=Gf.apply(r,n)+(f?" "+f:"");let m=t;return t[0]&&(m=h.as||t,delete h.as),Tp&&m[0]&&Tp(h),Ex(m,h)}return s}}var iA=t=>typeof t=="function",Mf=(t,e)=>iA(t)?t(e):t,sA=(()=>{let t=0;return()=>(++t).toString()})(),Cx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),oA=20,Xp="default",kx=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:n}=e;return kx(t,{type:t.toasts.find(u=>u.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},wf=[],Tx={toasts:[],pausedAt:void 0,settings:{toastLimit:oA}},Zs={},Lx=(t,e=Xp)=>{Zs[e]=kx(Zs[e]||Tx,t),wf.forEach(([r,n])=>{r===e&&n(Zs[e])})},Rx=t=>Object.keys(Zs).forEach(e=>Lx(t,e)),lA=t=>Object.keys(Zs).find(e=>Zs[e].toasts.some(r=>r.id===t)),Wf=(t=Xp)=>e=>{Lx(e,t)},cA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},uA=(t={},e=Xp)=>{let[r,n]=X.useState(Zs[e]||Tx),s=X.useRef(Zs[e]);X.useEffect(()=>(s.current!==Zs[e]&&n(Zs[e]),wf.push([e,n]),()=>{let u=wf.findIndex(([h])=>h===e);u>-1&&wf.splice(u,1)}),[e]);let o=r.toasts.map(u=>{var h,f,m;return{...t,...t[u.type],...u,removeDelay:u.removeDelay||((h=t[u.type])==null?void 0:h.removeDelay)||(t==null?void 0:t.removeDelay),duration:u.duration||((f=t[u.type])==null?void 0:f.duration)||(t==null?void 0:t.duration)||cA[u.type],style:{...t.style,...(m=t[u.type])==null?void 0:m.style,...u.style}}});return{...r,toasts:o}},dA=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||sA()}),eh=t=>(e,r)=>{let n=dA(e,t,r);return Wf(n.toasterId||lA(n.id))({type:2,toast:n}),n.id},Fe=(t,e)=>eh("blank")(t,e);Fe.error=eh("error");Fe.success=eh("success");Fe.loading=eh("loading");Fe.custom=eh("custom");Fe.dismiss=(t,e)=>{let r={type:3,toastId:t};e?Wf(e)(r):Rx(r)};Fe.dismissAll=t=>Fe.dismiss(void 0,t);Fe.remove=(t,e)=>{let r={type:4,toastId:t};e?Wf(e)(r):Rx(r)};Fe.removeAll=t=>Fe.remove(void 0,t);Fe.promise=(t,e,r)=>{let n=Fe.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let o=e.success?Mf(e.success,s):void 0;return o?Fe.success(o,{id:n,...r,...r==null?void 0:r.success}):Fe.dismiss(n),s}).catch(s=>{let o=e.error?Mf(e.error,s):void 0;o?Fe.error(o,{id:n,...r,...r==null?void 0:r.error}):Fe.dismiss(n)}),t};var hA=1e3,fA=(t,e="default")=>{let{toasts:r,pausedAt:n}=uA(t,e),s=X.useRef(new Map).current,o=X.useCallback((w,N=hA)=>{if(s.has(w))return;let x=setTimeout(()=>{s.delete(w),u({type:4,toastId:w})},N);s.set(w,x)},[]);X.useEffect(()=>{if(n)return;let w=Date.now(),N=r.map(x=>{if(x.duration===1/0)return;let T=(x.duration||0)+x.pauseDuration-(w-x.createdAt);if(T<0){x.visible&&Fe.dismiss(x.id);return}return setTimeout(()=>Fe.dismiss(x.id,e),T)});return()=>{N.forEach(x=>x&&clearTimeout(x))}},[r,n,e]);let u=X.useCallback(Wf(e),[e]),h=X.useCallback(()=>{u({type:5,time:Date.now()})},[u]),f=X.useCallback((w,N)=>{u({type:1,toast:{id:w,height:N}})},[u]),m=X.useCallback(()=>{n&&u({type:6,time:Date.now()})},[n,u]),g=X.useCallback((w,N)=>{let{reverseOrder:x=!1,gutter:T=8,defaultPosition:k}=N||{},O=r.filter(D=>(D.position||k)===(w.position||k)&&D.height),R=O.findIndex(D=>D.id===w.id),G=O.filter((D,W)=>W<R&&D.visible).length;return O.filter(D=>D.visible).slice(...x?[G+1]:[0,G]).reduce((D,W)=>D+(W.height||0)+T,0)},[r]);return X.useEffect(()=>{r.forEach(w=>{if(w.dismissed)o(w.id,w.removeDelay);else{let N=s.get(w.id);N&&(clearTimeout(N),s.delete(w.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:f,startPause:h,endPause:m,calculateOffset:g}}},mA=Fo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,pA=Fo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gA=Fo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vA=Dl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${pA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${gA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,yA=Fo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,bA=Dl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${yA} 1s linear infinite;
`,xA=Fo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,wA=Fo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_A=Dl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${wA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,NA=Dl("div")`
  position: absolute;
`,SA=Dl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,jA=Fo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,AA=Dl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${jA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,EA=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?X.createElement(AA,null,e):e:r==="blank"?null:X.createElement(SA,null,X.createElement(bA,{...n}),r!=="loading"&&X.createElement(NA,null,r==="error"?X.createElement(vA,{...n}):X.createElement(_A,{...n})))},CA=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kA=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,TA="0%{opacity:0;} 100%{opacity:1;}",LA="0%{opacity:1;} 100%{opacity:0;}",RA=Dl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,OA=Dl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,DA=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=Cx()?[TA,LA]:[CA(r),kA(r)];return{animation:e?`${Fo(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Fo(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},MA=X.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?DA(t.position||e||"top-center",t.visible):{opacity:0},o=X.createElement(EA,{toast:t}),u=X.createElement(OA,{...t.ariaProps},Mf(t.message,t));return X.createElement(RA,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:o,message:u}):X.createElement(X.Fragment,null,o,u))});nA(X.createElement);var BA=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let o=X.useCallback(u=>{if(u){let h=()=>{let f=u.getBoundingClientRect().height;n(t,f)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return X.createElement("div",{ref:o,className:e,style:r},s)},UA=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Cx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},PA=Gf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,cf=16,zA=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,toasterId:o,containerStyle:u,containerClassName:h})=>{let{toasts:f,handlers:m}=fA(r,o);return X.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:cf,left:cf,right:cf,bottom:cf,pointerEvents:"none",...u},className:h,onMouseEnter:m.startPause,onMouseLeave:m.endPause},f.map(g=>{let w=g.position||e,N=m.calculateOffset(g,{reverseOrder:t,gutter:n,defaultPosition:e}),x=UA(w,N);return X.createElement(BA,{id:g.id,key:g.id,onHeightUpdate:m.updateHeight,className:g.visible?PA:"",style:x},g.type==="custom"?Mf(g.message,g):s?s(g):X.createElement(MA,{toast:g,position:w}))}))};const qA=({user:t,onLogout:e,eventId:r})=>{const[n,s]=X.useState(null),[o,u]=X.useState(null),[h,f]=X.useState([]),[m,g]=X.useState([]),[w,N]=X.useState([]),[x,T]=X.useState(!0),[k,O]=X.useState(null),[R,G]=X.useState([]),[D,W]=X.useState(null),[ie,se]=X.useState(!1),[K,Z]=X.useState(!1),[V,ye]=X.useState("shifts"),U=_f.useRef(null);X.useEffect(()=>{if(U.current){const ce=U.current.querySelector('[data-selected="true"]');ce&&ce.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[o,V]),X.useEffect(()=>{(async()=>{if(r){const Me=await Jt.getEventById(r);if(Me){W(Me);const P=await Jt.getEventShiftDates(r);g(P);const[Be,ee,Se]=Me.fechaInicio.split("-").map(Number);let Ge=new Date(Be,ee-1,Se);if(P.length>0){const Ye=P.sort()[0],[Ze,Qe,at]=Ye.split("-").map(Number);Ge=new Date(Ze,Qe-1,at)}s(Ge),u(Ge)}}})()},[r]);const F=D?new Date(D.fechaInicio+"T00:00:00"):new Date("2026-04-23T00:00:00"),oe=D?new Date(D.fechaFin+"T00:00:00"):new Date("2026-05-11T00:00:00"),le=_f.useRef(""),_e=X.useCallback(async ce=>{T(!0);const Me=`${ce.getFullYear()}-${String(ce.getMonth()+1).padStart(2,"0")}-${String(ce.getDate()).padStart(2,"0")}`;le.current=Me;try{const P=r||"event_1",Be=await Jt.getShiftsForDate(P,Me);le.current===Me&&f(Be)}catch(P){console.error("Error fetching shifts:",P),Fe.error("No se pudieron cargar los turnos.")}finally{le.current===Me&&T(!1)}},[r]),Q=ce=>{const[Me,P,Be]=ce.split("-").map(Number);return new Date(Me,P-1,Be)},[ue,he]=X.useState({}),je=X.useCallback(async()=>{try{const ce=await Jt.getUserBookings(t.id);G(ce);const Me=ce.filter(P=>{var Be;return P.status!=="cancelled"&&((Be=P.shift)==null?void 0:Be.id)}).map(P=>P.shift.id);if(Me.length>0){const P=new Set;ce.forEach(Ge=>{var Ye,Ze;(Ze=(Ye=Ge.shift)==null?void 0:Ye.coordinatorIds)==null||Ze.forEach(Qe=>P.add(Qe))});const Be=await(P.size>0?Jt.getUsersByIds(Array.from(P)):Promise.resolve([])),Se=(await Jt.getBookingsForShifts(Me)).filter(Ge=>{var Qe,at;const Ye=(at=(Qe=Ge.shift)==null?void 0:Qe.role)==null?void 0:at.name;return Ye==null?void 0:Ye.toLowerCase().includes("coordinador")}).map(Ge=>({...Ge.user,shiftId:Ge.shiftId})),ve={};ce.forEach(Ge=>{if(!Ge.shift)return;const Ye=Ge.shift.id,Ze=[];if(Ge.shift.coordinatorIds){const nt=Be.filter(it=>Ge.shift.coordinatorIds.includes(it.id));Ze.push(...nt)}const Qe=Se.filter(nt=>nt.shiftId===Ye&&nt.id).map(nt=>({...nt,shiftId:void 0})),at=[...Ze,...Qe],At=Array.from(new Map(at.map(nt=>[nt.id,nt])).values());ve[Ye]=At}),he(ve)}else he({})}catch(ce){console.error("Error fetching user bookings:",ce),Fe.error("No se pudieron cargar tus inscripciones.")}},[t.id]);X.useEffect(()=>{Jt.getAllRoles().then(N),D&&o&&_e(o),je()},[o,_e,je,D]);const me=ce=>{D&&ce>=F&&ce<=oe&&u(ce)},z=ce=>{s(Me=>{const P=new Date(Me);return P.setMonth(P.getMonth()+ce),P})},j=async ce=>{const Me=h.find(Se=>Se.id===ce);if(Me&&R.find(ve=>ve.status!=="cancelled"&&ve.shift&&ve.shift.date===Me.date&&ve.shift.timeSlot===Me.timeSlot)){Fe.error("Ya ests inscripto en un turno en este mismo horario.");return}const P=w.find(Se=>Se.id===(Me==null?void 0:Me.roleId));let Be="Confirmas tu inscripcin? Recuerda que es un compromiso de asistencia.";if(P!=null&&P.requiresApproval&&(Be=" IMPORTANTE: Este rol requiere aprobacin de un administrador. Tu inscripcin quedar PENDIENTE hasta ser revisada. Deseas continuar?"),window.confirm(Be))try{await Jt.createBooking(t.id,ce),P!=null&&P.requiresApproval?Fe.success("Solicitud enviada. Pendiente de aprobacin."):Fe.success("Inscripcin exitosa!"),o&&_e(o),je()}catch(Se){Fe.error(Se.message||"Error al inscribirse.")}},A=async ce=>{if(window.confirm("Ests seguro de que deseas darte de baja?"))try{await Jt.requestBookingCancellation(ce),Fe.success("Solicitud de baja enviada."),je()}catch(P){Fe.error(P.message||"Error al solicitar la baja.")}},L=X.useMemo(()=>{const ce={},Me=w.filter(P=>P.isVisible!==!1);return h.forEach(P=>{Me.find(ee=>ee.id===P.roleId)&&(ce[P.timeSlot]||(ce[P.timeSlot]=[]),ce[P.timeSlot].push(P))}),ce},[h,w]),q=()=>{if(!n||!o)return c.jsx("div",{className:"bg-white p-5 rounded-lg shadow-card border border-fs-border text-center text-gray-500",children:"Cargando calendario..."});const ce=n.getMonth(),Me=n.getFullYear(),P=new Date(Me,ce,1).getDay(),Be=new Date(Me,ce+1,0).getDate(),ee=Array(P).fill(null),Se=Array.from({length:Be},(ve,Ge)=>Ge+1);return c.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-card border border-fs-border",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("button",{onClick:()=>z(-1),className:"p-1.5 rounded-full hover:bg-gray-100 text-gray-600",children:c.jsx(tv,{size:20})}),c.jsx("h3",{className:"font-serif text-lg text-fs-text font-medium capitalize",children:n.toLocaleString("es-ES",{month:"long",year:"numeric"})}),c.jsx("button",{onClick:()=>z(1),className:"p-1.5 rounded-full hover:bg-gray-100 text-gray-600",children:c.jsx(rv,{size:20})})]}),c.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs font-bold text-fs-meta uppercase mb-2",children:["Do","Lu","Ma","Mi","Ju","Vi","S"].map(ve=>c.jsx("div",{children:ve},ve))}),c.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[ee.map((ve,Ge)=>c.jsx("div",{},`blank-${Ge}`)),Se.map(ve=>{const Ge=new Date(Me,ce,ve),Ye=`${Me}-${String(ce+1).padStart(2,"0")}-${String(ve).padStart(2,"0")}`,Ze=o.toDateString()===Ge.toDateString(),Qe=Ge>=F&&Ge<=oe,at=m.includes(Ye),At=R.some(it=>{var lt;return(lt=it.shift)!=null&&lt.date?Q(it.shift.date).toDateString()===Ge.toDateString():!1});let nt="w-8 h-8 mx-auto flex items-center justify-center rounded-full text-sm font-medium transition-colors relative ";return Qe?Ze?nt+="bg-primary-500 text-white shadow-sm ":At?nt+="bg-primary-100 text-primary-700 ring-1 ring-primary-200 ":at?nt+="text-fs-text font-bold bg-gray-100 hover:bg-gray-200 cursor-pointer ":nt+="text-fs-text hover:bg-gray-50 cursor-pointer opacity-60 ":nt+="text-gray-300 cursor-default ",c.jsx("div",{className:"py-1",children:c.jsx("div",{className:nt,onClick:()=>Qe&&me(Ge),children:ve})},ve)})]}),c.jsxs("div",{className:"mt-4 pt-3 border-t border-fs-border text-xs text-gray-500 flex justify-center gap-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-500 mr-1.5"})," Seleccionado"]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-100 ring-1 ring-primary-200 mr-1.5"})," Tu Turno"]})]})]})},te=()=>{if(!n||!o)return c.jsx("div",{className:"bg-white border-b border-fs-border shadow-sm sticky top-0 z-40 p-4 text-center text-gray-500",children:"Cargando calendario..."});const ce=n.getMonth(),Me=n.getFullYear(),P=new Date(Me,ce+1,0).getDate(),Be=Array.from({length:P},(ee,Se)=>Se+1);return c.jsxs("div",{className:"bg-white border-b border-fs-border shadow-sm sticky top-0 z-40",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-50 border-b border-gray-100",children:[c.jsx("button",{onClick:()=>z(-1),className:"p-1 rounded-full hover:bg-white text-gray-600",children:c.jsx(tv,{size:18})}),c.jsx("span",{className:"font-serif text-sm font-medium capitalize text-fs-text",children:n.toLocaleString("es-ES",{month:"long",year:"numeric"})}),c.jsx("button",{onClick:()=>z(1),className:"p-1 rounded-full hover:bg-white text-gray-600",children:c.jsx(rv,{size:18})})]}),c.jsx("div",{ref:U,className:"overflow-x-auto flex gap-2 p-3 custom-scrollbar hide-scrollbar",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:Be.map(ee=>{const Se=new Date(Me,ce,ee),ve=o.toDateString()===Se.toDateString(),Ge=Se>=F&&Se<=oe,Ye=R.some(at=>{var nt;return(nt=at.shift)!=null&&nt.date?Q(at.shift.date).toDateString()===Se.toDateString():!1}),Ze=new Date().toDateString()===Se.toDateString(),Qe=Se.toLocaleDateString("es-ES",{weekday:"short"});return c.jsxs("button",{"data-selected":ve,onClick:()=>Ge&&me(Se),disabled:!Ge,className:`flex flex-col items-center justify-center min-w-[3.5rem] h-14 rounded-lg transition-all flex-shrink-0 ${ve?"bg-primary-500 text-white shadow-md transform scale-105":Ge?Ye?"bg-primary-50 border border-primary-200 text-primary-700":"bg-white border border-gray-200 text-fs-text hover:border-primary-300":"bg-gray-50 text-gray-300 border border-transparent"}`,children:[c.jsx("span",{className:"text-[10px] uppercase font-bold leading-none mb-1 opacity-80",children:Qe.slice(0,3)}),c.jsx("span",{className:`text-base font-bold leading-none ${Ze&&!ve?"underline decoration-primary-300 decoration-2 underline-offset-2":""}`,children:ee}),Ye&&!ve&&c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary-500 mt-1"})]},ee)})})]})},de=()=>{let ce=`*Resumen de Asignaciones - ${(D==null?void 0:D.nombre)||"Evento"}*

`;if(ce+=` Ubicacin: ${(D==null?void 0:D.ubicacion)||"No especificada"}
`,D){ce+=` Fechas: ${new Date(D.fechaInicio+"T00:00:00").toLocaleDateString()} - ${new Date(D.fechaFin+"T00:00:00").toLocaleDateString()}
`;const P=D.slug?`${window.location.origin}/#/${D.slug}`:window.location.href;ce+=` Link Evento: ${P}

`}ce+=`*Mis Turnos:*
`;const Me=R.filter(P=>P.status!=="cancelled"&&P.shift);return Me.length===0?ce+=`No tienes turnos registrados.
`:Me.forEach(P=>{var Se,ve;const Be=P.shift.date?new Date(P.shift.date+"T12:00:00").toLocaleDateString():"N/A",ee=((Se=P.shift.role)==null?void 0:Se.name)||"Rol";if(ce+=`- ${Be} ${P.shift.timeSlot} (${ee}) - ${P.status==="confirmed"?"Confirmado":"Pendiente"}
`,(ve=P.shift)!=null&&ve.id&&ue[P.shift.id]&&ue[P.shift.id].length>0){const Ge=ue[P.shift.id];ce+=`   Coordinador: ${Ge.map(Ye=>`${Ye.fullName} (${Ye.phone})`).join(", ")}
`}}),ce+=`
*Contacto Admins:*
 Email: ${(D==null?void 0:D.contactEmail)||"admin@evento.com"}`,ce},ge=ce=>{var ht,Pr;if(!ce.shift||!D)return;const Me=ce.shift,[P,Be]=Me.timeSlot.split(" - "),ee=Me.date,[Se,ve]=P.split(":"),[Ge,Ye]=Be.split(":"),Ze=new Date(`${ee}T${Se}:${ve}:00`),Qe=new Date(`${ee}T${Ge}:${Ye}:00`),at=Pt=>{const Nt=Pt.getFullYear(),Dt=String(Pt.getMonth()+1).padStart(2,"0"),Xt=String(Pt.getDate()).padStart(2,"0"),xt=String(Pt.getHours()).padStart(2,"0"),xr=String(Pt.getMinutes()).padStart(2,"0");return`${Nt}${Dt}${Xt}T${xt}${xr}00`},At=at(Ze),nt=at(Qe);let it=`Voluntariado - ${D.nombre}

`;it+=`Rol: ${((ht=Me.role)==null?void 0:ht.name)||"Voluntario"}
`,it+=`Estado: ${ce.status==="confirmed"?"Confirmado":"Pendiente"}

`,Me.id&&ue[Me.id]&&ue[Me.id].length>0&&(it+=`Coordinador(es):
`,ue[Me.id].forEach(Pt=>{it+=`- ${Pt.fullName}
   ${Pt.email}
   ${Pt.phone}
`}),it+=`
`),it+=`Contacto Admin: ${D.contactEmail||"admin@evento.com"}`;const Et=`${D.nombre} - ${((Pr=Me.role)==null?void 0:Pr.name)||"Voluntariado"}`,lt=D.ubicacion||"",Ct=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(Et)}&dates=${At}/${nt}&details=${encodeURIComponent(it)}&location=${encodeURIComponent(lt)}`;window.open(Ct,"_blank")},be=()=>{const ce=de(),Me=`https://wa.me/?text=${encodeURIComponent(ce)}`;window.open(Me,"_blank")},Te=()=>{const ce=de(),Me=`Resumen Voluntariado - ${(D==null?void 0:D.nombre)||""}`,P=`mailto:?subject=${encodeURIComponent(Me)}&body=${encodeURIComponent(ce)}`;window.location.href=P},$e=()=>{const ce=de();navigator.clipboard.writeText(ce),Fe.success("Resumen copiado al portapapeles")},tt=()=>{const ce=new vt;ce.setFillColor(243,244,246),ce.rect(0,0,210,40,"F"),ce.setFontSize(22),ce.setTextColor(17,24,39),ce.text("Resumen de Asignaciones",14,25);let Me=55;ce.setFontSize(14),ce.setTextColor(31,41,55),ce.text((D==null?void 0:D.nombre)||"Evento",14,Me),Me+=8,ce.setFontSize(10),ce.setTextColor(75,85,99),ce.text(`Ubicacin: ${(D==null?void 0:D.ubicacion)||"No especificada"}`,14,Me),Me+=6,D&&ce.text(`Fechas: ${new Date(D.fechaInicio+"T00:00:00").toLocaleDateString()} - ${new Date(D.fechaFin+"T00:00:00").toLocaleDateString()}`,14,Me),Me+=12,ce.setDrawColor(229,231,235),ce.setFillColor(249,250,251),ce.roundedRect(14,Me-5,182,28,3,3,"FD"),ce.setFontSize(11),ce.setTextColor(17,24,39),ce.text("Contacto Administradores",20,Me+3),ce.setFontSize(10),ce.setTextColor(75,85,99),ce.text(`Email: ${(D==null?void 0:D.contactEmail)||"admin@evento.com"}`,20,Me+10),Me+=35;const P=["Fecha","Horario","Rol","Coordinador","Estado"],ee=R.filter(ve=>ve.status!=="cancelled"&&ve.shift).map(ve=>{var Ye,Ze;const Ge=(Ye=ve.shift)!=null&&Ye.id&&ue[ve.shift.id]?ue[ve.shift.id].map(Qe=>`${Qe.fullName} (${Qe.phone})`).join(", "):"No asignado";return[ve.shift.date?new Date(ve.shift.date+"T12:00:00").toLocaleDateString():"N/A",ve.shift.timeSlot,((Ze=ve.shift.role)==null?void 0:Ze.name)||"Rol",Ge,ve.status==="confirmed"?"Confirmado":"Pendiente"]});Vf(ce,{startY:Me,head:[P],body:ee,theme:"grid",headStyles:{fillColor:[79,70,229],textColor:255,fontStyle:"bold"},styles:{fontSize:9,cellPadding:2},alternateRowStyles:{fillColor:[249,250,251]},columnStyles:{3:{cellWidth:50}}});const Se=ce.internal.pageSize.height;ce.setFontSize(8),ce.setTextColor(156,163,175),ce.text(`Generado el ${new Date().toLocaleDateString()} - Sistema de Voluntariado`,14,Se-10),ce.save(`resumen_voluntariado_${(D==null?void 0:D.slug)||"evento"}.pdf`),Fe.success("PDF descargado correctamente")};return c.jsxs("div",{className:"pb-24 lg:pb-12",children:[k&&c.jsx(Ty,{role:k,onClose:()=>O(null)}),c.jsx(Kd,{isOpen:K,onClose:()=>Z(!1),title:"Resumen de Asignaciones",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-primary-50 p-4 rounded-lg border border-primary-100",children:[c.jsx("h4",{className:"font-bold text-lg text-primary-900 mb-2",children:D==null?void 0:D.nombre}),c.jsxs("div",{className:"text-sm text-primary-800 space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(dp,{size:16}),c.jsx("span",{children:(D==null?void 0:D.ubicacion)||"Ubicacin no especificada"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($a,{size:16}),c.jsx("span",{children:D?`${new Date(D.fechaInicio+"T00:00:00").toLocaleDateString()} - ${new Date(D.fechaFin+"T00:00:00").toLocaleDateString()}`:"Fechas no disponibles"})]})]}),c.jsxs("div",{className:"mt-3 pt-3 border-t border-primary-200",children:[c.jsx("p",{className:"font-semibold text-sm text-primary-900 mb-2",children:"Contacto Administradores:"}),c.jsx("div",{className:"space-y-1",children:c.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-800",children:[c.jsx(ff,{size:14}),c.jsx("span",{children:(D==null?void 0:D.contactEmail)||"admin@evento.com"})]})})]})]}),c.jsxs("div",{children:[c.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center justify-between",children:[c.jsx("span",{children:"Mis Turnos Activos"}),c.jsxs("span",{className:"text-xs font-normal text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:[R.filter(ce=>ce.status!=="cancelled"&&ce.shift).length," asignados"]})]}),R.filter(ce=>ce.status!=="cancelled"&&ce.shift).length>0?c.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:c.jsx("ul",{className:"divide-y divide-gray-100",children:R.filter(ce=>ce.status!=="cancelled"&&ce.shift).map(ce=>{var Me,P,Be,ee,Se;return c.jsxs("li",{className:"p-3 bg-white hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsx("span",{className:"font-bold text-gray-900 text-sm",children:((P=(Me=ce.shift)==null?void 0:Me.role)==null?void 0:P.name)||"Sin rol"}),c.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wide
                                        ${ce.status==="confirmed"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:ce.status==="confirmed"?"Confirmado":"Pendiente"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx($a,{size:12}),(Be=ce.shift)!=null&&Be.date?new Date(ce.shift.date+"T12:00:00").toLocaleDateString():"N/A"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Bo,{size:12}),((ee=ce.shift)==null?void 0:ee.timeSlot)||"N/A"]})]}),ce.status==="confirmed"&&((Se=ce.shift)==null?void 0:Se.id)&&ue[ce.shift.id]&&ue[ce.shift.id].length>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[c.jsx("p",{className:"text-[10px] font-semibold text-gray-600 mb-1",children:"Coordinador(es):"}),c.jsx("div",{className:"space-y-1",children:ue[ce.shift.id].map(ve=>c.jsxs("div",{className:"text-[10px] text-gray-600",children:[c.jsx("div",{className:"font-medium",children:ve.fullName}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:ve.email}),c.jsx("span",{children:""}),c.jsx("span",{children:ve.phone})]})]},ve.id))})]})]},ce.id)})})}):c.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-dashed border-gray-200",children:[c.jsx("p",{className:"text-gray-500 text-sm italic",children:"No tienes turnos activos."}),c.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Selecciona una fecha en el calendario para ver los turnos disponibles."})]})]}),c.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border border-gray-200",children:[c.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-1",children:"Compartir copia de respaldo"}),c.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Enva este resumen a tu dispositivo para tener los datos de acceso siempre a mano."}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[c.jsxs("button",{onClick:be,className:"flex items-center justify-center gap-2 px-4 py-2 bg-[#25D366] text-white rounded-lg hover:brightness-105 transition-all text-sm font-bold shadow-sm",children:[c.jsx(Tl,{size:16}),"WhatsApp"]}),c.jsxs("button",{onClick:Te,className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all text-sm font-bold shadow-sm",children:[c.jsx(ff,{size:16}),"Email"]}),c.jsxs("button",{onClick:$e,className:"flex items-center justify-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all text-sm font-bold shadow-sm",children:[c.jsx(Hp,{size:16}),"Copiar"]})]}),c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[c.jsxs("button",{onClick:tt,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gray-900 text-white rounded-lg hover:bg-black transition-all text-sm font-bold shadow-lg",children:[c.jsx(Nc,{size:18}),"Descargar PDF"]}),c.jsx("p",{className:"text-[10px] text-center text-gray-400 mt-2",children:"Descarga un archivo PDF oficial con el membrete del evento."})]})]})]})}),k&&c.jsx(Ty,{role:k,onClose:()=>O(null)}),c.jsx(Kd,{isOpen:ie,onClose:()=>se(!1),title:"Detalles del Evento",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-fs-text mb-2",children:D==null?void 0:D.nombre}),c.jsx("p",{className:"text-gray-600",children:(D==null?void 0:D.descripcion)||"Sin descripcin disponible."})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(dp,{className:"text-primary-500 mt-1 shrink-0",size:20}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900",children:"Ubicacin"}),c.jsx("p",{className:"text-gray-600",children:(D==null?void 0:D.ubicacion)||"Ubicacin no especificada"})]})]}),c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx($a,{className:"text-primary-500 mt-1 shrink-0",size:20}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900",children:"Fechas"}),c.jsxs("p",{className:"text-gray-600",children:["Del ",new Date((D==null?void 0:D.fechaInicio)+"T00:00:00").toLocaleDateString()," al ",new Date((D==null?void 0:D.fechaFin)+"T00:00:00").toLocaleDateString()]})]})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[c.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"Contacto del Administrador"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(ff,{size:18,className:"mr-2 text-gray-400"}),c.jsx("span",{children:(D==null?void 0:D.contactEmail)||"admin@evento.com"})]}),c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(yb,{size:18,className:"mr-2 text-gray-400"}),c.jsx("span",{children:"+54 11 1234-5678"})]})]})]})]})}),c.jsxs("div",{className:"lg:hidden",children:[V==="shifts"&&c.jsxs(c.Fragment,{children:[te(),c.jsxs("div",{className:"px-4 py-4",children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-serif font-medium text-fs-text",children:"Turnos Disponibles"}),c.jsx("button",{onClick:()=>se(!0),className:"text-fs-blue",children:c.jsx(Ef,{size:20})})]}),x?c.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-primary-500 mb-3"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Cargando..."})]}):c.jsxs("div",{className:"space-y-4",children:[Object.entries(L).sort().map(([ce,Me])=>Me.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-2 px-1",children:[c.jsx(Bo,{size:14,className:"text-primary-600 mr-2"}),c.jsxs("span",{className:"text-sm font-bold text-fs-text",children:[ce," hs"]}),c.jsx("div",{className:"h-px bg-gray-200 flex-grow ml-3"})]}),c.jsx("div",{className:"space-y-3",children:Me.map(P=>{const Be=w.find(ve=>ve.id===P.roleId),ee=P.availableVacancies<=0,Se=R.some(ve=>ve.shiftId===P.id&&ve.status!=="cancelled");return c.jsxs("div",{className:`bg-white border rounded-lg p-4 shadow-sm ${Se?"border-primary-300 bg-primary-50/30":"border-gray-200"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("h4",{className:"font-bold text-fs-text mr-2",children:Be==null?void 0:Be.name}),Se&&c.jsx(Sm,{size:18,className:"text-primary-600 shrink-0"})]}),(Be==null?void 0:Be.youtubeUrl)&&c.jsx("button",{onClick:()=>O(Be),className:"text-fs-blue text-xs font-medium shrink-0",children:"Ver detalle"})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:Be==null?void 0:Be.description}),(Be==null?void 0:Be.requiresApproval)&&c.jsx("div",{className:"mb-3",children:c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-orange-100 text-orange-800 border border-orange-200",children:[c.jsx(wc,{size:12,className:"mr-1"}),"Requiere Aprobacin Admin"]})}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"text-xs text-gray-500",children:[c.jsx("span",{className:`font-bold text-sm ${P.availableVacancies<3?"text-orange-600":"text-gray-700"}`,children:P.availableVacancies})," vacantes"]}),Se?R.find(ve=>ve.shiftId===P.id&&ve.status==="pending_approval")?c.jsx("span",{className:"text-xs font-bold text-orange-700 bg-orange-100 px-2 py-1 rounded",children:"Pendiente"}):c.jsx("span",{className:"text-xs font-bold text-primary-700 bg-primary-100 px-2 py-1 rounded",children:"Inscripto"}):c.jsx("button",{onClick:()=>j(P.id),disabled:ee,className:`px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide ${ee?"bg-gray-100 text-gray-400":"bg-primary-500 text-white"}`,children:ee?"Lleno":Be!=null&&Be.requiresApproval?"Postularme":"Inscribirme"})]})]},P.id)})})]},ce)),Object.values(L).every(ce=>ce.length===0)&&c.jsx("div",{className:"text-center py-10",children:c.jsx("p",{className:"text-gray-400 text-sm",children:"No hay turnos para esta fecha."})})]})]})]}),V==="bookings"&&c.jsxs("div",{className:"px-4 py-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-serif text-fs-text",children:"Mis Inscripciones"}),R.filter(ce=>ce.shift).length>0&&c.jsxs("button",{onClick:()=>Z(!0),className:"flex items-center gap-1 text-sm font-medium text-primary-600 hover:text-primary-700 px-3 py-1.5 bg-primary-50 rounded-full",children:[c.jsx(Tl,{size:16}),c.jsx("span",{className:"text-xs",children:"Compartir"})]})]}),R.filter(ce=>ce.shift).length>0?c.jsx("ul",{className:"space-y-4",children:R.filter(ce=>ce.shift).map(ce=>{var P,Be,ee,Se;const Me=w.find(ve=>{var Ge;return ve.id===((Ge=ce.shift)==null?void 0:Ge.roleId)});return c.jsxs("li",{className:"bg-white p-4 rounded-lg shadow-sm border border-fs-border",children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsxs("div",{className:"flex flex-col items-start",children:[c.jsx("span",{className:"font-bold text-fs-text",children:(P=ce.shift)==null?void 0:P.role.name}),Me&&c.jsx("button",{onClick:()=>O(Me),className:"text-fs-blue text-xs font-medium hover:underline mt-0.5",children:"Ver detalle"})]}),c.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full h-fit ${ce.status==="confirmed"?"bg-green-100 text-green-700":ce.status==="pending_approval"?"bg-orange-100 text-orange-700":"bg-yellow-100 text-yellow-700"}`,children:ce.status==="confirmed"?"Confirmado":ce.status==="pending_approval"?"Pendiente Aprobacin":"Pendiente"})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[c.jsx($a,{size:14,className:"mr-2"}),c.jsx("span",{className:"capitalize",children:(Be=ce.shift)!=null&&Be.date?Q(ce.shift.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"}):"N/A"})]}),c.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[c.jsx(Bo,{size:14,className:"mr-2"}),c.jsxs("span",{children:[(ee=ce.shift)==null?void 0:ee.timeSlot," hs"]})]}),ce.status==="confirmed"&&c.jsxs("div",{className:"mt-2 text-xs text-gray-500 bg-gray-50 p-2 rounded border border-gray-100",children:[c.jsx("strong",{children:"Coordinador(es):"}),(Se=ce.shift)!=null&&Se.id&&ue[ce.shift.id]&&ue[ce.shift.id].length>0?c.jsx("ul",{className:"mt-1 space-y-1",children:ue[ce.shift.id].map(ve=>c.jsxs("li",{children:[c.jsx("div",{className:"font-semibold",children:ve.fullName}),c.jsx("div",{children:ve.email}),c.jsx("div",{children:ve.phone})]},ve.id))}):c.jsx("div",{className:"mt-1 text-gray-400 italic",children:"No asignado"})]}),ce.status==="confirmed"&&c.jsxs("div",{className:"flex gap-2 mt-3",children:[c.jsxs("button",{onClick:()=>ge(ce),className:"flex-1 py-2 text-center text-primary-600 border border-primary-200 rounded hover:bg-primary-50 text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[c.jsx($a,{size:16}),"Agregar a Calendario"]}),c.jsx("button",{onClick:()=>A(ce.id),className:"flex-1 py-2 text-center text-red-600 border border-red-200 rounded hover:bg-red-50 text-sm font-medium transition-colors",children:"Solicitar Baja"})]})]},ce.id)})}):c.jsxs("div",{className:"text-center py-12 px-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[c.jsx("div",{className:"inline-block p-4 bg-white rounded-full mb-3 shadow-sm",children:c.jsx($a,{size:24,className:"text-gray-300"})}),c.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"No tienes turnos agendados an."}),c.jsx("button",{onClick:()=>ye("shifts"),className:"text-primary-600 font-bold text-sm",children:"Explorar turnos"})]})]}),c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 pb-safe pt-2 px-6 flex justify-around items-center z-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:[c.jsxs("button",{onClick:()=>ye("shifts"),className:`flex flex-col items-center p-2 min-w-[64px] ${V==="shifts"?"text-primary-600":"text-gray-400"}`,children:[c.jsx($a,{size:24,strokeWidth:V==="shifts"?2.5:2}),c.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Turnos"})]}),c.jsx("div",{className:"w-px h-8 bg-gray-100"}),c.jsxs("button",{onClick:()=>ye("bookings"),className:`flex flex-col items-center p-2 min-w-[64px] ${V==="bookings"?"text-primary-600":"text-gray-400"}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx(Sm,{size:24,strokeWidth:V==="bookings"?2.5:2}),R.filter(ce=>ce.shift).length>0&&c.jsx("span",{className:"absolute -top-1 -right-1 flex h-3 w-3 items-center justify-center rounded-full bg-red-500 text-[8px] text-white font-bold",children:R.filter(ce=>ce.shift).length})]}),c.jsx("span",{className:"text-[10px] font-bold mt-1",children:"Mis Turnos"})]})]})]}),c.jsxs("div",{className:"hidden lg:grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[c.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[q(),c.jsxs("button",{onClick:()=>se(!0),className:"w-full flex items-center justify-center px-4 py-3 bg-white border border-fs-border rounded-lg shadow-sm hover:shadow-md hover:border-primary-300 transition-all text-fs-blue font-medium",children:[c.jsx(Ef,{size:20,className:"mr-2"}),"Ver detalles del evento"]}),c.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-card border border-fs-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-fs-border pb-2",children:[c.jsx("h3",{className:"font-serif text-lg text-fs-text",children:"Mis Inscripciones"}),R.filter(ce=>ce.shift).length>0&&c.jsx("button",{onClick:()=>Z(!0),className:"p-1.5 text-gray-400 hover:text-primary-600 hover:bg-primary-50 rounded-full transition-colors",title:"Compartir resumen",children:c.jsx(Tl,{size:18})})]}),R.filter(ce=>ce.shift).length>0?c.jsx("ul",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-1 custom-scrollbar",children:R.filter(ce=>ce.shift).map(ce=>{var P,Be,ee,Se;const Me=w.find(ve=>{var Ge;return ve.id===((Ge=ce.shift)==null?void 0:Ge.roleId)});return c.jsxs("li",{className:"group p-3 rounded-fs border border-gray-100 bg-gray-50 hover:bg-white hover:shadow-sm hover:border-gray-200 transition-all",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-fs-text text-sm",children:(P=ce.shift)==null?void 0:P.role.name}),Me&&c.jsx("button",{onClick:()=>O(Me),className:"text-fs-blue text-xs font-medium hover:underline block mb-1",children:"Ver detalle"}),c.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[c.jsx($a,{size:12,className:"mr-1"}),c.jsx("span",{className:"capitalize mr-2",children:(Be=ce.shift)!=null&&Be.date?Q(ce.shift.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"}):"N/A"}),c.jsx(Bo,{size:12,className:"mr-1"}),c.jsx("span",{children:(ee=ce.shift)==null?void 0:ee.timeSlot})]}),ce.status==="confirmed"&&c.jsxs("div",{className:"mt-2 text-xs bg-white p-2 border border-gray-100 rounded",children:[c.jsx("span",{className:"font-semibold text-gray-600 block mb-1",children:"Coordinador:"}),(Se=ce.shift)!=null&&Se.id&&ue[ce.shift.id]&&ue[ce.shift.id].length>0?ue[ce.shift.id].map(ve=>c.jsxs("div",{className:"mb-1 last:mb-0",children:[c.jsx("div",{className:"font-medium text-gray-800",children:ve.fullName}),c.jsxs("div",{className:"text-gray-500 text-[10px]",children:[ve.email," | ",ve.phone]})]},ve.id)):c.jsx("span",{className:"text-gray-400 italic",children:"No asignado"})]})]}),ce.status==="confirmed"&&c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>ge(ce),className:"p-2 text-primary-600 hover:text-primary-700 hover:bg-primary-50 rounded-lg transition-colors",title:"Agregar a Google Calendar",children:c.jsx($a,{size:16})}),c.jsx("button",{onClick:()=>A(ce.id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"Solicitar baja del turno",children:c.jsx(zo,{size:16})})]})]}),ce.status==="cancellation_requested"&&c.jsxs("div",{className:"mt-2 bg-yellow-50 text-yellow-800 text-xs px-2 py-1.5 rounded-fs inline-flex items-center w-full border border-yellow-100",children:[c.jsx(fp,{size:12,className:"mr-1.5"})," Solicitud pendiente"]})]},ce.id)})}):c.jsxs("div",{className:"text-center py-10 px-4 bg-gray-50 rounded-fs border border-dashed border-gray-200",children:[c.jsx($a,{size:28,className:"mx-auto text-gray-300 mb-2"}),c.jsx("p",{className:"text-sm text-gray-500",children:"No tienes turnos agendados an."})]})]})]}),c.jsxs("div",{className:"lg:col-span-8",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-serif text-fs-text",children:"Turnos Disponibles"}),c.jsxs("p",{className:"text-fs-meta mt-1 capitalize flex items-center",children:[c.jsx("span",{className:"font-medium text-gray-800",children:o?o.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"}):"Cargando..."}),c.jsx("span",{className:"mx-2 text-gray-300",children:"|"}),D?D.nombre:"Cargando..."]})]}),x?c.jsxs("div",{className:"text-center p-24 bg-white rounded-lg border border-fs-border shadow-sm",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-primary-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Actualizando disponibilidad..."})]}):c.jsxs("div",{className:"space-y-8",children:[Object.entries(L).sort().map(([ce,Me])=>Me.length>0&&c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsxs("div",{className:"bg-primary-50 text-primary-700 px-3 py-1 rounded-full text-sm font-bold flex items-center border border-primary-100",children:[c.jsx(Bo,{size:16,className:"mr-2"}),ce," hs"]}),c.jsx("div",{className:"h-px bg-gray-200 flex-grow ml-4"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Me.map(P=>{const Be=w.find(ve=>ve.id===P.roleId),ee=P.availableVacancies<=0,Se=R.some(ve=>ve.shiftId===P.id&&ve.status!=="cancelled");return c.jsx("div",{className:`bg-white border rounded-lg transition-all duration-200 flex flex-col
                          ${Se?"border-primary-200 ring-1 ring-primary-100 shadow-sm":"border-fs-border shadow-card hover:shadow-card-hover hover:border-gray-300"} ${ee&&!Se?"opacity-75 bg-gray-50":""}`,children:c.jsxs("div",{className:"p-5 flex-grow",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("h4",{className:"font-bold text-base text-fs-text leading-snug",children:Be==null?void 0:Be.name}),(Be==null?void 0:Be.youtubeUrl)&&c.jsx("button",{onClick:()=>O(Be),className:"text-fs-blue hover:text-blue-800 text-xs font-medium shrink-0 ml-2",children:"Ver detalle"})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2 min-h-[2.5em]",children:Be==null?void 0:Be.description}),(Be==null?void 0:Be.requiresApproval)&&c.jsx("div",{className:"mb-4",children:c.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-md text-xs font-semibold bg-orange-50 text-orange-700 border border-orange-200",children:[c.jsx(wc,{size:14,className:"mr-1.5"}),"Requiere Aprobacin del Administrador"]})}),c.jsxs("div",{className:"flex items-center justify-between mt-auto pt-3 border-t border-gray-100",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[11px] uppercase tracking-wider font-bold text-gray-400 mb-0.5",children:"Vacantes"}),c.jsxs("div",{className:"flex items-baseline",children:[c.jsx("span",{className:`text-lg font-bold ${P.availableVacancies>3?"text-gray-700":"text-orange-600"}`,children:P.availableVacancies}),c.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["/ ",P.totalVacancies]})]})]}),Se?R.find(ve=>ve.shiftId===P.id&&ve.status==="pending_approval")?c.jsxs("div",{className:"flex items-center text-orange-600 font-bold text-sm bg-orange-50 px-3 py-2 rounded-fs",children:[c.jsx(fp,{size:18,className:"mr-2"}),"Pendiente"]}):c.jsxs("div",{className:"flex items-center text-primary-600 font-bold text-sm bg-primary-50 px-3 py-2 rounded-fs",children:[c.jsx(Sm,{size:18,className:"mr-2"}),"Inscripto"]}):c.jsx("button",{onClick:()=>j(P.id),disabled:ee,className:`flex items-center px-4 py-2 rounded-fs text-sm font-bold transition-colors ${ee?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-primary-500 text-white hover:bg-primary-600 shadow-sm"}`,children:ee?"Completo":c.jsxs(c.Fragment,{children:[Be!=null&&Be.requiresApproval?c.jsx(wc,{size:16,className:"mr-1.5"}):c.jsx($u,{size:16,className:"mr-1.5"})," ",Be!=null&&Be.requiresApproval?"Postularme":"Inscribirme"]})})]})]})},P.id)})})]},ce)),Object.values(L).every(ce=>ce.length===0)&&c.jsx("div",{className:"text-center py-16 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:c.jsx("p",{className:"text-gray-500",children:"No hay turnos configurados para esta fecha."})})]})]})]})]})},IA=({eventId:t,eventStartDate:e,eventEndDate:r})=>{const[n,s]=X.useState([]),[o,u]=X.useState([]),[h,f]=X.useState(!0),[m,g]=X.useState(!1),[w,N]=X.useState(null),[x,T]=X.useState(!1),[k,O]=X.useState(""),[R,G]=X.useState(""),[D,W]=X.useState(!1),[ie,se]=X.useState(""),[K,Z]=X.useState({date:"",startTime:"13:00",endTime:"16:00",roleId:"",totalVacancies:10});X.useEffect(()=>{V()},[t]);const V=async()=>{f(!0);try{const[j,A]=await Promise.all([Jt.getShiftsByEvent(t),Jt.getRolesByEvent(t)]);s(j),u(A)}catch(j){console.error("Error al cargar datos:",j),Fe.error("Error al cargar turnos y roles")}finally{f(!1)}},ye=j=>{O(j),G(""),T(!0)},U=async()=>{if(!R){Fe.error("Selecciona una fecha destino");return}if(R<e||R>r){Fe.error(`La fecha debe estar entre ${e} y ${r}`);return}if(R===k){Fe.error("La fecha destino debe ser diferente a la origen");return}W(!0);try{const j=n.filter(L=>L.date===k),A=j.map(L=>{const q={eventId:t,date:R,timeSlot:L.timeSlot,roleId:L.roleId,totalVacancies:L.totalVacancies,availableVacancies:L.totalVacancies,coordinatorIds:[]};return Jt.createShift(q)});await Promise.all(A),Fe.success(`Se duplicaron ${j.length} turnos exitosamente`),T(!1),V()}catch(j){console.error(j),Fe.error("Error al duplicar turnos")}finally{W(!1)}},F=()=>{N(null),Z({date:"",startTime:"13:00",endTime:"16:00",roleId:"",totalVacancies:10}),g(!0)},oe=j=>{N(j);const[A,L]=j.timeSlot.split("-");Z({date:j.date,startTime:A?A.trim():"13:00",endTime:L?L.trim():"16:00",roleId:j.roleId,totalVacancies:j.totalVacancies}),Z(q=>({...q,totalVacancies:j.totalVacancies})),g(!0)},le=async()=>{if(!K.date||!K.roleId){Fe.error("Por favor completa todos los campos");return}if(K.date<e||K.date>r){Fe.error(`La fecha debe estar entre ${e} y ${r}`);return}try{const j=`${K.startTime} - ${K.endTime}`;if(w){const A=Number(K.totalVacancies);await Jt.updateShift(w.id,{date:K.date,timeSlot:j,roleId:K.roleId,totalVacancies:A}),Fe.success("Turno actualizado exitosamente")}else{const A={eventId:t,date:K.date,timeSlot:j,roleId:K.roleId,totalVacancies:Number(K.totalVacancies),availableVacancies:Number(K.totalVacancies),coordinatorIds:[]};await Jt.createShift(A),Fe.success("Turno creado exitosamente")}g(!1),V()}catch(j){Fe.error(j.message||"Error al guardar turno")}},_e=async j=>{if(confirm("Ests seguro de eliminar este turno? Esta accin no se puede deshacer."))try{await Jt.deleteShift(j),Fe.success("Turno eliminado"),V()}catch(A){Fe.error(A.message||"Error al eliminar turno")}},Q=j=>{const A=o.find(L=>L.id===j);return A?A.name:"Rol desconocido"},ue=j=>new Date(j+"T12:00:00").toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"}),he=j=>{var A;return(A=o.find(L=>L.id===j))==null?void 0:A.requiresApproval},je=n.filter(j=>ie?Q(j.roleId).toLowerCase().includes(ie.toLowerCase()):!0),me=je.reduce((j,A)=>(j[A.date]||(j[A.date]=[]),j[A.date].push(A),j),{}),z=Object.keys(me).sort();return h?c.jsxs("div",{className:"flex items-center justify-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"}),c.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando turnos..."})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Gestin de Turnos"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Total de turnos: ",c.jsx("span",{className:"font-semibold text-gray-900",children:je.length}),"  ","Vacantes totales: ",c.jsx("span",{className:"font-semibold text-gray-900",children:je.reduce((j,A)=>j+A.totalVacancies,0)})]})]}),c.jsxs("button",{onClick:F,className:"flex items-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 font-medium shadow-md",children:[c.jsx($u,{size:18}),"Agregar Turno"]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Sc,{size:18,className:"text-gray-400"})}),c.jsx("input",{type:"text",value:ie,onChange:j=>se(j.target.value),placeholder:"Buscar turno por nombre de rol...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition duration-150 ease-in-out"})]}),o.length===0&&c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(up,{className:"text-yellow-600 flex-shrink-0 mt-0.5",size:20}),c.jsx("div",{children:c.jsxs("p",{className:"text-sm text-yellow-700",children:[c.jsx("strong",{children:"Nota:"})," Necesitas crear roles primero antes de poder agregar turnos. Los roles definen las tareas que los voluntarios realizarn en cada turno."]})})]})}),z.length===0?c.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[c.jsx($a,{size:48,className:"mx-auto text-gray-300 mb-4"}),c.jsx("p",{className:"text-gray-500 mb-2",children:"No hay turnos creados para este evento"}),c.jsx("p",{className:"text-sm text-gray-400",children:'Haz clic en "Agregar Turno" para comenzar'})]}):c.jsx("div",{className:"space-y-6",children:z.map(j=>c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[c.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($a,{size:18,className:"text-gray-600"}),c.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:ue(j)}),c.jsxs("span",{className:"text-sm text-gray-500",children:["(",j,")"]})]}),c.jsxs("button",{onClick:()=>ye(j),className:"text-primary-600 hover:text-primary-800 text-sm font-medium flex items-center gap-1 hover:underline",title:"Copiar todos los turnos de este da a otra fecha",children:[c.jsx(Hp,{size:14}),"Duplicar Da"]})]}),c.jsx("div",{className:"divide-y divide-gray-200",children:me[j].map(A=>c.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Bo,{size:16,className:"text-gray-400"}),c.jsx("span",{className:"font-medium text-gray-900",children:A.timeSlot})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(fS,{size:16,className:"text-gray-400"}),c.jsx("span",{className:"text-sm text-gray-700",children:Q(A.roleId)}),he(A.roleId)&&c.jsxs("span",{className:"ml-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-orange-100 text-orange-800 border border-orange-200 flex items-center",title:"Este rol requiere aprobacin por un administrador",children:[c.jsx(wc,{size:10,className:"mr-1"}),"REQ. APROB"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Js,{size:16,className:"text-gray-400"}),c.jsxs("span",{className:"text-sm text-gray-700",children:[A.availableVacancies," / ",A.totalVacancies," disponibles"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full ${A.availableVacancies===0?"bg-red-500":A.availableVacancies<A.totalVacancies*.3?"bg-yellow-500":"bg-green-500"}`,style:{width:`${(A.totalVacancies-A.availableVacancies)/A.totalVacancies*100}%`}})}),c.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round((A.totalVacancies-A.availableVacancies)/A.totalVacancies*100),"%"]})]})]}),c.jsxs("div",{className:"flex gap-2 ml-4",children:[c.jsx("button",{onClick:()=>oe(A),className:"p-2 text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Editar turno",children:c.jsx(Ll,{size:18})}),c.jsx("button",{onClick:()=>_e(A.id),disabled:A.availableVacancies<A.totalVacancies,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:A.availableVacancies<A.totalVacancies?"No se puede eliminar un turno con reservas":"Eliminar turno",children:c.jsx(jc,{size:18})})]})]},A.id))})]},j))}),x&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6",children:[c.jsx("h3",{className:"text-xl font-serif font-bold text-gray-900 mb-4",children:"Duplicar Da"}),c.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Se copiarn todos los turnos del da ",c.jsx("strong",{children:k})," a la nueva fecha seleccionada."]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Fecha Destino"}),c.jsx("input",{type:"date",value:R,onChange:j=>G(j.target.value),min:e,max:r,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>T(!1),className:"flex-1 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium",disabled:D,children:"Cancelar"}),c.jsx("button",{onClick:U,disabled:!R||D,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium flex items-center justify-center gap-2 disabled:opacity-50",children:D?"Copiando...":"Confirmar Copia"})]})]})}),m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6",children:[c.jsx("h3",{className:"text-xl font-serif font-bold text-gray-900 mb-4",children:w?"Editar Turno":"Agregar Nuevo Turno"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Fecha *"}),c.jsx("input",{type:"date",value:K.date,onChange:j=>Z({...K,date:j.target.value}),min:e,max:r,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Rango permitido: ",e," a ",r]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Hora Inicio *"}),c.jsx("input",{type:"time",value:K.startTime,onChange:j=>Z({...K,startTime:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Hora Fin *"}),c.jsx("input",{type:"time",value:K.endTime,onChange:j=>Z({...K,endTime:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rol *"}),c.jsxs("select",{value:K.roleId,onChange:j=>Z({...K,roleId:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Selecciona un rol"}),o.map(j=>c.jsx("option",{value:j.id,children:j.name},j.id))]}),o.length===0&&c.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No hay roles disponibles. Crea roles primero."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Cantidad de Voluntarios *"}),c.jsx("input",{type:"number",min:"1",max:"100",value:K.totalVacancies,onChange:j=>Z({...K,totalVacancies:parseInt(j.target.value)||1}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nmero de voluntarios necesarios para este turno"})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium",children:"Cancelar"}),c.jsx("button",{onClick:le,disabled:!K.date||!K.roleId||o.length===0,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Guardar Cambios":"Crear Turno"})]})]})})]})},FA=({eventId:t})=>{const[e,r]=X.useState([]),[n,s]=X.useState(!0),[o,u]=X.useState(!1),[h,f]=X.useState(null),[m,g]=X.useState({name:"",description:"",detailedTasks:"",youtubeUrl:"",experienceLevel:"nueva",requiresApproval:!1,isVisible:!0});X.useEffect(()=>{w()},[t]);const w=async()=>{s(!0);try{const ie=await Jt.getRolesByEvent(t);r(ie)}catch(ie){console.error("Error al cargar roles:",ie),Fe.error("Error al cargar roles")}finally{s(!1)}},N=ie=>{const{name:se,value:K}=ie.target;g(Z=>({...Z,[se]:K}))},x=ie=>{const{name:se,checked:K}=ie.target;g(Z=>({...Z,[se]:K}))},T=()=>{f(null),g({name:"",description:"",detailedTasks:"",youtubeUrl:"",experienceLevel:"nueva",requiresApproval:!1,isVisible:!0}),u(!0)},k=ie=>{f(ie),g({name:ie.name,description:ie.description,detailedTasks:ie.detailedTasks,youtubeUrl:ie.youtubeUrl||"",experienceLevel:ie.experienceLevel,requiresApproval:ie.requiresApproval||!1,isVisible:ie.isVisible!==void 0?ie.isVisible:!0}),u(!0)},O=async ie=>{try{const se=!ie.isVisible,K=ie.isVisible===void 0?!1:!ie.isVisible;await Jt.updateRole(ie.id,{isVisible:K}),Fe.success(`Rol ${K?"visible":"oculto"} para voluntarios`),w()}catch(se){Fe.error(se.message||"Error al cambiar visibilidad")}},R=async ie=>{if(ie.preventDefault(),!m.name||!m.description||!m.detailedTasks){Fe.error("Por favor completa los campos obligatorios");return}try{h?(await Jt.updateRole(h.id,m),Fe.success("Rol actualizado exitosamente")):(await Jt.createRole({eventId:t,...m}),Fe.success("Rol creado exitosamente")),u(!1),w()}catch(se){Fe.error(se.message||"Error al guardar rol")}},G=async ie=>{if(confirm("Ests seguro de eliminar este rol? Esta accin no se puede deshacer."))try{await Jt.deleteRole(ie),Fe.success("Rol eliminado"),w()}catch(se){Fe.error(se.message||"Error al eliminar rol")}},D=ie=>{switch(ie){case"nueva":return"Experiencia Nueva";case"intermedia":return"Experiencia Intermedia";case"avanzada":return"Experiencia Avanzada";default:return ie}},W=ie=>{switch(ie){case"nueva":return"bg-green-100 text-green-800";case"intermedia":return"bg-blue-100 text-blue-800";case"avanzada":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return n?c.jsxs("div",{className:"flex items-center justify-center py-12",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"}),c.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando roles..."})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Gestin de Roles"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Define los roles y responsabilidades para los voluntarios en este evento."})]}),c.jsxs("button",{onClick:T,className:"flex items-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 font-medium shadow-md",children:[c.jsx($u,{size:18}),"Crear Nuevo Rol"]})]}),e.length===0?c.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[c.jsx(EN,{size:48,className:"mx-auto text-gray-300 mb-4"}),c.jsx("p",{className:"text-gray-500 mb-2",children:"No hay roles definidos para este evento"}),c.jsx("p",{className:"text-sm text-gray-400",children:'Haz clic en "Crear Nuevo Rol" para comenzar'})]}):c.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.map(ie=>c.jsxs("div",{className:`bg-white rounded-lg border p-6 hover:shadow-md transition-shadow relative overflow-hidden ${ie.isVisible??!0?"border-gray-200":"border-gray-300 bg-gray-50"}`,children:[!(ie.isVisible??!0)&&c.jsx("div",{className:"absolute top-0 right-0 bg-gray-200 text-gray-600 px-3 py-1 text-xs font-bold rounded-bl-lg z-10",children:"OCULTO"}),c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{children:c.jsxs("h4",{className:"text-lg font-bold text-gray-900 flex items-center gap-2 flex-wrap",children:[ie.name,c.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${W(ie.experienceLevel)}`,children:D(ie.experienceLevel)}),ie.requiresApproval&&c.jsxs("span",{className:"bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full flex items-center gap-1 border border-orange-200",children:[c.jsx(wc,{size:12}),"Requiere Aprobacin"]})]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>O(ie),className:`p-2 rounded-lg transition-colors ${ie.isVisible??!0?"text-gray-500 hover:text-gray-900 hover:bg-gray-100":"text-gray-400 hover:text-gray-700 hover:bg-gray-200"}`,title:ie.isVisible??!0?"Ocultar rol a voluntarios":"Hacer visible a voluntarios",children:ie.isVisible??!0?c.jsx(nv,{size:18}):c.jsx(av,{size:18})}),c.jsx("button",{onClick:()=>k(ie),className:"p-2 text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Editar rol",children:c.jsx(Ll,{size:18})}),c.jsx("button",{onClick:()=>G(ie.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar rol",children:c.jsx(jc,{size:18})})]})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:ie.description}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[c.jsxs("h5",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[c.jsx(Ef,{size:16}),"Tareas Detalladas"]}),c.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:ie.detailedTasks})]}),ie.youtubeUrl&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[c.jsx(mp,{size:16}),c.jsx("a",{href:ie.youtubeUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Ver video de capacitacin"})]})]},ie.id))}),o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[c.jsx("h3",{className:"text-xl font-serif font-bold text-gray-900 mb-6",children:h?"Editar Rol":"Crear Nuevo Rol"}),c.jsxs("form",{onSubmit:R,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre del Rol *"}),c.jsx("input",{type:"text",name:"name",value:m.name,onChange:N,placeholder:"Ej: Coordinador de Ingreso",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descripcin Corta *"}),c.jsx("textarea",{name:"description",value:m.description,onChange:N,placeholder:"Breve descripcin de las responsabilidades...",rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tareas Detalladas *"}),c.jsx("textarea",{name:"detailedTasks",value:m.detailedTasks,onChange:N,placeholder:"Lista detallada de tareas y procedimientos...",rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nivel de Experiencia *"}),c.jsxs("select",{name:"experienceLevel",value:m.experienceLevel,onChange:N,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"nueva",children:"Nueva (Sin experiencia previa)"}),c.jsx("option",{value:"intermedia",children:"Intermedia (Alguna experiencia)"}),c.jsx("option",{value:"avanzada",children:"Avanzada (Requiere capacitacin)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"URL Video Capacitacin (Opcional)"}),c.jsxs("div",{className:"relative",children:[c.jsx(mp,{className:"absolute left-3 top-3.5 text-gray-400",size:20}),c.jsx("input",{type:"url",name:"youtubeUrl",value:m.youtubeUrl,onChange:N,placeholder:"https://youtube.com/...",className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-50 rounded-lg border border-orange-100",children:[c.jsx("div",{className:"flex items-center h-5",children:c.jsx("input",{type:"checkbox",id:"requiresApproval",name:"requiresApproval",checked:m.requiresApproval,onChange:x,className:"h-5 w-5 text-primary-600 rounded border-gray-300 focus:ring-primary-500"})}),c.jsxs("label",{htmlFor:"requiresApproval",className:"flex flex-col cursor-pointer",children:[c.jsxs("span",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[c.jsx(wc,{size:16,className:"text-orange-600"}),"Requiere Aprobacin"]}),c.jsx("span",{className:"text-xs text-gray-600 mt-1",children:"Los inscritos necesitarn validacin."})]})]}),c.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[c.jsx("div",{className:"flex items-center h-5",children:c.jsx("input",{type:"checkbox",id:"isVisible",name:"isVisible",checked:m.isVisible,onChange:x,className:"h-5 w-5 text-primary-600 rounded border-gray-300 focus:ring-primary-500"})}),c.jsxs("label",{htmlFor:"isVisible",className:"flex flex-col cursor-pointer",children:[c.jsxs("span",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[m.isVisible?c.jsx(nv,{size:16,className:"text-blue-600"}):c.jsx(av,{size:16,className:"text-gray-400"}),"Visible para Voluntarios"]}),c.jsx("span",{className:"text-xs text-gray-600 mt-1",children:"Si se desmarca, este rol y sus turnos quedarn ocultos."})]})]})]}),c.jsxs("div",{className:"flex gap-4 pt-4 border-t border-gray-100",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-semibold",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-semibold shadow-lg",children:h?"Guardar Cambios":"Crear Rol"})]})]})]})})]})},$A=({eventId:t})=>{const[e,r]=X.useState([]),[n,s]=X.useState(!0),[o,u]=X.useState(!1),[h,f]=X.useState(!1),[m,g]=X.useState({name:"",description:"",quantity:0,category:"general",isRequired:!0});X.useEffect(()=>{w()},[t]);const w=async()=>{s(!0);try{const O=await Lt.getMaterialsByEvent(t);r(O)}catch(O){console.error("Error loading materials:",O)}finally{s(!1)}},N=async O=>{O.preventDefault();try{h&&m.id?(await Lt.updateMaterial(m.id,m),Fe.success("Material actualizado")):(await Lt.createMaterial({...m,eventId:t}),Fe.success("Material creado")),u(!1),k(),w()}catch(R){console.error(R),Fe.error("Error al guardar material")}},x=async O=>{if(window.confirm("Ests seguro de eliminar este material?"))try{await Lt.deleteMaterial(O),Fe.success("Material eliminado"),w()}catch{Fe.error("Error al eliminar")}},T=O=>{g(O),f(!0),u(!0)},k=()=>{g({name:"",description:"",quantity:0,category:"general",isRequired:!0}),f(!1)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Materiales y Entregables"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Gestiona los materiales que se deben entregar a los voluntarios (camisetas, credenciales, etc.)"})]}),c.jsxs("button",{onClick:()=>{k(),u(!0)},className:"flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#8CB83E] hover:bg-[#7cb342]",children:[c.jsx($u,{size:20,className:"mr-2"}),"Nuevo Material"]})]}),o&&c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200 shadow-sm animate-fade-in",children:[c.jsx("h3",{className:"text-md font-medium text-gray-900 mb-4",children:h?"Editar Material":"Nuevo Material"}),c.jsxs("form",{onSubmit:N,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre del Item"}),c.jsx("input",{type:"text",required:!0,value:m.name,onChange:O=>g({...m,name:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2 border",placeholder:"Ej. Camiseta Oficial, Gafete"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Categora"}),c.jsxs("select",{value:m.category,onChange:O=>g({...m,category:O.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2 border",children:[c.jsx("option",{value:"general",children:"General"}),c.jsx("option",{value:"clothing",children:"Indumentaria"}),c.jsx("option",{value:"access",children:"Acceso / Credenciales"}),c.jsx("option",{value:"food",children:"Alimentacin"})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripcin / Detalles"}),c.jsx("textarea",{value:m.description||"",onChange:O=>g({...m,description:O.target.value}),rows:2,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2 border",placeholder:"Detalles sobre tallas, lugar de entrega, etc."})]})]}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[c.jsx("input",{type:"checkbox",checked:m.isRequired,onChange:O=>g({...m,isRequired:O.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("span",{children:"Es obligatorio / Para todos"})]})}),c.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#8CB83E] hover:bg-[#7cb342]",children:h?"Guardar Cambios":"Crear Material"})]})]})]}),c.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md border border-gray-200",children:c.jsx("ul",{className:"divide-y divide-gray-200",children:e.length===0&&!n?c.jsxs("li",{className:"px-6 py-12 text-center text-gray-500",children:[c.jsx(Cf,{size:48,className:"mx-auto text-gray-300 mb-2"}),c.jsx("p",{children:"No hay materiales definidos para este evento."})]}):e.map(O=>c.jsx("li",{className:"px-6 py-4 hover:bg-gray-50 transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${O.category==="clothing"?"bg-blue-100 text-blue-600":O.category==="access"?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600"}`,children:c.jsx(Cf,{size:20})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900",children:O.name}),c.jsx("p",{className:"text-sm text-gray-500",children:O.description}),O.isRequired&&c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 mt-1",children:"Obligatorio"})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>T(O),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:c.jsx(Ll,{size:18})}),c.jsx("button",{onClick:()=>x(O.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:c.jsx(jc,{size:18})})]})]})},O.id))})})]})},HA=({eventId:t,onClose:e})=>{const[r,n]=X.useState([]),[s,o]=X.useState([]),[u,h]=X.useState(!0),[f,m]=X.useState(""),[g,w]=X.useState("all"),[N,x]=X.useState("all"),[T,k]=X.useState({});X.useEffect(()=>{O()},[t]);const O=async()=>{h(!0);try{const[K,Z,V,ye]=await Promise.all([Jt.getAllUsers(),Jt.getMaterialsByEvent(t),Jt.getBookingsByEvent(t),Jt.getUserMaterials(t)]),U=new Set(V.map(_e=>_e.userId)),F=K.filter(_e=>U.has(_e.id));n(F);const oe=Z.filter(_e=>_e.category!=="food");o(oe);const le={};F.forEach(_e=>{le[_e.id]={},Z.forEach(Q=>{le[_e.id][Q.id]=!1})}),Array.isArray(ye)&&ye.forEach(_e=>{le[_e.user_id]&&(le[_e.user_id][_e.material_id]=!0)}),k(le)}catch(K){console.error(K),Fe.error("Error cargando datos")}finally{h(!1)}},R=async(K,Z)=>{var U;const V=(U=T[K])==null?void 0:U[Z],ye=!V;k(F=>({...F,[K]:{...F[K],[Z]:ye}}));try{await Jt.toggleUserMaterial(t,K,Z,ye)}catch(F){console.error(F),Fe.error("Error al guardar estado"),k(oe=>({...oe,[K]:{...oe[K],[Z]:V}}))}},G=X.useMemo(()=>{const K=new Set(r.map(Z=>Z.tshirtSize).filter(Boolean));return Array.from(K).sort()},[r]),D=X.useMemo(()=>r.filter(K=>{const Z=K.fullName.toLowerCase().includes(f.toLowerCase())||K.dni.includes(f),V=N==="all"||K.tshirtSize===N;return Z&&V}),[r,f,N]),W=X.useMemo(()=>s.filter(K=>g==="all"||K.id===g),[s,g]),ie=X.useMemo(()=>{let K=D.length*W.length,Z=0;return D.forEach(V=>{W.forEach(ye=>{var U;(U=T[V.id])!=null&&U[ye.id]&&Z++})}),{totalMaterials:K,delivered:Z,percentage:K>0?Math.round(Z/K*100):0}},[D,W,T]),se=()=>{var ye;const K=new vt;K.setFontSize(18),K.text("Entrega de Materiales",14,22),K.setFontSize(10);let Z=`Filtros: ${g!=="all"?(ye=s.find(U=>U.id===g))==null?void 0:ye.name:"Todos los materiales"}`;N!=="all"&&(Z+=`, Talle: ${N}`),K.text(Z,14,28);const V=D.map(U=>[U.fullName,U.tshirtSize||"-",...W.map(oe=>"(__)")]);Vf(K,{head:[["Voluntario","Talle",...W.map(U=>U.name)]],body:V,startY:35}),K.save(`entrega-materiales-${g!=="all"?"filtrado":"completo"}.pdf`)};return c.jsxs("div",{className:"flex flex-col h-full bg-gray-50 min-h-screen",children:[c.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-0 z-10 shadow-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:e,className:"p-2 -ml-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:c.jsx(SN,{size:24})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[c.jsx(Cf,{className:"text-[#8CB83E]",size:24}),"Control de Materiales"]}),c.jsx("p",{className:"text-sm text-gray-500 hidden sm:block",children:"Registra la entrega de items a voluntarios"})]})]})})}),c.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex justify-between text-sm font-medium mb-1",children:[c.jsx("span",{className:"text-gray-600",children:"Progreso Total"}),c.jsxs("span",{className:"text-[#8CB83E]",children:[ie.percentage,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:c.jsx("div",{className:"bg-[#8CB83E] h-2.5 rounded-full transition-all duration-300",style:{width:`${ie.percentage}%`}})})]}),c.jsxs("div",{className:"hidden sm:flex text-sm text-gray-500 gap-4",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"font-bold text-gray-900",children:ie.delivered}),c.jsx("span",{className:"text-xs uppercase",children:"Entregados"})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"font-bold text-gray-900",children:ie.totalMaterials}),c.jsx("span",{className:"text-xs uppercase",children:"Total Items"})]})]})]})}),c.jsxs("div",{className:"px-4 py-4 max-w-7xl mx-auto w-full flex flex-col gap-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Sc,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",placeholder:"Buscar voluntario...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-[#8CB83E] focus:border-[#8CB83E]",value:f,onChange:K=>m(K.target.value)})]}),c.jsxs("button",{onClick:se,className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[c.jsx(hp,{className:"mr-2 h-4 w-4"}),"Imprimir"]})]}),c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsxs("div",{className:"flex-1 min-w-[200px]",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Filtrar por Material"}),c.jsxs("select",{value:g,onChange:K=>w(K.target.value),className:"block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-[#8CB83E] focus:border-[#8CB83E] sm:text-sm",children:[c.jsx("option",{value:"all",children:"Todos los Materiales"}),s.map(K=>c.jsx("option",{value:K.id,children:K.name},K.id))]})]}),c.jsxs("div",{className:"flex-1 min-w-[200px]",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Filtrar por Talle"}),c.jsxs("select",{value:N,onChange:K=>x(K.target.value),className:"block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-[#8CB83E] focus:border-[#8CB83E] sm:text-sm",children:[c.jsx("option",{value:"all",children:"Todos los Talles"}),G.map(K=>c.jsx("option",{value:K,children:K},K))]})]})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-20 max-w-7xl mx-auto w-full",children:u?c.jsx("div",{className:"flex justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#8CB83E]"})}):c.jsxs("div",{className:"space-y-4",children:[D.map(K=>c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:K.fullName}),c.jsxs("div",{className:"text-sm text-gray-500 flex gap-3 mt-1",children:[c.jsxs("span",{children:["Talle: ",c.jsx("span",{className:"font-semibold text-gray-700",children:K.tshirtSize||"N/A"})]}),c.jsx("span",{children:"|"}),c.jsxs("span",{children:["DNI: ",K.dni]})]})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:W.map(Z=>{var ye;const V=(ye=T[K.id])==null?void 0:ye[Z.id];return c.jsxs("button",{onClick:()=>R(K.id,Z.id),className:`
                                                    flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors border
                                                    ${V?"bg-green-100 text-green-800 border-green-200 hover:bg-green-200":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}
                                                `,children:[V?c.jsx(Qs,{size:16,className:"text-green-600"}):c.jsx(IN,{size:16,className:"text-gray-400"}),Z.name]},Z.id)})})]},K.id)),D.length===0&&c.jsx("div",{className:"text-center py-8 text-gray-500",children:"No se encontraron voluntarios con los filtros seleccionados."})]})})]})},VA=({user:t,onViewMetrics:e})=>{const[r,n]=X.useState("listado"),[s,o]=X.useState("details"),[u,h]=X.useState(null),[f,m]=X.useState(!1),[g,w]=X.useState(""),[N,x]=X.useState(null),[T,k]=X.useState("todos"),[O,R]=X.useState("todos"),[G,D]=X.useState("todos"),[W,ie]=X.useState([]),[se,K]=X.useState(!0),[Z,V]=X.useState({nombre:"",slug:"",ubicacion:"",pais:"",contactEmail:"",fechaInicio:"",fechaFin:"",descripcion:"",estado:"Inactivo"}),ye=_f.useRef(null);X.useEffect(()=>{r==="crear"&&setTimeout(()=>{ye.current&&ye.current.focus()},100)},[r]),X.useEffect(()=>{U()},[]);const U=async()=>{K(!0);try{const L=await Jt.getAllEvents();ie(L)}catch{Fe.error("Error al cargar eventos")}finally{K(!1)}},F=L=>{const{name:q,value:te}=L.target;V(de=>({...de,[q]:te}))},oe=()=>{const L=Z.nombre.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"").trim();V(q=>({...q,slug:L})),Fe.success("URL generada automticamente")},le=()=>{const q=`${window.location.href.split("#")[0].replace(/\/$/,"")} /#/${Z.slug} `;navigator.clipboard.writeText(q),Fe.success("URL copiada al portapapeles")},_e=()=>{V({nombre:"",slug:"",ubicacion:"",pais:"",contactEmail:"",fechaInicio:"",fechaFin:"",descripcion:"",estado:"Inactivo"}),n("crear")},Q=L=>{h(L),V({nombre:L.nombre,slug:L.slug,ubicacion:L.ubicacion,pais:L.pais,contactEmail:L.contactEmail||"",fechaInicio:L.fechaInicio,fechaFin:L.fechaFin,descripcion:L.descripcion,estado:L.estado}),n("editar")},ue=(L,q=null,te)=>{te&&te.stopPropagation(),w(L),h(q),m(!0)},he=async()=>{if(u)try{g==="archivar"?(await Jt.archiveEvent(u.id),Fe.success("Evento archivado")):g==="eliminar"&&(await Jt.deleteEvent(u.id),Fe.success("Evento eliminado")),U()}catch(L){Fe.error(L.message||"Error al ejecutar accin")}finally{m(!1),h(null)}},je=async()=>{try{r==="crear"?(await Jt.createEvent(Z),Fe.success("Evento creado exitosamente")):u&&(await Jt.updateEvent(u.id,Z),Fe.success("Evento actualizado")),U(),n("listado")}catch(L){Fe.error(L.message||"Error al guardar evento")}},me=L=>L==="Activo"?"bg-[#e8f5e9] text-[#2e7d32] border border-[#c8e6c9]":L==="Inactivo"?"bg-gray-100 text-gray-700 border border-gray-200":"bg-blue-50 text-blue-700 border border-blue-200",z=W.filter(L=>{const q=T==="todos"||L.estado===T,te=O==="todos"||L.pais===O,de=G==="todos"||G==="2026"&&L.fechaInicio.includes("2026")||G==="2025"&&L.fechaInicio.includes("2025");return q&&te&&de}),j=["todos",...new Set(W.map(L=>L.pais))],A=({title:L,count:q,icon:te,bgClass:de,iconClass:ge})=>c.jsxs("div",{className:"bg-white rounded-lg p-5 shadow-sm border border-gray-200 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:L}),c.jsx("p",{className:"text-3xl font-light text-gray-900",children:q})]}),c.jsx("div",{className:`p - 3 rounded - full ${de} `,children:c.jsx(te,{size:24,className:ge})})]});return r==="delivery"&&N?c.jsx("div",{className:"min-h-screen font-sans text-gray-900 bg-[#F7F7F7]",children:c.jsx(HA,{eventId:N,onClose:()=>{n("listado"),x(null)}})}):r==="listado"?c.jsxs("div",{className:"min-h-screen pb-20 sm:pb-10 font-sans text-gray-900 bg-[#F7F7F7]",children:[c.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 md:py-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-sans font-normal text-gray-900 tracking-tight",children:"Gestin de Eventos"}),c.jsx("p",{className:"text-gray-500 mt-1 font-light",children:"Administra y organiza las actividades de voluntariado."})]}),c.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[e&&c.jsxs("button",{onClick:()=>e("users"),className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[c.jsx(Js,{className:"mr-2 h-4 w-4"}),"Usuarios"]}),c.jsxs("button",{onClick:_e,className:"inline-flex items-center justify-center px-5 py-2 border border-transparent text-sm font-medium rounded-full text-white bg-[#8CB83E] hover:bg-[#7cb342] shadow-sm transition-colors",children:[c.jsx($u,{className:"mr-2 h-5 w-5"}),"Nuevo evento"]})]})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8 space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(A,{title:"Eventos Activos",count:W.filter(L=>L.estado==="Activo").length,icon:$a,bgClass:"bg-[#def4c6]",iconClass:"text-[#3d8315]"}),c.jsx(A,{title:"Eventos Inactivos",count:W.filter(L=>L.estado==="Inactivo").length,icon:$a,bgClass:"bg-gray-100",iconClass:"text-gray-500"}),c.jsx(A,{title:"Archivados",count:W.filter(L=>L.estado==="Archivado").length,icon:Zh,bgClass:"bg-blue-50",iconClass:"text-[#005994]"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[c.jsx("div",{className:"flex items-center text-gray-400 mr-2",children:c.jsx(Sc,{size:20})}),c.jsxs("div",{className:"flex-1 w-full sm:w-auto grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsxs("select",{value:T,onChange:L=>k(L.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[c.jsx("option",{value:"todos",children:"Todos los estados"}),c.jsx("option",{value:"Activo",children:"Activos"}),c.jsx("option",{value:"Inactivo",children:"Inactivos"}),c.jsx("option",{value:"Archivado",children:"Archivados"})]}),c.jsx("select",{value:O,onChange:L=>R(L.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:j.map(L=>c.jsx("option",{value:L,children:L==="todos"?"Todos los pases":L},L))}),c.jsxs("select",{value:G,onChange:L=>D(L.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[c.jsx("option",{value:"todos",children:"Todos los aos"}),c.jsx("option",{value:"2026",children:"2026"}),c.jsx("option",{value:"2025",children:"2025"})]})]})]}),se?c.jsx("div",{className:"flex justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(L=>c.jsxs("div",{onClick:()=>Q(L),className:"group bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"p-6 flex-1",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("span",{className:`px - 3 py - 1 rounded - full text - xs font - semibold ${me(L.estado)} `,children:L.estado}),e&&c.jsx("button",{onClick:q=>{q.stopPropagation(),e(L.id)},className:"text-gray-400 hover:text-[#8CB83E] transition-colors p-1",title:"Ver mtricas",children:c.jsx(mf,{size:18})})]}),c.jsx("h3",{className:"text-xl font-sans font-medium text-gray-900 mb-2 group-hover:text-[#8CB83E] transition-colors",children:L.nombre}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-4",children:[c.jsx(dp,{size:14}),c.jsxs("span",{children:[L.ubicacion,", ",L.pais]})]}),c.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 leading-relaxed mb-4",children:L.descripcion||"Sin descripcin disponible."}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Fecha"}),c.jsx("p",{className:"text-sm font-medium text-gray-700",children:new Date(L.fechaInicio).toLocaleDateString()})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider",children:"Voluntarios"}),c.jsx("p",{className:"text-sm font-medium text-gray-700",children:L.voluntarios})]})]})]}),c.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-t border-gray-100 flex items-center justify-between",children:[c.jsxs("div",{className:"flex gap-1",children:[L.estado!=="Archivado"&&c.jsx("button",{onClick:q=>ue("archivar",L,q),className:"p-2 text-gray-500 hover:text-[#005994] hover:bg-white rounded-md transition-colors",title:"Archivar",children:c.jsx(Zh,{size:18})}),L.voluntarios===0&&c.jsx("button",{onClick:q=>ue("eliminar",L,q),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-white rounded-md transition-colors",title:"Eliminar",children:c.jsx(jc,{size:18})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:q=>{q.stopPropagation(),x(L.id),n("delivery")},className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-purple-600 bg-purple-50 border border-purple-100 rounded-md hover:bg-purple-100 transition-colors",title:"Entrega de Materiales",children:[c.jsx(Cf,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Materiales"})]}),e&&c.jsxs("button",{onClick:q=>{q.stopPropagation(),e(L.id)},className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-gray-600 bg-white border border-gray-200 rounded-md hover:text-[#005994] hover:border-[#005994] transition-colors",children:[c.jsx(mf,{size:16}),c.jsx("span",{className:"hidden sm:inline",children:"Mtricas"})]}),c.jsxs("button",{onClick:()=>Q(L),className:"flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-white bg-[#8CB83E] rounded-md hover:bg-[#7cb342] shadow-sm transition-colors",children:[c.jsx(Ll,{size:16}),c.jsx("span",{children:"Editar"})]})]})]})]},L.id))}),z.length===0&&!se&&c.jsxs("div",{className:"text-center py-16 bg-white rounded-lg border border-dashed border-gray-300",children:[c.jsx(Sc,{size:48,className:"mx-auto text-gray-300 mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No se encontraron eventos"}),c.jsx("p",{className:"text-gray-500",children:"Intenta ajustar los filtros de bsqueda."})]})]}),f&&u&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 animate-slide-up",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center mb-4 mx-auto",children:c.jsx(Zh,{className:"text-red-600",size:24})}),c.jsx("h3",{className:"text-lg font-sans font-bold text-center text-gray-900 mb-2",children:g==="archivar"?"Archivar evento?":"Eliminar evento?"}),c.jsx("p",{className:"text-gray-600 text-center text-sm mb-6",children:g==="archivar"?`"${u.nombre}" pasar a modo solo lectura.`:`"${u.nombre}" se eliminar permanentemente.`}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium text-sm transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:he,className:`flex - 1 px - 4 py - 2 rounded - lg text - white font - medium text - sm transition - colors shadow - sm ${g==="archivar"?"bg-[#8CB83E] hover:bg-[#7cb342]":"bg-red-600 hover:bg-red-700"} `,children:"Confirmar"})]})]})}),c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-2 sm:hidden z-50 flex shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] pb-safe",children:[e&&c.jsxs("button",{onClick:()=>e("users"),className:"flex-1 flex flex-col items-center justify-center gap-1 py-2 text-gray-600 active:bg-gray-50 rounded-lg transition-colors",children:[c.jsx(Js,{size:24}),c.jsx("span",{className:"text-[10px] font-medium",children:"Usuarios"})]}),c.jsxs("button",{onClick:_e,className:`flex - 1 flex flex - col items - center justify - center gap - 1 py - 2 rounded - lg transition - colors ${e?"":"w-full"} text - [#8CB83E] active: bg - green - 50`,children:[c.jsx($u,{size:24}),c.jsx("span",{className:"text-[10px] font-medium",children:"Nuevo Evento"})]})]})]}):c.jsxs("div",{className:"min-h-screen pb-20 sm:pb-10 font-sans text-gray-900 bg-[#F7F7F7]",children:[c.jsxs("div",{className:"bg-white border-b border-gray-200",children:[c.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-4",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>n("listado"),className:"p-2 -ml-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:c.jsx(zo,{size:24})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-sans font-medium text-gray-900",children:r==="crear"?"Nuevo Evento":u==null?void 0:u.nombre}),c.jsx("p",{className:"text-sm text-gray-500",children:r==="crear"?"Crear un nuevo evento de voluntariado":"Gestin y edicin"})]})]})})}),u&&c.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 mt-2",children:c.jsxs("div",{className:"flex space-x-6",children:[c.jsx("button",{onClick:()=>o("details"),className:`pb - 3 text - sm font - medium border - b - 2 transition - colors ${s==="details"?"border-[#8CB83E] text-[#8CB83E]":"border-transparent text-gray-500 hover:text-gray-700"} `,children:"Detalles"}),c.jsx("button",{onClick:()=>o("roles"),className:`pb - 3 text - sm font - medium border - b - 2 transition - colors ${s==="roles"?"border-[#8CB83E] text-[#8CB83E]":"border-transparent text-gray-500 hover:text-gray-700"} `,children:"Roles"}),c.jsx("button",{onClick:()=>o("shifts"),className:`pb - 3 text - sm font - medium border - b - 2 transition - colors ${s==="shifts"?"border-[#8CB83E] text-[#8CB83E]":"border-transparent text-gray-500 hover:text-gray-700"} `,children:"Turnos"}),c.jsx("button",{onClick:()=>o("materials"),className:`pb - 3 text - sm font - medium border - b - 2 transition - colors ${s==="materials"?"border-[#8CB83E] text-[#8CB83E]":"border-transparent text-gray-500 hover:text-gray-700"} `,children:"Materiales"})]})})]}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:s==="roles"&&u?c.jsx("div",{className:"p-6",children:c.jsx(FA,{eventId:u.id})}):s==="shifts"&&u?c.jsx("div",{className:"p-6",children:c.jsx(IA,{eventId:u.id,eventStartDate:u.fechaInicio,eventEndDate:u.fechaFin})}):s==="materials"&&u?c.jsx("div",{className:"p-6",children:c.jsx($A,{eventId:u.id})}):c.jsxs("div",{className:"p-6 sm:p-8 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del evento"}),c.jsx("input",{ref:ye,type:"text",name:"nombre",value:Z.nombre,onChange:F,placeholder:"Ej: Feria del Libro Buenos Aires 2026",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-[#8CB83E] focus:border-[#8CB83E] transition-shadow"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL amigable (Slug)"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",name:"slug",value:Z.slug,onChange:F,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-sm font-mono"}),c.jsx("button",{type:"button",onClick:oe,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-sm font-medium",children:"Generar"})]}),Z.slug&&c.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-blue-600 bg-blue-50 px-3 py-2 rounded border border-blue-100",children:[c.jsx("span",{className:"truncate font-mono",children:`${window.location.href.split("#")[0].replace(/\/$/,"")} /#/${Z.slug} `}),c.jsx("button",{onClick:le,className:"ml-2 hover:underline font-medium",children:"Copiar"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ubicacin"}),c.jsx("input",{type:"text",name:"ubicacion",value:Z.ubicacion,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-[#8CB83E] focus:border-[#8CB83E]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pas"}),c.jsx("input",{type:"text",name:"pais",value:Z.pais,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-[#8CB83E] focus:border-[#8CB83E]"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email de Contacto (Pblico)"}),c.jsx("input",{type:"email",name:"contactEmail",value:Z.contactEmail||"",onChange:F,placeholder:"contacto@evento.com",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-[#8CB83E] focus:border-[#8CB83E] transition-shadow"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Inicio"}),c.jsx("input",{type:"date",name:"fechaInicio",value:Z.fechaInicio,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-[#8CB83E] focus:border-[#8CB83E]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Fin"}),c.jsx("input",{type:"date",name:"fechaFin",value:Z.fechaFin,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-[#8CB83E] focus:border-[#8CB83E]"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),c.jsx("textarea",{name:"descripcion",value:Z.descripcion,onChange:F,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-[#8CB83E] focus:border-[#8CB83E]"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),c.jsxs("select",{name:"estado",value:Z.estado,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-1 focus:ring-[#8CB83E] focus:border-[#8CB83E]",children:[c.jsx("option",{value:"Activo",children:"Activo"}),c.jsx("option",{value:"Inactivo",children:"Inactivo"}),c.jsx("option",{value:"Archivado",children:"Archivado"})]})]})]}),c.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-100",children:[c.jsx("button",{type:"button",onClick:()=>n("listado"),className:"px-5 py-2 text-gray-700 bg-white border border-gray-300 rounded-full hover:bg-gray-50 font-medium text-sm transition-colors",children:"Cancelar"}),c.jsx("button",{type:"button",onClick:je,className:"px-6 py-2 text-white bg-[#8CB83E] rounded-full hover:bg-[#7cb342] font-medium text-sm shadow-sm transition-colors",children:"Guardar Cambios"})]})]})}),u&&s==="details"&&r==="editar"&&c.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-8",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4",children:"Zona de Peligro"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.estado!=="Archivado"&&c.jsxs("button",{onClick:()=>ue("archivar",u),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2",children:[c.jsx(Zh,{size:16}),"Archivar Evento"]}),u.voluntarios===0&&c.jsxs("button",{onClick:()=>ue("eliminar",u),className:"px-4 py-2 text-sm font-medium text-red-600 bg-red-50 border border-red-100 rounded-lg hover:bg-red-100 flex items-center justify-center gap-2",children:[c.jsx(jc,{size:16}),"Eliminar Evento"]})]})]})]}),u&&c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-2 sm:hidden z-40 flex justify-around",children:[c.jsxs("button",{onClick:()=>o("details"),className:`p - 2 flex flex - col items - center ${s==="details"?"text-[#8CB83E]":"text-gray-400"} `,children:[c.jsx($a,{size:20}),c.jsx("span",{className:"text-[10px] mt-1",children:"Detalles"})]}),c.jsxs("button",{onClick:()=>o("roles"),className:`p - 2 flex flex - col items - center ${s==="roles"?"text-[#8CB83E]":"text-gray-400"} `,children:[c.jsx(Js,{size:20}),c.jsx("span",{className:"text-[10px] mt-1",children:"Roles"})]}),c.jsxs("button",{onClick:()=>o("shifts"),className:`p - 2 flex flex - col items - center ${s==="shifts"?"text-[#8CB83E]":"text-gray-400"} `,children:[c.jsx(mf,{size:20}),c.jsx("span",{className:"text-[10px] mt-1",children:"Turnos"})]})]})]})},GA=({eventId:t})=>{const[e,r]=X.useState([]),[n,s]=X.useState([]),[o,u]=X.useState([]),[h,f]=X.useState(!0),[m,g]=X.useState(""),[w,N]=X.useState([]),[x,T]=X.useState("todos"),[k,O]=X.useState(null),[R,G]=X.useState(!1),[D,W]=X.useState(null),[ie,se]=X.useState([]),[K,Z]=X.useState(!1),[V,ye]=X.useState(null),[U,F]=X.useState([]);X.useEffect(()=>{oe()},[t]);const oe=async(ee=!1)=>{ee||f(!0);try{const[Se,ve,Ge,Ye,Ze]=await Promise.all([Lt.getAllUsers(),Lt.getBookingsByEvent(t),Lt.getEventById(t),Lt.getShiftsByEvent(t),Lt.getRolesByEvent(t)]),Qe=ve.filter(it=>it.shiftId!==null),at=new Set(Qe.map(it=>it.userId));Ye.forEach(it=>{it.coordinatorIds&&it.coordinatorIds.forEach(Et=>at.add(Et))});const At=Se.filter(it=>at.has(it.id)),nt=[];Ye.forEach(it=>{it.coordinatorIds&&it.coordinatorIds.forEach(Et=>{if(!Qe.some(Ct=>Ct.userId===Et&&Ct.shiftId===it.id)){const Ct=Ze.find(ht=>ht.id===it.roleId);nt.push({id:`coord_${it.id}_${Et}`,userId:Et,shiftId:it.id,eventId:t,status:"confirmed",attendance:"pending",requestedAt:new Date().toISOString(),shift:{...it,role:Ct}})}})}),r(At),s([...Qe,...nt]),ye(Ge),u(Ye),N(Ze),F(Se)}catch(Se){console.error("Error al cargar voluntarios:",Se),Fe.error("Error al cargar voluntarios del evento")}finally{ee||f(!1)}},le=ee=>{O({...ee}),G(!0)},_e=async()=>{if(k)try{const ee={...k},Se=e.find(ve=>ve.id===k.id);if(Se&&Se.role==="coordinator"&&ee.role!=="coordinator"){const ve=o.filter(Ge=>{var Ye;return(Ye=Ge.coordinatorIds)==null?void 0:Ye.includes(k.id)});for(const Ge of ve)await Lt.removeCoordinatorFromShift(Ge.id,k.id);Fe.success("Se eliminaron los turnos de coordinacin automticamente.")}await Lt.updateUser(ee),Fe.success("Usuario actualizado correctamente"),G(!1),O(null),oe()}catch(ee){Fe.error(ee.message||"Error al actualizar usuario")}},Q=async ee=>{W(ee),Z(!0),se([]);try{const Se=await Lt.getUserBookings(ee.id,t),Ye=(await Lt.getShiftsByEvent(t)).filter(Ze=>{var Qe;return(Qe=Ze.coordinatorIds)==null?void 0:Qe.includes(ee.id)}).map(Ze=>{const Qe=w.find(at=>at.id===Ze.roleId);return{id:`coord|${Ze.id}|${ee.id}`,userId:ee.id,shiftId:Ze.id,eventId:t,status:"confirmed",attendance:"pending",requestedAt:new Date().toISOString(),shift:{...Ze,role:Qe}}}).filter(Ze=>!Se.some(Qe=>Qe.shiftId===Ze.shiftId));se([...Se,...Ye])}catch(Se){console.error("Error fetching user shifts",Se),Fe.error("Error al cargar turnos del voluntario")}finally{Z(!1)}},ue=async ee=>{if(k)try{await Lt.assignCoordinatorToShift(ee,k.id),Fe.success("Turno asignado al coordinador");const Se=await Lt.getShiftsByEvent(t);u(Se),u(Se),oe(!0)}catch(Se){Fe.error(Se.message||"Error al asignar turno")}},he=async ee=>{if(k)try{await Lt.removeCoordinatorFromShift(ee,k.id),Fe.success("Turno removido");const Se=await Lt.getShiftsByEvent(t);u(Se),u(Se),oe(!0)}catch(Se){Fe.error(Se.message||"Error al remover turno")}},je=async ee=>{try{if(ee.startsWith("coord|")){const Se=ee.split("|");if(Se.length>=3){const ve=Se[1],Ge=Se[2];if(window.confirm("Ests seguro de que quieres quitar el rol de coordinador para este turno?"))if(await Lt.removeCoordinatorFromShift(ve,Ge),Fe.success("Rol de coordinador removido"),D){const Ye=await Lt.getUserBookings(D.id,t);oe(!0),setTimeout(()=>Q(D),500)}else oe(!0)}return}if(await Lt.adminCancelBooking(ee),Fe.success("Turno eliminado y voluntario notificado"),D){const Se=await Lt.getUserBookings(D.id,t);se(Se)}oe(!0)}catch(Se){console.error("Error deleting booking",Se),Fe.error(Se.message||"Error al eliminar el turno")}},me=()=>{const ee=["DNI","Nombre","Email","Telfono","Rol","Turnos Asignados","Estado"],Se=Me.map(Ze=>{const Qe=n.filter(at=>at.userId===Ze.id);return[Ze.dni,Ze.fullName,Ze.email,Ze.phone,z(Ze.role),Qe.length.toString(),Ze.status||"active"]}),ve=[ee.join(","),...Se.map(Ze=>Ze.join(","))].join(`
`),Ge=new Blob([ve],{type:"text/csv;charset=utf-8;"}),Ye=document.createElement("a");Ye.href=URL.createObjectURL(Ge),Ye.download=`voluntarios_evento_${t}_${new Date().toISOString().split("T")[0]}.csv`,Ye.click(),Fe.success("Exportacin completada")},z=ee=>({superadmin:"Super Admin",admin:"Administrador",coordinator:"Coordinador",volunteer:"Voluntario"})[ee]||ee,[j,A]=X.useState(null),[L,q]=X.useState([]),[te,de]=X.useState(!1),ge=async ee=>{A(ee);const Se=await Lt.getUserBookings(ee.id,t);q(Se),de(!0)},be=()=>{if(!j)return"";let ee=`*RECORDATORIO DE ASIGNACIONES*
`;ee+=`*${(V==null?void 0:V.nombre)||"Evento"}*
`,V&&(ee+=` ${new Date(V.fechaInicio+"T00:00:00").toLocaleDateString()} - ${new Date(V.fechaFin+"T00:00:00").toLocaleDateString()}
`,ee+=` ${V.ubicacion}
`),ee+=`
Hola ${j.fullName}, te comparto el resumen de tus turnos asignados:

`;const Se=L.filter(Ge=>Ge.status!=="cancelled");Se.length===0?ee+=`No tienes turnos registrados.
`:Se.forEach(Ge=>{var Qe,at,At,nt;const Ye=(Qe=Ge.shift)!=null&&Qe.date?new Date(Ge.shift.date+"T12:00:00").toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",weekday:"short"}):"N/A",Ze=((At=(at=Ge.shift)==null?void 0:at.role)==null?void 0:At.name)||"Rol";ee+=` ${Ye} ${(nt=Ge.shift)==null?void 0:nt.timeSlot} | ${Ze}
`}),ee+=`
 *Importante:* Si tienes alguna novedad o no puedes asistir a algn turno, por favor avsanos lo antes posible.

`;const ve=V!=null&&V.slug?`${window.location.origin}/#/${V.slug}`:window.location.href;return ee+=` Ms info y autogestin en:
${ve}`,ee},Te=()=>{const ee=be();navigator.clipboard.writeText(ee),Fe.success("Resumen copiado al portapapeles")},$e=async()=>{if(!j)return;const ee=new vt;if(ee.setFillColor(243,244,246),ee.rect(0,0,210,45,"F"),ee.setFontSize(20),ee.setTextColor(17,24,39),ee.text("Recordatorio de Asignaciones",14,20),ee.setFontSize(14),ee.setTextColor(31,41,55),ee.text((V==null?void 0:V.nombre)||"Evento",14,30),ee.setFontSize(10),ee.setTextColor(75,85,99),V){const at=`${new Date(V.fechaInicio+"T00:00:00").toLocaleDateString("es-AR")} - ${new Date(V.fechaFin+"T00:00:00").toLocaleDateString("es-AR")}`;ee.text(`Fechas: ${at}   |   Ubicacin: ${V.ubicacion}`,14,38)}let Se=60;ee.setFontSize(14),ee.setTextColor(17,24,39),ee.text(`Voluntario: ${j.fullName}`,14,Se),Se+=7,ee.setFontSize(10),ee.setTextColor(75,85,99),ee.text(`DNI: ${j.dni} | Email: ${j.email}`,14,Se),Se+=15;const ve=["Fecha","Horario","Rol","Estado"],Ye=L.filter(at=>at.status!=="cancelled").map(at=>{var At,nt,it,Et;return[(At=at.shift)!=null&&At.date?new Date(at.shift.date+"T12:00:00").toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",weekday:"short"}):"N/A",((nt=at.shift)==null?void 0:nt.timeSlot)||"-",((Et=(it=at.shift)==null?void 0:it.role)==null?void 0:Et.name)||"Rol",at.status==="confirmed"?"Confirmado":"Pendiente"]});Vf(ee,{startY:Se,head:[ve],body:Ye,theme:"grid",headStyles:{fillColor:[79,70,229],textColor:255},styles:{fontSize:10,cellPadding:3},alternateRowStyles:{fillColor:[249,250,251]}});const Ze=ee.lastAutoTable.finalY+15;ee.setDrawColor(253,224,71),ee.setFillColor(254,252,232),ee.roundedRect(14,Ze,182,25,3,3,"FD"),ee.setFontSize(10),ee.setTextColor(161,98,7),ee.text("IMPORTANTE: Si tienes alguna novedad o no puedes asistir a algn turno, por favor avsanos lo antes posible.",18,Ze+8,{maxWidth:174}),ee.setTextColor(31,41,55),ee.text("Ms info y autogestin en:",18,Ze+16),ee.setTextColor(37,99,235);const Qe=V!=null&&V.slug?`${window.location.origin}/#/${V.slug}`:window.location.href;ee.textWithLink(Qe,65,Ze+16,{url:Qe}),ee.save(`resumen_${j.fullName.replace(/\s+/g,"_")}.pdf`),Fe.success("PDF generado exitosamente")},tt=()=>{if(!j)return;const ee=be();let Se=j.phone.replace(/\D/g,"");Se.length===10?Se="549"+Se:Se.length===11&&Se.startsWith("0")&&(Se="549"+Se.substring(1));let ve=Se.length>6?`https://wa.me/${Se}?text=${encodeURIComponent(ee)}`:`https://wa.me/?text=${encodeURIComponent(ee)}`;window.open(ve,"_blank")},ce=ee=>{const Se={superadmin:"bg-purple-100 text-purple-700 border-purple-200",admin:"bg-blue-100 text-blue-700 border-blue-200",coordinator:"bg-green-100 text-green-700 border-green-200",volunteer:"bg-gray-100 text-gray-700 border-gray-200"};return Se[ee]||Se.volunteer},Me=e.filter(ee=>{const Se=ee.fullName.toLowerCase().includes(m.toLowerCase())||ee.dni.includes(m)||ee.email.toLowerCase().includes(m.toLowerCase()),ve=x==="todos"||ee.role===x;return Se&&ve}),P=m.length>2?U.filter(ee=>e.some(ve=>ve.id===ee.id)?!1:ee.fullName.toLowerCase().includes(m.toLowerCase())||ee.dni.includes(m)||ee.email.toLowerCase().includes(m.toLowerCase())):[],Be=async ee=>{if(confirm(`Deseas inscribir a ${ee.fullName} en este evento?`))try{await Lt.enrollUserInEvent(ee.id,t),Fe.success("Usuario inscripto exitosamente"),oe(!0)}catch(Se){Fe.error(Se.message||"Error al inscribir usuario")}};return h?c.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-12",children:c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"}),c.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando voluntarios..."})]})}):c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 sm:p-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Voluntarios del Evento"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Total de voluntarios registrados: ",c.jsx("span",{className:"font-semibold text-gray-900",children:e.length})]})]}),c.jsxs("button",{onClick:me,disabled:Me.length===0,className:"flex items-center justify-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 font-medium shadow-md disabled:opacity-50 disabled:cursor-not-allowed w-full sm:w-auto",children:[c.jsx(Nc,{size:18}),"Exportar CSV"]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 border border-gray-200",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(gb,{size:18,className:"text-gray-600"}),c.jsx("h4",{className:"font-semibold text-gray-900",children:"Filtros"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar"}),c.jsxs("div",{className:"relative",children:[c.jsx(Sc,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),c.jsx("input",{type:"text",value:m,onChange:ee=>g(ee.target.value),placeholder:"Nombre, DNI o email...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),c.jsxs("select",{value:x,onChange:ee=>T(ee.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white",children:[c.jsx("option",{value:"todos",children:"Todos los roles"}),c.jsx("option",{value:"volunteer",children:"Voluntarios"}),c.jsx("option",{value:"coordinator",children:"Coordinadores"}),c.jsx("option",{value:"admin",children:"Administradores"})]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",c.jsx("span",{className:"font-semibold text-gray-900",children:Me.length})," de ",e.length," voluntarios"]})})]}),c.jsxs("div",{className:"hidden sm:block",children:[" ",c.jsxs("table",{className:"w-full table-fixed",children:[" ",c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4",children:"Voluntario"}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/5",children:"Contacto"}),c.jsx("th",{className:"px-2 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider w-[10%]",children:"Participo"}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[15%]",children:"Rol"}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[10%]",children:"Turnos"}),c.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[10%]",children:"Estado"}),c.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-[10%]",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Me.map(ee=>{const Se=n.filter(ve=>ve.userId===ee.id);return c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsxs("td",{className:"px-6 py-4",children:[" ",c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-primary-700 font-semibold",children:ee.fullName.split(" ").map(ve=>ve[0]).join("").substring(0,2)})}),c.jsxs("div",{className:"ml-4 overflow-hidden",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",title:ee.fullName,children:ee.fullName}),c.jsxs("div",{className:"text-sm text-gray-500 truncate",children:["DNI: ",ee.dni]})]})]})]}),c.jsxs("td",{className:"px-3 py-4",children:[" ",c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900 mb-1 overflow-hidden",children:[c.jsx(ff,{size:14,className:"text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"truncate",title:ee.email,children:ee.email})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx(yb,{size:14,className:"text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"truncate",children:ee.phone})]})]}),c.jsx("td",{className:"px-2 py-4 text-center text-sm font-medium",children:ee.attendedPrevious?c.jsx("span",{className:"text-green-600",children:"SI"}):c.jsx("span",{className:"text-gray-400",children:"NO"})}),c.jsx("td",{className:"px-3 py-4",children:c.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full border ${ce(ee.role)}`,children:z(ee.role)})}),c.jsx("td",{className:"px-3 py-4",children:c.jsxs("div",{className:"text-sm text-gray-900 font-semibold",children:[Se.length," turnos"]})}),c.jsx("td",{className:"px-3 py-4",children:c.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${(ee.status||"active")==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(ee.status||"active")==="active"?"Activo":"Suspendido"})}),c.jsx("td",{className:"px-3 py-4 text-right text-sm font-medium",children:c.jsxs("div",{className:"flex justify-end gap-1",children:[c.jsx("button",{onClick:()=>Q(ee),className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver historial de turnos",children:c.jsx($a,{size:18})}),c.jsx("button",{onClick:()=>ge(ee),className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded-lg transition-colors",title:"Compartir resumen de asignaciones",children:c.jsx(Tl,{size:18})}),c.jsx("button",{onClick:()=>le(ee),className:"text-primary-600 hover:text-primary-900 p-2 hover:bg-primary-50 rounded-lg transition-colors",title:"Editar usuario",children:c.jsx(Ll,{size:18})})]})})]},ee.id)})})]})]}),c.jsx("div",{className:"sm:hidden divide-y divide-gray-200",children:Me.map(ee=>{const Se=n.filter(ve=>ve.userId===ee.id);return c.jsxs("div",{className:"p-4 bg-white flex flex-col gap-4",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-primary-700 font-semibold",children:ee.fullName.split(" ").map(ve=>ve[0]).join("").substring(0,2)})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:ee.fullName}),c.jsxs("div",{className:"text-xs text-gray-500",children:["DNI: ",ee.dni]})]})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>Q(ee),className:"p-2 text-blue-600 bg-blue-50 rounded-lg",title:"Ver historial",children:c.jsx($a,{size:18})}),c.jsx("button",{onClick:()=>ge(ee),className:"p-2 text-green-600 bg-green-50 rounded-lg",title:"Compartir resumen",children:c.jsx(Tl,{size:18})}),c.jsx("button",{onClick:()=>le(ee),className:"p-2 text-primary-600 bg-primary-50 rounded-lg",title:"Editar",children:c.jsx(Ll,{size:18})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-y-3 gap-x-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Rol"}),c.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full border ${ce(ee.role)}`,children:z(ee.role)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Estado"}),c.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${(ee.status||"active")==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(ee.status||"active")==="active"?"Activo":"Suspendido"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Experiencia"}),ee.attendedPrevious?c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-indigo-100 text-indigo-800",children:"Particip en Anterior"}):c.jsx("span",{className:"text-xs text-gray-500",children:"Primera vez"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Turnos"}),c.jsxs("div",{className:"font-medium",children:[Se.length," asignados"]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-semibold mb-1",children:"Email"}),c.jsx("div",{className:"truncate",children:ee.email})]})]})]},ee.id)})}),R&&k&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsx("h3",{className:"text-2xl font-serif font-bold text-gray-900",children:"Editar Usuario"}),c.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(zo,{size:24})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre Completo"}),c.jsx("input",{type:"text",value:k.fullName,onChange:ee=>O({...k,fullName:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"DNI"}),c.jsx("input",{type:"text",value:k.dni,onChange:ee=>O({...k,dni:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),c.jsx("input",{type:"email",value:k.email,onChange:ee=>O({...k,email:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Telfono"}),c.jsx("input",{type:"tel",value:k.phone,onChange:ee=>O({...k,phone:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rol"}),c.jsxs("select",{value:k.role,onChange:ee=>O({...k,role:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"volunteer",children:"Voluntario"}),c.jsx("option",{value:"coordinator",children:"Coordinador"}),c.jsx("option",{value:"admin",children:"Administrador"}),c.jsx("option",{value:"superadmin",children:"Super Admin"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Estado"}),c.jsxs("select",{value:k.status||"active",onChange:ee=>O({...k,status:ee.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"active",children:"Activo"}),c.jsx("option",{value:"suspended",children:"Suspendido"})]})]})]}),k.role==="coordinator"&&c.jsxs("div",{className:"mt-6 border-t border-gray-100 pt-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Asignar Turnos (Coordinacin)"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agregar Turno"}),c.jsx("div",{className:"flex gap-2",children:c.jsxs("select",{className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",id:"coordinator-shift-select",onChange:ee=>{ee.target.value&&(ue(ee.target.value),ee.target.value="")},children:[c.jsx("option",{value:"",children:"Seleccionar un turno para asignar..."}),o.filter(ee=>{var Se;return!((Se=ee.coordinatorIds)!=null&&Se.includes(k.id))}).filter(ee=>{const Se=w.find(ve=>ve.id===ee.roleId);return Se==null?void 0:Se.name.toLowerCase().includes("coordinador")}).sort((ee,Se)=>new Date(ee.date).getTime()-new Date(Se.date).getTime()).map(ee=>c.jsxs("option",{value:ee.id,children:[new Date(ee.date+"T12:00:00").toLocaleDateString()," - ",ee.timeSlot," (Vacantes: ",ee.availableVacancies,")"]},ee.id))]})})]}),c.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-100",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),c.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Horario"}),c.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Accin"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-200",children:[o.filter(ee=>{var Se;return(Se=ee.coordinatorIds)==null?void 0:Se.includes(k.id)}).sort((ee,Se)=>new Date(ee.date).getTime()-new Date(Se.date).getTime()).map(ee=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:new Date(ee.date+"T12:00:00").toLocaleDateString()}),c.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:ee.timeSlot}),c.jsx("td",{className:"px-4 py-2 text-right",children:c.jsx("button",{onClick:()=>he(ee.id),className:"text-red-600 hover:text-red-900 text-xs font-medium hover:underline",children:"Quitar"})})]},ee.id)),o.filter(ee=>{var Se;return(Se=ee.coordinatorIds)==null?void 0:Se.includes(k.id)}).length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-500",children:"No tiene turnos de coordinacin asignados."})})]})]})})]}),c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:c.jsxs("p",{className:"text-sm text-yellow-700",children:[c.jsx("strong",{children:"Nota:"})," Los cambios en el rol afectarn los permisos del usuario en todo el sistema."]})})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsx("button",{onClick:()=>G(!1),className:"flex-1 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium",children:"Cancelar"}),c.jsxs("button",{onClick:_e,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium flex items-center justify-center gap-2",children:[c.jsx(Vp,{size:18}),"Guardar Cambios"]})]})]})}),Me.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Js,{size:48,className:"mx-auto text-gray-300 mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No se encontraron voluntarios inscriptos con los filtros seleccionados"}),P.length>0&&c.jsxs("div",{className:"mt-8 max-w-2xl mx-auto text-left bg-blue-50 rounded-lg p-6 border border-blue-100",children:[c.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-4",children:"Usuarios encontrados en el sistema (no inscriptos en este evento):"}),c.jsx("div",{className:"space-y-3",children:P.map(ee=>c.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded shadow-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:ee.fullName}),c.jsxs("p",{className:"text-xs text-gray-500",children:[ee.email,"  DNI: ",ee.dni]})]}),c.jsx("button",{onClick:()=>Be(ee),className:"px-3 py-1 bg-blue-600 text-white text-xs font-medium rounded hover:bg-blue-700 transition-colors",children:"Inscribir"})]},ee.id))})]})]}),te&&j&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Compartir Asignaciones"}),c.jsx("button",{onClick:()=>de(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(zo,{size:24})})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Genera un resumen de los turnos asignados a ",c.jsx("strong",{children:j.fullName})," para envirselo como recordatorio."]}),c.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 text-sm font-mono whitespace-pre-wrap max-h-40 overflow-y-auto",children:be()})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[c.jsxs("button",{onClick:tt,className:"flex items-center justify-center gap-2 px-4 py-3 bg-[#25D366] text-white rounded-lg hover:brightness-105 font-medium transition-colors shadow-sm",children:[c.jsx(Tl,{size:18}),"WhatsApp"]}),c.jsxs("button",{onClick:Te,className:"flex items-center justify-center gap-2 px-4 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors shadow-sm",children:[c.jsx(Hp,{size:18}),"Copiar"]}),c.jsxs("button",{onClick:$e,className:"flex items-center justify-center gap-2 px-4 py-3 bg-gray-900 text-white rounded-lg hover:bg-black font-medium transition-colors shadow-sm",children:[c.jsx(Nc,{size:18}),"Descargar"]})]})]})}),D&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-serif font-bold text-gray-900",children:"Historial de Turnos"}),c.jsxs("p",{className:"text-gray-600",children:["Voluntario: ",c.jsx("span",{className:"font-semibold text-primary-600",children:D.fullName})]})]}),c.jsx("button",{onClick:()=>W(null),className:"text-gray-400 hover:text-gray-600",children:c.jsx(zo,{size:24})})]}),K?c.jsx("div",{className:"flex justify-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):ie.length===0?c.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-gray-200",children:c.jsx("p",{className:"text-gray-500",children:"Este voluntario no tiene turnos asignados en este evento."})}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"hidden sm:block overflow-hidden bg-white border border-gray-200 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Horario"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Asistencia"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ie.map(ee=>{var Se,ve,Ge,Ye,Ze,Qe;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(Se=ee.shift)!=null&&Se.date?new Date(ee.shift.date+"T12:00:00").toLocaleDateString("es-AR"):ee.shiftId===null?"Sin Fecha":"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((ve=ee.shift)==null?void 0:ve.timeSlot)||"-"}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full border ${ce(((Ye=(Ge=ee.shift)==null?void 0:Ge.role)==null?void 0:Ye.name)||"")}`,children:((Qe=(Ze=ee.shift)==null?void 0:Ze.role)==null?void 0:Qe.name)||(ee.shiftId===null?"Inscripcin General":"-")})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                                                            ${ee.status==="confirmed"?"bg-green-100 text-green-800":ee.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:ee.status==="confirmed"?"Confirmado":ee.status==="cancelled"?"Cancelado":"Pendiente"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ee.attendance==="attended"?c.jsxs("span",{className:"flex items-center gap-1 text-green-600 font-medium",children:[c.jsx(Qs,{size:16})," Asisti"]}):ee.attendance==="absent"?c.jsxs("span",{className:"flex items-center gap-1 text-red-600 font-medium",children:[c.jsx(Gd,{size:16})," Ausente"]}):c.jsx("span",{className:"text-gray-400 italic",children:"Pendiente"})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:ee.status!=="cancelled"?c.jsx("button",{onClick:()=>{window.confirm("Ests seguro de que quieres eliminar este turno? Se enviar un aviso al voluntario.")&&je(ee.id)},className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded transition-colors",title:"Eliminar turno",children:c.jsx(jc,{size:18})}):c.jsx("span",{className:"text-gray-400 text-xs",children:"-"})})]},ee.id)})})]})}),c.jsx("div",{className:"sm:hidden space-y-4",children:ie.map(ee=>{var Se,ve,Ge,Ye,Ze,Qe;return c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold text-gray-900",children:(Se=ee.shift)!=null&&Se.date?new Date(ee.shift.date+"T12:00:00").toLocaleDateString("es-AR",{weekday:"long",day:"numeric",month:"long"}):"-"}),c.jsx("p",{className:"text-xs text-gray-500",children:((ve=ee.shift)==null?void 0:ve.timeSlot)||"-"})]}),c.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full border ${ce(((Ye=(Ge=ee.shift)==null?void 0:Ge.role)==null?void 0:Ye.name)||"")}`,children:((Qe=(Ze=ee.shift)==null?void 0:Ze.role)==null?void 0:Qe.name)||"-"})]}),c.jsxs("div",{className:"flex justify-between items-center border-t border-gray-100 pt-3 mt-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Estado"}),c.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs font-semibold rounded-full 
                                                        ${ee.status==="confirmed"?"bg-green-100 text-green-800":ee.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:ee.status==="confirmed"?"Confirmado":ee.status==="cancelled"?"Cancelado":"Pendiente"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Asistencia"}),ee.attendance==="attended"?c.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-sm font-medium",children:[c.jsx(Qs,{size:14})," Asisti"]}):ee.attendance==="absent"?c.jsxs("span",{className:"flex items-center gap-1 text-red-600 text-sm font-medium",children:[c.jsx(Gd,{size:14})," Ausente"]}):c.jsx("span",{className:"text-gray-400 italic text-sm",children:"Pendiente"})]})]})]},ee.id)})})]}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:()=>W(null),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium",children:"Cerrar"})})]})})]})},WA=({eventId:t})=>{const[e,r]=X.useState(null),[n,s]=X.useState(null),[o,u]=X.useState(!0),[h,f]=X.useState(!1),[m,g]=X.useState([]),[w,N]=X.useState(!1),[x,T]=X.useState([]);X.useEffect(()=>{k()},[t]);const k=async()=>{u(!0);try{const[se,K]=await Promise.all([Jt.getDashboardMetrics(t),Jt.getEventById(t)]);r(se),s(K)}catch{Fe.error("Error al cargar mtricas")}finally{u(!1)}},O=async()=>{try{const se=await Jt.getPendingCancellations(t);g(se),f(!0)}catch{Fe.error("Error al cargar solicitudes de baja")}},R=async se=>{try{await Jt.approveCancellation(se),Fe.success("Baja confirmada exitosamente");const K=await Jt.getPendingCancellations(t);g(K),k(),K.length===0&&f(!1)}catch{Fe.error("Error al confirmar baja")}},G=async se=>{try{await Jt.rejectCancellation(se),Fe.success("Baja rechazada exitosamente");const K=await Jt.getPendingCancellations(t);g(K),k(),K.length===0&&f(!1)}catch{Fe.error("Error al rechazar baja")}},D=async()=>{try{const se=await Jt.getPendingCoordinatorRequests(t);T(se),N(!0)}catch{Fe.error("Error al cargar solicitudes de coordinacin")}},W=async se=>{try{await Jt.approveCoordinatorRequest(se),Fe.success("Solicitud aprobada y rol asignado");const K=await Jt.getPendingCoordinatorRequests(t);T(K),k(),K.length===0&&N(!1)}catch{Fe.error("Error al aprobar solicitud")}};if(o)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})});if(!e||!n)return c.jsx("div",{className:"text-center py-12 text-gray-500",children:"No hay datos disponibles"});const ie=se=>se>=80?"text-primary-600 bg-primary-100":se>=50?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-card border border-fs-border",children:[c.jsx("h2",{className:"text-2xl font-serif text-fs-text mb-2",children:n.nombre}),c.jsx("p",{className:"text-sm text-fs-meta",children:"Dashboard de mtricas y seguimiento de convocatoria"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-card border border-fs-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"p-3 bg-primary-100 rounded-lg",children:c.jsx(mf,{className:"text-primary-600",size:24})}),c.jsxs("span",{className:`text-2xl font-bold px-3 py-1 rounded-full ${ie(e.occupationPercentage)}`,children:[e.occupationPercentage,"%"]})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ocupacin General"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[e.occupiedVacancies," / ",e.totalVacancies]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"vacantes ocupadas"})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-card border border-fs-border",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx(Js,{className:"text-blue-600",size:24})})}),c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Voluntarios nicos"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.uniqueVolunteers}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Promedio: ",e.avgShiftsPerVolunteer," turnos por voluntario"]})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-card border border-fs-border",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:c.jsx($a,{className:"text-green-600",size:24})})}),c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Turnos Disponibles"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.availableVacancies}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["de ",e.totalVacancies," totales"]})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-card border border-fs-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:c.jsx(Qs,{className:"text-indigo-600",size:24})}),c.jsxs("span",{className:`text-2xl font-bold px-3 py-1 rounded-full ${(e.attendancePercentage||0)>=80?"text-green-600 bg-green-100":(e.attendancePercentage||0)>=50?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100"}`,children:[e.attendancePercentage||0,"%"]})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Asistencia Real"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"base a reportes"})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-card border border-fs-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(dS,{className:"text-purple-600",size:24})}),c.jsxs("span",{className:"text-2xl font-bold px-3 py-1 rounded-full text-purple-600 bg-purple-100",children:[e.previousExperiencePercentage||0,"%"]})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Con Experiencia"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"participaron anteriormente"})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-card border border-fs-border",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:c.jsx(up,{className:"text-yellow-600",size:24})})}),c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pendientes"}),c.jsxs("div",{className:"flex items-baseline gap-3",children:[c.jsxs("div",{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:O,role:"button",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900 underline decoration-dotted",children:e.pendingCancellations}),c.jsx("p",{className:"text-xs text-gray-500",children:"bajas (ver)"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.waitlistCount}),c.jsx("p",{className:"text-xs text-gray-500",children:"en espera"})]})]})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-card border border-fs-border",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:c.jsx(wc,{className:"text-orange-600",size:24})})}),c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Solicitudes Coordinacin"}),c.jsx("div",{className:"flex items-baseline gap-3",children:c.jsxs("div",{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:D,role:"button",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900 underline decoration-dotted",children:e.pendingCoordinatorRequests||0}),c.jsx("p",{className:"text-xs text-gray-500",children:"pendientes (ver)"})]})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-card border border-fs-border",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(Bo,{size:20,className:"text-gray-600"}),c.jsx("h3",{className:"font-serif text-lg text-fs-text",children:"Ocupacin por Horario"})]}),c.jsxs("div",{className:"space-y-4",children:[Object.entries(e.shiftOccupation).map(([se,K])=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:se}),c.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[K,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${K>=80?"bg-primary-500":K>=50?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${K}%`}})})]},se)),Object.keys(e.shiftOccupation).length===0&&c.jsx("p",{className:"text-sm text-gray-500",children:"No hay turnos configurados."})]})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-card border border-fs-border",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(TN,{size:20,className:"text-gray-600"}),c.jsx("h3",{className:"font-serif text-lg text-fs-text",children:"Distribucin por Rol"})]}),c.jsx("div",{className:"space-y-2",children:e.roleDistribution.slice(0,5).map((se,K)=>{const Z=se.count/e.occupiedVacancies*100,V=["bg-primary-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500"];return c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${V[K%V.length]}`}),c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"font-medium text-gray-700",children:se.roleName}),c.jsxs("span",{className:"text-gray-600",children:[se.count," (",Z.toFixed(0),"%)"]})]})})]},se.roleName)})})]})]}),c.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-card border border-fs-border",children:[c.jsx("h3",{className:"font-serif text-lg text-fs-text mb-6",children:"Ocupacin por Da"}),c.jsx("div",{className:"space-y-3",children:e.dailyOccupation.map(se=>{const Z=new Date(se.date+"T12:00:00").toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"});return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700 w-24 capitalize",children:Z}),c.jsxs("div",{className:"flex-1 bg-gray-200 rounded-full h-6 relative",children:[c.jsx("div",{className:`h-6 rounded-full transition-all duration-500 flex items-center justify-end pr-2 ${se.occupation>=80?"bg-primary-500":se.occupation>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${se.occupation}%`},children:se.occupation>15&&c.jsxs("span",{className:"text-xs font-bold text-white",children:[se.occupation,"%"]})}),se.occupation<=15&&c.jsxs("span",{className:"absolute left-2 top-1 text-xs font-bold text-gray-700",children:[se.occupation,"%"]})]})]},se.date)})})]}),(e.occupationPercentage<30||e.pendingCancellations>0||(e.pendingCoordinatorRequests||0)>0)&&c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 sm:p-6 rounded-lg",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(up,{className:"text-yellow-600 flex-shrink-0 mt-0.5",size:20}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Alertas del Sistema"}),c.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.occupationPercentage<30&&c.jsx("li",{children:" La ocupacin general est por debajo del 30%. Considera promover ms la convocatoria."}),e.pendingCancellations>0&&c.jsxs("li",{children:[" Hay ",e.pendingCancellations," solicitudes de baja pendientes."," ",c.jsx("button",{onClick:O,className:"underline font-semibold hover:text-yellow-900",children:"Revisar ahora"})]}),(e.pendingCoordinatorRequests||0)>0&&c.jsxs("li",{children:[" Hay ",e.pendingCoordinatorRequests," solicitudes de rol Coordinador pendientes."," ",c.jsx("button",{onClick:D,className:"underline font-semibold hover:text-yellow-900",children:"Revisar ahora"})]})]})]})]})}),c.jsx(GA,{eventId:t}),c.jsx(Kd,{isOpen:h,onClose:()=>f(!1),title:"Solicitudes de Baja Pendientes",children:c.jsx("div",{children:m.length===0?c.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay solicitudes de baja pendientes."}):c.jsx("div",{className:"space-y-4",children:m.map(se=>{var K,Z,V,ye,U;return c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900",children:(K=se.user)==null?void 0:K.fullName}),c.jsxs("div",{className:"text-sm text-gray-600 space-y-1 mt-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Rol:"})," ",(V=(Z=se.shift)==null?void 0:Z.role)==null?void 0:V.name]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Turno:"})," ",new Date((ye=se.shift)==null?void 0:ye.date).toLocaleDateString()," - ",(U=se.shift)==null?void 0:U.timeSlot]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Motivo:"})," Solicitada el ",new Date(se.cancelledAt).toLocaleDateString()]})]})]}),c.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[c.jsxs("button",{onClick:()=>G(se.id),className:"flex-1 sm:flex-initial flex items-center justify-center gap-2 px-4 py-2 border border-red-200 text-red-700 bg-red-50 hover:bg-red-100 rounded-lg transition-colors font-medium",children:[c.jsx(Gd,{size:18}),"Rechazar"]}),c.jsxs("button",{onClick:()=>R(se.id),className:"flex-1 sm:flex-initial flex items-center justify-center gap-2 px-4 py-2 border border-green-200 text-green-700 bg-green-50 hover:bg-green-100 rounded-lg transition-colors font-medium",children:[c.jsx(Qs,{size:18}),"Confirmar Baja"]})]})]},se.id)})})})}),c.jsx(Kd,{isOpen:w,onClose:()=>N(!1),title:"Aprobar Coordinadores",children:c.jsx("div",{children:x.length===0?c.jsx("p",{className:"text-center text-gray-500 py-8",children:"No hay solicitudes pendientes."}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("p",{className:"text-sm text-gray-600 mb-4 bg-blue-50 p-3 rounded border border-blue-100",children:["Al aprobar, el usuario quedar inscrito en el turno y se le asignar el rol de ",c.jsx("strong",{children:"Coordinador"})," en el sistema global."]}),x.map(se=>{var K,Z,V,ye,U,F;return c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-gray-900",children:(K=se.user)==null?void 0:K.fullName}),c.jsxs("div",{className:"text-sm text-gray-600 space-y-1 mt-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Rol Evento:"})," ",(V=(Z=se.shift)==null?void 0:Z.role)==null?void 0:V.name]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Turno:"})," ",new Date((ye=se.shift)==null?void 0:ye.date).toLocaleDateString()," - ",(U=se.shift)==null?void 0:U.timeSlot]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Solicitado:"})," ",new Date(se.requestedAt).toLocaleDateString()]}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Email: ",(F=se.user)==null?void 0:F.email]})]})]}),c.jsxs("button",{onClick:()=>W(se.id),className:"flex items-center justify-center gap-2 px-4 py-2 border border-green-200 text-green-700 bg-green-50 hover:bg-green-100 rounded-lg transition-colors font-medium w-full sm:w-auto",children:[c.jsx(bS,{size:18}),"Aprobar y Asignar"]})]},se.id)})]})})})]})},YA=({user:t,onBack:e})=>{const[r,n]=X.useState([]),[s,o]=X.useState([]),[u,h]=X.useState({}),[f,m]=X.useState(!0),[g,w]=X.useState(!1),[N,x]=X.useState(null),[T,k]=X.useState(""),[O,R]=X.useState(""),[G,D]=X.useState("todos"),[W,ie]=X.useState("todos"),[se,K]=X.useState("todos"),[Z,V]=X.useState(null),[ye,U]=X.useState(!1);X.useEffect(()=>{F()},[]);const F=async()=>{m(!0);try{const[A,L]=await Promise.all([Lt.getAllUsers(),Lt.getAllEvents()]);n(A.sort((ge,be)=>ge.fullName.localeCompare(be.fullName))),o(L);const q={},te=L.map(ge=>Lt.getBookingsByEvent(ge.id).then(be=>({event:ge,bookings:be})));(await Promise.all(te)).forEach(({event:ge,bookings:be})=>{be.filter($e=>$e.shiftId!==null).forEach($e=>{q[$e.userId]||(q[$e.userId]=[]),q[$e.userId].find(tt=>tt.id===ge.id)||q[$e.userId].push(ge)})}),h(q)}catch(A){console.error(A),Fe.error("Error al cargar datos")}finally{m(!1)}},oe=A=>{if(t.role==="admin"&&(A.role==="admin"||A.role==="superadmin")){Fe.error("No tienes permisos para editar a este usuario");return}V({...A}),U(!0)},le=async()=>{if(Z)try{const A={...Z};await Lt.updateUser(A),Fe.success("Usuario actualizado correctamente"),U(!1),V(null),F()}catch(A){Fe.error(A.message||"Error al actualizar usuario")}},_e=async A=>{const L=A.status==="suspended"?"active":"suspended";try{await Lt.updateUser({...A,status:L}),Fe.success(`Usuario ${L==="suspended"?"suspendido":"activado"} correctamente`),F()}catch(q){Fe.error(q.message||"Error al cambiar estado")}},Q=async A=>{if(confirm(`Ests seguro de eliminar al usuario ${A.fullName}? Esta accin no se puede deshacer.`)){if(A.role==="superadmin"){Fe.error("No puedes eliminar a un Super Administrador");return}try{await Lt.deleteUser(A.id),Fe.success("Usuario eliminado correctamente"),F()}catch(L){Fe.error(L.message||"Error al eliminar usuario")}}},ue=()=>{const A=["DNI","Nombre","Email","Telfono","Rol","Estado","Miembro","Experiencia","Fecha Registro"],L=he.map(ge=>[ge.dni,ge.fullName,ge.email,ge.phone,ge.role,ge.status||"active",ge.isMember?"S":"No",ge.attendedPrevious?"S":"No",ge.createdAt?new Date(ge.createdAt).toLocaleDateString():"-"]),q=[A.join(","),...L.map(ge=>ge.join(","))].join(`
`),te=new Blob([q],{type:"text/csv;charset=utf-8;"}),de=document.createElement("a");de.href=URL.createObjectURL(te),de.download=`usuarios_${new Date().toISOString().split("T")[0]}.csv`,de.click(),Fe.success("Exportacin completada")},he=r.filter(A=>{const L=A.fullName.toLowerCase().includes(O.toLowerCase())||A.dni.includes(O)||A.email.toLowerCase().includes(O.toLowerCase()),q=G==="todos"||A.role===G,te=se==="todos"||(A.status||"active")===se;return L&&q&&te}),je=A=>{const L={superadmin:"bg-purple-100 text-purple-700 border-purple-200",admin:"bg-blue-100 text-blue-700 border-blue-200",coordinator:"bg-green-100 text-green-700 border-green-200",volunteer:"bg-gray-100 text-gray-700 border-gray-200"};return L[A]||L.volunteer},me=A=>({superadmin:"Super Admin",admin:"Administrador",coordinator:"Coordinador",volunteer:"Voluntario"})[A]||A,z=A=>{x(A),k(""),w(!0)},j=async()=>{var A;if(!(!N||!T))try{await Lt.enrollUserInEvent(N.id,T),Fe.success(`Usuario inscripto en ${(A=s.find(L=>L.id===T))==null?void 0:A.nombre}`),w(!1),F()}catch(L){Fe.error(L.message||"Error al inscribir")}};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("button",{onClick:e,className:"text-primary-600 hover:text-primary-700 mb-4 flex items-center gap-2 font-medium",children:" Volver al dashboard"}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-serif font-bold text-gray-900 mb-2",children:"Gestin de Usuarios"}),c.jsx("p",{className:"text-gray-600",children:"Administra todos los usuarios del sistema"})]}),c.jsxs("div",{className:"flex gap-2 w-full sm:w-auto hidden sm:flex",children:[c.jsxs("button",{onClick:()=>Fe.success("Funcionalidad de importacin prximamente"),className:"flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 text-sm font-medium",children:[c.jsx(sv,{size:16}),"Importar"]}),c.jsxs("button",{onClick:ue,className:"flex-1 sm:flex-none flex items-center justify-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 font-semibold shadow-lg text-sm",children:[c.jsx(Nc,{size:16}),"Exportar"]})]})]})]})}),c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-3 sm:hidden z-50 flex gap-3 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]",children:[c.jsxs("button",{onClick:()=>Fe.success("Funcionalidad de importacin prximamente"),className:"flex-1 flex flex-col items-center justify-center gap-1 bg-gray-50 text-gray-700 py-2 rounded-lg border border-gray-200 active:bg-gray-100",children:[c.jsx(sv,{size:20}),c.jsx("span",{className:"text-xs font-semibold",children:"Importar"})]}),c.jsxs("button",{onClick:ue,className:"flex-1 flex flex-col items-center justify-center gap-1 bg-primary-600 text-white py-2 rounded-lg active:bg-primary-700 shadow-md",children:[c.jsx(Nc,{size:20}),c.jsx("span",{className:"text-xs font-semibold",children:"Exportar CSV"})]})]}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 pb-24",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-md border-l-4 border-blue-500 p-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx(Js,{className:"text-blue-600",size:28})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Usuarios"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.filter(A=>A.status!=="deleted").length})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md border-l-4 border-green-500 p-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:c.jsx(Qs,{className:"text-green-600",size:28})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Activos"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.filter(A=>(A.status||"active")==="active").length})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md border-l-4 border-purple-500 p-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(Js,{className:"text-purple-600",size:28})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Administradores"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.filter(A=>A.role==="admin"||A.role==="superadmin").length})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md border-l-4 border-gray-500 p-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:c.jsx(Js,{className:"text-gray-600",size:28})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Voluntarios"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.filter(A=>A.role==="volunteer").length})]})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx(gb,{size:20,className:"text-gray-600"}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"Filtros y Bsqueda"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar usuario"}),c.jsxs("div",{className:"relative",children:[c.jsx(Sc,{className:"absolute left-3 top-3 text-gray-400",size:20}),c.jsx("input",{type:"text",value:O,onChange:A=>R(A.target.value),placeholder:"Nombre, DNI o email...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),c.jsxs("select",{value:G,onChange:A=>D(A.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white",children:[c.jsx("option",{value:"todos",children:"Todos los roles"}),c.jsx("option",{value:"superadmin",children:"Super Admin"}),c.jsx("option",{value:"admin",children:"Administrador"}),c.jsx("option",{value:"coordinator",children:"Coordinador"}),c.jsx("option",{value:"volunteer",children:"Voluntario"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),c.jsxs("select",{value:se,onChange:A=>K(A.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white",children:[c.jsx("option",{value:"todos",children:"Todos"}),c.jsx("option",{value:"active",children:"Activos"}),c.jsx("option",{value:"suspended",children:"Suspendidos"}),c.jsx("option",{value:"deleted",children:"Eliminados"})]})]})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:c.jsxs("p",{className:"text-sm text-gray-600",children:["Mostrando ",c.jsx("span",{className:"font-semibold text-gray-900",children:he.length})," de ",r.length," usuarios"]})})]}),c.jsx("div",{className:"bg-transparent sm:bg-white sm:rounded-lg sm:shadow-md sm:border sm:border-gray-200 overflow-hidden",children:f?c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto"})}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"hidden sm:block overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-1/4",children:"Usuario"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider text-center",children:"Feria Anterior?"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Eventos en los que participa"}),c.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registro"}),c.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:he.map(A=>{var L;return c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 h-9 w-9 bg-primary-100 rounded-full flex items-center justify-center text-sm",children:c.jsx("span",{className:"text-primary-700 font-semibold",children:A.fullName.split(" ").map(q=>q[0]).join("").substring(0,2)})}),c.jsxs("div",{className:"ml-3 truncate max-w-[180px]",title:A.fullName,children:[c.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:A.fullName}),c.jsxs("div",{className:"text-xs text-gray-500",children:["DNI: ",A.dni]})]})]})}),c.jsxs("td",{className:"px-4 py-2.5 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm text-gray-900 truncate max-w-[150px]",title:A.email,children:A.email}),c.jsx("div",{className:"text-xs text-gray-500",children:A.phone})]}),c.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full border ${je(A.role)}`,children:me(A.role)})}),c.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full ${(A.status||"active")==="active"?"bg-green-100 text-green-800":A.status==="deleted"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:(A.status||"active")==="active"?"Activo":A.status==="deleted"?"Eliminado":"Suspendido"})}),c.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-500 max-w-[200px]",children:c.jsxs("div",{className:"flex flex-wrap gap-1",children:[(L=u[A.id])==null?void 0:L.map(q=>c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-indigo-50 text-indigo-700 truncate max-w-full",children:q.nombre},q.id)),(!u[A.id]||u[A.id].length===0)&&c.jsx("span",{className:"text-xs text-gray-400 italic",children:"Sin eventos"})]})}),c.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm font-medium text-center",children:A.attendedPrevious?c.jsx("span",{className:"text-green-600 bg-green-50 px-2 py-0.5 rounded text-xs",children:"SI"}):c.jsx("span",{className:"text-gray-400 text-xs",children:"NO"})}),c.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-sm text-gray-500",children:A.createdAt?new Date(A.createdAt).toLocaleDateString("es-ES"):"-"}),c.jsx("td",{className:"px-4 py-2.5 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex justify-end gap-1",children:[c.jsx("button",{onClick:()=>oe(A),className:"text-primary-600 hover:text-primary-900 p-1.5 hover:bg-primary-50 rounded transition-colors",title:"Editar usuario",children:c.jsx(Ll,{size:16})}),c.jsx("button",{onClick:()=>z(A),className:"text-indigo-600 hover:text-indigo-900 p-1.5 hover:bg-indigo-50 rounded transition-colors",title:"Inscribir en Evento",children:c.jsx(Js,{size:16})}),c.jsx("button",{onClick:()=>_e(A),className:`p-1.5 rounded transition-colors ${(A.status||"active")==="active"?"text-yellow-600 hover:text-yellow-900 hover:bg-yellow-50":"text-green-600 hover:text-green-900 hover:bg-green-50"}`,title:(A.status||"active")==="active"?"Suspender":"Activar",children:(A.status||"active")==="active"?c.jsx(Q2,{size:16}):c.jsx(Qs,{size:16})}),c.jsx("button",{onClick:()=>Q(A),className:"text-red-600 hover:text-red-900 p-1.5 hover:bg-red-50 rounded transition-colors ml-1",title:"Eliminar usuario permanentemente",children:c.jsx(jc,{size:16})})]})})]},A.id)})})]})}),c.jsx("div",{className:"sm:hidden space-y-4",children:he.map(A=>c.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-gray-200 flex flex-col gap-4",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-primary-700 font-semibold",children:A.fullName.split(" ").map(L=>L[0]).join("").substring(0,2)})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-gray-900 text-lg",children:A.fullName}),c.jsxs("div",{className:"text-sm text-gray-500",children:["DNI: ",A.dni]})]})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("button",{onClick:()=>oe(A),className:"p-2 text-primary-600 bg-primary-50 rounded-lg hover:bg-primary-100",title:"Editar",children:c.jsx(Ll,{size:20})}),c.jsx("button",{onClick:()=>_e(A),className:`p-2 rounded-lg ${(A.status||"active")==="active"?"text-red-600 bg-red-50":"text-green-600 bg-green-50"}`,title:(A.status||"active")==="active"?"Suspender":"Activar",children:(A.status||"active")==="active"?c.jsx(Q2,{size:20}):c.jsx(Qs,{size:20})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-y-3 gap-x-4 text-sm bg-gray-50 p-3 rounded-md",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Rol"}),c.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full border ${je(A.role)}`,children:me(A.role)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Estado"}),c.jsx("span",{className:`px-2 py-0.5 inline-flex text-xs leading-5 font-semibold rounded-full ${(A.status||"active")==="active"?"bg-green-100 text-green-800":A.status==="deleted"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:(A.status||"active")==="active"?"Activo":A.status==="deleted"?"Eliminado":"Suspendido"})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Email"}),c.jsx("div",{className:"truncate font-medium text-gray-700",children:A.email})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Telfono"}),c.jsx("div",{className:"font-medium text-gray-700",children:A.phone})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Experiencia previa"}),c.jsx("div",{className:"font-medium text-gray-700",children:A.attendedPrevious?c.jsx("span",{className:"text-green-600 bg-green-50 px-2 py-0.5 rounded text-xs font-semibold",children:"Particip anteriormente"}):c.jsx("span",{className:"text-gray-500",children:"Sin experiencia previa"})})]})]})]},A.id))})]})})]}),ye&&Z&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsx("h3",{className:"text-2xl font-serif font-bold text-gray-900",children:"Editar Usuario"}),c.jsx("button",{onClick:()=>U(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(zo,{size:24})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre Completo"}),c.jsx("input",{type:"text",value:Z.fullName,onChange:A=>V({...Z,fullName:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"DNI"}),c.jsx("input",{type:"text",value:Z.dni,onChange:A=>V({...Z,dni:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),c.jsx("input",{type:"email",value:Z.email,onChange:A=>V({...Z,email:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Telfono"}),c.jsx("input",{type:"tel",value:Z.phone,onChange:A=>V({...Z,phone:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rol"}),c.jsxs("select",{value:Z.role,onChange:A=>V({...Z,role:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"volunteer",children:"Voluntario"}),c.jsx("option",{value:"coordinator",children:"Coordinador"}),(t.role==="superadmin"||t.role==="admin")&&t.role==="superadmin"&&c.jsxs(c.Fragment,{children:[c.jsx("option",{value:"admin",children:"Administrador"}),c.jsx("option",{value:"superadmin",children:"Super Admin"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Estado"}),c.jsxs("select",{value:Z.status||"active",onChange:A=>V({...Z,status:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"active",children:"Activo"}),c.jsx("option",{value:"suspended",children:"Suspendido"})]})]})]}),c.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded text-sm text-yellow-700",children:[c.jsx("strong",{children:"Nota:"})," Los cambios en el rol afectarn los permisos del usuario en el sistema."]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsx("button",{onClick:()=>U(!1),className:"flex-1 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium",children:"Cancelar"}),c.jsxs("button",{onClick:le,className:"flex-1 px-4 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium flex items-center justify-center gap-2",children:[c.jsx(Vp,{size:18}),"Guardar Cambios"]})]})]})]})}),g&&N&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Inscribir en Evento"}),c.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(zo,{size:24})})]}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Selecciona el evento al que deseas inscribir a ",c.jsx("strong",{children:N.fullName}),"."]}),c.jsxs("select",{value:T,onChange:A=>k(A.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[c.jsx("option",{value:"",children:"Seleccionar evento..."}),s.filter(A=>A.estado==="Activo"||A.estado==="Inactivo").filter(A=>{var L;return!((L=u[N.id])!=null&&L.some(q=>q.id===A.id))}).map(A=>c.jsx("option",{value:A.id,children:A.nombre},A.id))]})]}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm font-medium",children:"Cancelar"}),c.jsx("button",{onClick:j,disabled:!T,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 text-sm font-medium disabled:opacity-50",children:"Inscribir"})]})]})})]})},KA=({user:t,onLogout:e})=>{const[r,n]=X.useState("events"),[s,o]=X.useState(null),u=f=>{f==="users"?n("users"):(o(f),n("metrics"))},h=()=>{n("events"),o(null)};return r==="users"?c.jsx(YA,{user:t,onBack:h}):r==="metrics"&&s?c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-4 mb-6",children:c.jsx("button",{onClick:h,className:"text-primary-600 hover:text-primary-700 font-medium flex items-center gap-2",children:" Volver al listado de eventos"})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:c.jsx(WA,{eventId:s})})]}):c.jsx(VA,{user:t,onLogout:e,onViewMetrics:u})},JA=({user:t,onLogout:e})=>{var je;const[r,n]=X.useState([]),[s,o]=X.useState("all"),[u,h]=X.useState(""),[f,m]=X.useState([]),[g,w]=X.useState([]),[N,x]=X.useState([]),[T,k]=X.useState(!0),[O,R]=X.useState(""),[G,D]=X.useState(!1),[W,ie]=X.useState(!1);X.useEffect(()=>{(async()=>{try{const z=await Lt.getAllEvents(),A=(await Lt.getUserBookings(t.id)).filter(te=>{var de,ge;return te.status==="confirmed"&&((ge=(de=te.shift)==null?void 0:de.role)==null?void 0:ge.requiresApproval)}).map(te=>te.eventId),L=[];for(const te of z)((await Lt.getShiftsByEvent(te.id)).some(ge=>ge.coordinatorIds.includes(t.id))||A.includes(te.id))&&L.push(te);n(L),L.length>0&&h(L[0].id);const q=await Lt.getAllRoles();x(q)}catch{Fe.error("Error al cargar datos iniciales")}finally{k(!1)}})()},[t.id]),X.useEffect(()=>{u&&(se(u),o("all"))},[u]);const se=async me=>{k(!0);try{const z=await Lt.getShiftsByEvent(me),A=(await Lt.getUserBookings(t.id,me)).filter(be=>{var Te,$e;return be.status==="confirmed"&&(($e=(Te=be.shift)==null?void 0:Te.role)==null?void 0:$e.requiresApproval)}).map(be=>be.shiftId),L=z.filter(be=>be.coordinatorIds.includes(t.id)||A.includes(be.id)),q=new Set;L.forEach(be=>{q.add(be.id),z.forEach(Te=>{Te.date===be.date&&Te.timeSlot===be.timeSlot&&q.add(Te.id)})});const te=z.filter(be=>q.has(be.id));te.sort((be,Te)=>{const $e=be.date.localeCompare(Te.date);return $e!==0?$e:be.timeSlot.localeCompare(Te.timeSlot)}),m(te);const de=await Lt.getBookingsByEvent(me),ge=await Promise.all(de.map(async be=>{const Te=await Lt.getUserById(be.userId);return{...be,user:Te}}));w(ge)}catch{Fe.error("Error al cargar datos del evento")}finally{k(!1)}},K=async(me,z)=>{w(j=>j.map(A=>A.id===me?{...A,attendance:z}:A));try{await Lt.updateBookingAttendance(me,z),Fe.success("Asistencia actualizada")}catch(j){Fe.error("Error al actualizar asistencia"),console.error(j)}},Z=async(me,z)=>{const j=!z;w(A=>A.map(L=>L.id===me?{...L,foodDelivered:j}:L));try{await Lt.updateBookingFoodStatus(me,j),j&&Fe.success("Vianda entregada")}catch(A){Fe.error("Error al actualizar vianda"),console.error(A),w(L=>L.map(q=>q.id===me?{...q,foodDelivered:z}:q))}},V=()=>{const z=[["Fecha","Horario","Rol","Nombre","DNI","Email","Telfono","Estado","Vianda","Asistencia"].join(",")];_e.forEach(q=>{const te=g.filter(ge=>ge.shiftId===q.id&&ge.status==="confirmed"),de=N.find(ge=>ge.id===q.roleId);te.forEach(ge=>{var Te,$e,tt,ce;const be=[q.date,q.timeSlot,(de==null?void 0:de.name)||"Desconocido",((Te=ge.user)==null?void 0:Te.fullName)||"",(($e=ge.user)==null?void 0:$e.dni)||"",((tt=ge.user)==null?void 0:tt.email)||"",((ce=ge.user)==null?void 0:ce.phone)||"",ge.status,ge.foodDelivered?"Si":"No",ge.attendance||"Pendiente"];z.push(be.map(Me=>`"${Me}"`).join(","))})});const j="data:text/csv;charset=utf-8,"+z.join(`
`),A=encodeURI(j),L=document.createElement("a");L.setAttribute("href",A),L.setAttribute("download",`asistencia_evento_${u}.csv`),document.body.appendChild(L),L.click(),document.body.removeChild(L)},ye=me=>{if(!me)return new Date;const z=me.split("T")[0],[j,A,L]=z.split("-").map(Number);return new Date(j,A-1,L)},U=()=>{var A;const me=new vt,z=((A=r.find(L=>L.id===u))==null?void 0:A.nombre)||"Evento";me.setFillColor(243,244,246),me.rect(0,0,210,30,"F"),me.setFontSize(16),me.setTextColor(17,24,39),me.text("Planilla de Asistencia",14,15),me.setFontSize(10),me.setTextColor(55,65,81),me.text(`Evento: ${z} | Coordinador: ${t.fullName}`,14,23);let j=35;he.forEach(L=>{const q=L.shifts.flatMap(Te=>g.filter($e=>$e.shiftId===Te.id&&$e.status==="confirmed").map($e=>({...$e,roleName:le(Te.roleId)})));if(q.length===0)return;j>270&&(me.addPage(),j=20);const de=ye(L.date).toLocaleDateString();me.setFontSize(12),me.setTextColor(0,0,0),me.setFillColor(229,231,235),me.rect(14,j-5,182,8,"F"),me.text(`${de} - ${L.timeSlot} (${q.length} voluntarios)`,16,j),j+=8;const ge=["Nombre","DNI","Rol","Vianda","Asistencia"],be=q.map(Te=>{var $e,tt;return[(($e=Te.user)==null?void 0:$e.fullName)||"",((tt=Te.user)==null?void 0:tt.dni)||"",Te.roleName||"",Te.foodDelivered?"Si":"",Te.attendance==="attended"?"Presente":Te.attendance==="absent"?"Ausente":""]});Vf(me,{startY:j,head:[ge],body:be,theme:"grid",headStyles:{fillColor:[79,70,229],textColor:255},styles:{fontSize:9,cellPadding:2},didDrawPage:Te=>{j=Te.cursor.y}}),j=me.lastAutoTable.finalY+10}),me.save(`planilla_asistencia_${u}.pdf`),Fe.success("PDF de asistencia descargado")},F=()=>{var A;let z=`*Listado de Voluntarios - ${((A=r.find(L=>L.id===u))==null?void 0:A.nombre)||"Evento"}*
`;z+=`Coordinador: ${t.fullName}

`,he.forEach(L=>{const q=L.shifts.flatMap(ge=>g.filter(be=>be.shiftId===ge.id&&be.status==="confirmed"));if(q.length===0)return;const de=ye(L.date).toLocaleDateString();z+=`* ${de} - ${L.timeSlot}*
`,q.forEach(ge=>{var be,Te;z+=`- ${(be=ge.user)==null?void 0:be.fullName} (${((Te=ge.user)==null?void 0:Te.phone)||"Sin tel"})
`}),z+=`
`});const j=`https://wa.me/?text=${encodeURIComponent(z)}`;window.open(j,"_blank")},oe=()=>{window.print()},le=me=>{var z;return((z=N.find(j=>j.id===me))==null?void 0:z.name)||"Desconocido"},_e=f.filter(me=>{if(s!=="all"){const[j,A]=s.split("|");if(me.date!==j||me.timeSlot!==A)return!1}return O?g.filter(j=>j.shiftId===me.id).some(j=>{var A,L;return((A=j.user)==null?void 0:A.fullName.toLowerCase().includes(O.toLowerCase()))||((L=j.user)==null?void 0:L.dni.includes(O))}):!0}),Q=Array.from(new Set(f.map(me=>`${me.date}|${me.timeSlot}`))).sort((me,z)=>{const[j,A]=me.split("|"),[L,q]=z.split("|");return j.localeCompare(L)||A.localeCompare(q)}),ue=_e.reduce((me,z)=>{const j=`${z.date}-${z.timeSlot}`;return me[j]||(me[j]={date:z.date,timeSlot:z.timeSlot,shifts:[]}),me[j].shifts.push(z),me},{}),he=Object.values(ue).sort((me,z)=>{const j=me.date.localeCompare(z.date);return j!==0?j:me.timeSlot.localeCompare(z.timeSlot)});return T?c.jsx("div",{className:"p-8 text-center",children:"Cargando..."}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow print:hidden",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Panel de Coordinador"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"text-gray-600",children:["Hola, ",t.fullName]}),c.jsx("button",{onClick:e,className:"text-sm text-red-600 hover:text-red-800",children:"Cerrar Sesin"})]})]})}),c.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-8 lg:pb-8 pb-32",children:[c.jsxs("div",{className:"hidden print:block mb-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Listado de Voluntarios"}),c.jsxs("div",{className:"flex flex-col gap-1 text-gray-700",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Evento:"})," ",(je=r.find(me=>me.id===u))==null?void 0:je.nombre]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Coordinador:"})," ",t.fullName]})]})]}),c.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 print:hidden",children:[c.jsxs("div",{className:"w-full sm:w-auto flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"w-full sm:w-64",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seleccionar Evento"}),c.jsx("select",{value:u,onChange:me=>h(me.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 bg-white cursor-pointer",children:r.map(me=>c.jsx("option",{value:me.id,children:me.nombre},me.id))})]}),c.jsxs("div",{className:"w-full sm:w-64",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filtrar por Horario"}),c.jsxs("select",{value:s,onChange:me=>o(me.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 bg-white cursor-pointer",children:[c.jsx("option",{value:"all",children:"Todos los horarios"}),Q.map(me=>{const[z,j]=me.split("|"),A=ye(z).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"});return c.jsxs("option",{value:me,children:[A," - ",j]},me)})]})]})]}),c.jsxs("div",{className:"flex gap-2 w-full sm:w-auto justify-end",children:[c.jsxs("div",{className:"relative flex-grow sm:flex-grow-0 sm:w-64",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Sc,{size:18,className:"text-gray-400"})}),c.jsx("input",{type:"text",placeholder:"Buscar voluntario...",value:O,onChange:me=>R(me.target.value),className:"pl-10 border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 w-full"})]}),c.jsxs("div",{className:"hidden lg:relative lg:block",children:[c.jsxs("button",{onClick:()=>D(!G),className:"flex items-center px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors font-medium shadow-sm",children:["Acciones",c.jsx(ev,{size:16,className:"ml-2"})]}),G&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200",children:[c.jsxs("button",{onClick:()=>{F(),D(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[c.jsx(Tl,{size:16,className:"mr-2 text-green-600"}),"WhatsApp"]}),c.jsxs("button",{onClick:()=>{U(),D(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[c.jsx(iv,{size:16,className:"mr-2 text-indigo-600"}),"Descargar PDF"]}),c.jsxs("button",{onClick:()=>{oe(),D(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[c.jsx(hp,{size:16,className:"mr-2 text-gray-600"}),"Imprimir"]}),c.jsxs("button",{onClick:()=>{V(),D(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[c.jsx(Nc,{size:16,className:"mr-2 text-green-700"}),"Exportar Excel"]})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[he.map(me=>{const z=me.shifts.flatMap(q=>g.filter(te=>te.shiftId===q.id&&te.status!=="cancelled").map(te=>({...te,roleName:le(q.roleId)}))),j=me.shifts.reduce((q,te)=>q+(te.totalVacancies-te.availableVacancies),0),A=O?z.filter(q=>{var te,de;return((te=q.user)==null?void 0:te.fullName.toLowerCase().includes(O.toLowerCase()))||((de=q.user)==null?void 0:de.dni.includes(O))}):z;if(A.length===0&&O)return null;const L=ye(me.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"short"});return c.jsxs("div",{className:"mb-6 last:mb-0",children:[c.jsxs("div",{className:"hidden sm:block bg-white shadow rounded-lg overflow-hidden border border-gray-200",children:[c.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center text-gray-700 font-medium",children:[c.jsx($a,{size:18,className:"mr-2 text-primary-500"}),c.jsx("span",{className:"capitalize",children:ye(me.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})]}),c.jsxs("div",{className:"flex items-center text-gray-700 font-medium",children:[c.jsx(Bo,{size:18,className:"mr-2 text-primary-500"}),me.timeSlot]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("span",{className:"text-sm text-gray-500 block",children:[A.length," voluntarios en lista"]}),j>A.length&&c.jsxs("span",{className:"text-xs text-orange-500 font-medium",title:"Hay ms vacantes ocupadas en el sistema de las que se muestran aqu. Posibles usuarios con estado desconocido o filtro activo.",children:[" ",j," vacantes ocupadas"]})]})]}),A.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voluntario"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vianda"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Asistencia"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(q=>{var te,de,ge,be;return c.jsxs("tr",{children:[c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:(te=q.user)==null?void 0:te.fullName}),c.jsxs("div",{className:"text-sm text-gray-500",children:["DNI: ",(de=q.user)==null?void 0:de.dni]})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:q.roleName})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm text-gray-900",children:(ge=q.user)==null?void 0:ge.email}),c.jsx("div",{className:"text-sm text-gray-500",children:(be=q.user)==null?void 0:be.phone})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("button",{onClick:()=>Z(q.id,q.foodDelivered),className:`p-1.5 rounded-full transition-colors flex items-center gap-2 ${q.foodDelivered?"bg-orange-100 text-orange-600 ring-2 ring-orange-500":"text-gray-400 hover:bg-orange-50 hover:text-orange-500"}`,title:q.foodDelivered?"Vianda entregada":"Marcar vianda",children:c.jsx(ov,{size:20})})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>K(q.id,"attended"),className:`p-1 rounded-full transition-colors ${q.attendance==="attended"?"bg-green-100 text-green-600 ring-2 ring-green-500":"text-gray-400 hover:bg-green-50 hover:text-green-500"}`,title:"Presente",children:c.jsx(Qs,{size:24})}),c.jsx("button",{onClick:()=>K(q.id,"absent"),className:`p-1 rounded-full transition-colors ${q.attendance==="absent"?"bg-red-100 text-red-600 ring-2 ring-red-500":"text-gray-400 hover:bg-red-50 hover:text-red-500"}`,title:"Ausente",children:c.jsx(Gd,{size:24})})]})})]},q.id)})})]})}):c.jsxs("div",{className:"p-4 text-center text-gray-500 text-sm",children:["No hay voluntarios en la lista para este horario.",j>0&&c.jsxs("p",{className:"text-xs text-orange-500 mt-1",children:["Pero el sistema reporta ",j," vacantes ocupadas. Contacta al admin."]})]})]}),c.jsxs("div",{className:"sm:hidden",children:[c.jsx("div",{className:"bg-gray-100 rounded-xl p-4 mb-3 shadow-sm border border-gray-200 sticky top-0 z-10 backdrop-blur-md bg-opacity-95",children:c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[c.jsx(Bo,{size:16,className:"text-primary-600"}),me.timeSlot]}),c.jsx("p",{className:"text-sm text-gray-600 capitalize",children:L})]}),c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:[A.length," Voluntarios"]})})]})}),c.jsx("div",{className:"space-y-3 pl-2",children:A.length>0?A.map(q=>{var te,de,ge,be;return c.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 relative overflow-hidden",children:[c.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${q.attendance==="attended"?"bg-green-500":q.attendance==="absent"?"bg-red-500":"bg-gray-200"}`}),c.jsxs("div",{className:"flex justify-between items-start pl-2 mb-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-900",children:(te=q.user)==null?void 0:te.fullName}),c.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-blue-50 text-blue-700 text-xs font-semibold rounded border border-blue-100",children:q.roleName})]}),c.jsx("div",{className:"ml-2",children:c.jsx("button",{onClick:()=>Z(q.id,q.foodDelivered),className:`p-2 rounded-full transition-colors ${q.foodDelivered?"bg-orange-100 text-orange-600 ring-2 ring-orange-500":"bg-gray-100 text-gray-400"}`,title:q.foodDelivered?"Vianda entregada":"Marcar vianda",children:c.jsx(ov,{size:20})})})]}),c.jsxs("div",{className:"pl-2 grid grid-cols-1 gap-1 mb-4",children:[c.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase w-12",children:"DNI:"}),c.jsx("span",{className:"font-mono",children:(de=q.user)==null?void 0:de.dni})]}),c.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase w-12",children:"Email:"}),c.jsx("span",{className:"truncate",children:(ge=q.user)==null?void 0:ge.email})]}),c.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase w-12",children:"Tel:"}),c.jsx("span",{children:(be=q.user)==null?void 0:be.phone})]})]}),c.jsxs("div",{className:"flex gap-3 pl-2 mt-4 border-t border-gray-100 pt-3",children:[c.jsxs("button",{onClick:Te=>{Te.stopPropagation(),K(q.id,"attended")},className:`flex-1 py-3 rounded-lg font-bold text-sm flex items-center justify-center gap-2 transition-all shadow-sm ${q.attendance==="attended"?"bg-green-600 text-white shadow-green-200":"bg-white border border-gray-300 text-gray-700 hover:bg-green-50 hover:border-green-300 hover:text-green-700"}`,children:[c.jsx(Qs,{size:18,className:q.attendance==="attended"?"text-white":"text-gray-400"}),"Presente"]}),c.jsxs("button",{onClick:Te=>{Te.stopPropagation(),K(q.id,"absent")},className:`flex-1 py-3 rounded-lg font-bold text-sm flex items-center justify-center gap-2 transition-all shadow-sm ${q.attendance==="absent"?"bg-red-600 text-white shadow-red-200":"bg-white border border-gray-300 text-gray-700 hover:bg-red-50 hover:border-red-300 hover:text-red-700"}`,children:[c.jsx(Gd,{size:18,className:q.attendance==="absent"?"text-white":"text-gray-400"}),"Ausente"]})]})]},q.id)}):c.jsx("div",{className:"p-6 bg-white rounded-xl border border-dashed border-gray-300 text-center text-gray-500 text-sm",children:"No hay voluntarios confirmados en este turno."})})]})]},`${me.date}-${me.timeSlot}`)}),he.length===0&&!O&&c.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow border border-gray-200",children:c.jsxs("div",{className:"max-w-md mx-auto px-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No tienes turnos asignados"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Actualmente no ests asignado como coordinadores en ningn turno de este evento."})]})}),he.length===0&&O&&c.jsx("div",{className:"text-center py-12 text-gray-500",children:"No se encontraron turnos que coincidan con la bsqueda."})]})]}),c.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-50 print:hidden lg:hidden safe-area-bottom",children:[W&&c.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 animate-in slide-in-from-bottom duration-200",children:[c.jsxs("button",{onClick:()=>{U(),ie(!1)},className:"flex items-center w-full px-6 py-4 text-gray-700 hover:bg-gray-100 border-b border-gray-200",children:[c.jsx("div",{className:"bg-indigo-100 p-2 rounded-full mr-3",children:c.jsx(iv,{size:20,className:"text-indigo-600"})}),c.jsx("span",{className:"font-medium",children:"Descargar PDF de Asistencia"})]}),c.jsxs("button",{onClick:()=>{V(),ie(!1)},className:"flex items-center w-full px-6 py-4 text-gray-700 hover:bg-gray-100",children:[c.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:c.jsx(Nc,{size:20,className:"text-green-700"})}),c.jsx("span",{className:"font-medium",children:"Exportar a Excel"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-2 p-2",children:[c.jsxs("button",{onClick:F,className:"flex flex-col items-center justify-center py-2 rounded-lg bg-green-50 text-green-700 active:bg-green-100",children:[c.jsx(Tl,{size:20,className:"mb-1"}),c.jsx("span",{className:"text-[10px] font-medium leading-none",children:"WhatsApp"})]}),c.jsxs("button",{onClick:oe,className:"flex flex-col items-center justify-center py-2 rounded-lg bg-gray-50 text-gray-700 active:bg-gray-100",children:[c.jsx(hp,{size:20,className:"mb-1"}),c.jsx("span",{className:"text-[10px] font-medium leading-none",children:"Imprimir"})]}),c.jsxs("button",{onClick:()=>ie(!W),className:`flex flex-col items-center justify-center py-2 rounded-lg transition-colors ${W?"bg-indigo-100 text-indigo-700":"bg-gray-50 text-gray-700 active:bg-gray-100"}`,children:[W?c.jsx(ev,{size:20,className:"mb-1"}):c.jsx(MN,{size:20,className:"mb-1"}),c.jsx("span",{className:"text-[10px] font-medium leading-none",children:"Ms"})]})]}),c.jsxs("div",{className:"mt-12 p-4 bg-gray-900 text-green-400 rounded-lg text-xs font-mono overflow-auto max-h-96",children:[c.jsx("h4",{className:"font-bold text-white mb-2",children:" DEBUG PANEL"}),c.jsxs("p",{children:["User ID (Me): ",t.id]}),c.jsxs("p",{children:["Total Shifts Visible: ",f.length]}),c.jsxs("p",{children:["Total Bookings Loaded: ",g.length]}),c.jsxs("details",{className:"mb-2",children:[c.jsxs("summary",{className:"cursor-pointer text-white underline",children:["Ver Mis Turnos (",f.length,")"]}),c.jsx("pre",{children:JSON.stringify(f.map(me=>({id:me.id,date:me.date,time:me.timeSlot,coords:me.coordinatorIds})),null,2)})]}),c.jsxs("details",{children:[c.jsxs("summary",{className:"cursor-pointer text-white underline",children:["Ver Reservas (",g.length,")"]}),c.jsx("pre",{children:JSON.stringify(g.map(me=>{var z;return{id:me.id,shiftId:me.shiftId,userId:me.userId,name:(z=me.user)==null?void 0:z.fullName,status:me.status}}),null,2)})]})]})]})]})},Ox=({onLogin:t,onRegister:e,onRecoverPassword:r,initialDni:n,onGoToRegister:s,contactEmail:o})=>{const[u,h]=X.useState(n||""),[f,m]=X.useState(""),[g,w]=X.useState(!1),[N,x]=X.useState(!1),[T,k]=X.useState(""),[O,R]=X.useState(!!n),[G,D]=X.useState(!1),[W,ie]=X.useState(""),[se,K]=X.useState(!1),Z=X.useRef(null),[V,ye]=X.useState(null),[U,F]=X.useState({dni:n||"",fullName:"",email:"",phone:"",tshirtSize:"M",isMember:!1,attendedPrevious:!1,isOver18:!1,howTheyHeard:"Redes Sociales"}),[oe,le]=X.useState(!1);X.useEffect(()=>{(async()=>{const te=window.location.hash.match(/\/#\/([^/?]+)/);if(te&&te[1]){const de=te[1];try{const be=(await Lt.getAllEvents()).find(Te=>Te.slug===de);be!=null&&be.contactEmail&&ye(be.contactEmail)}catch(ge){console.error("Error fetching event email:",ge)}}})()},[]),X.useEffect(()=>{Z.current&&!O&&Z.current.focus()},[O]),X.useEffect(()=>{const L="/voluntarios/".endsWith("/")?"/voluntarios/":"/voluntarios//";fetch(`${L}terminos-voluntariado.html`).then(q=>q.text()).then(q=>ie(q)).catch(q=>console.error("Error loading terms:",q))},[]);const _e=L=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L),Q=L=>L.replace(/[\s.-]/g,""),ue=async L=>{if(L.preventDefault(),!u.trim())return;K(!0);const q=_e(u)?u:Q(u);try{const te=await t(q,g?f:void 0);te==="password_required"?w(!0):te==="register"&&(R(!0),_e(u)?F(de=>({...de,dni:"",email:u})):F(de=>({...de,dni:q})))}catch(te){console.error("Login error",te),Fe.error("Ocurri un error al intentar ingresar")}finally{K(!1)}},he=L=>{L.preventDefault(),U.isOver18&&U.isMember&&oe&&e({...U,id:"",role:"volunteer"})},je=L=>{const{name:q,value:te,type:de}=L.target,ge=de==="checkbox"?L.target.checked:te;F(be=>({...be,[q]:ge}))},me=oe&&U.isOver18&&U.isMember,z="w-full px-3 py-2.5 bg-white border border-fs-border rounded-fs focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 text-fs-text placeholder-gray-400 transition-colors",j="block text-sm font-semibold text-gray-600 mb-1.5",A=async L=>{if(L.preventDefault(),!(!T||!r)){K(!0);try{await r(T),Fe.success("Si el correo existe, recibirs un enlace para restablecer tu contrasea."),x(!1),k(""),w(!1)}catch(q){Fe.error(q.message||"Error al solicitar recuperacin.")}finally{K(!1)}}};return N?c.jsx("div",{className:"max-w-md mx-auto mt-16 px-4",children:c.jsxs("div",{className:"bg-white p-10 rounded-lg shadow-card border border-fs-border text-center",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-serif text-fs-text mb-2",children:"Recuperar Contrasea"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Ingresa tu correo electrnico para recibir tu contrasea."})]}),c.jsxs("form",{onSubmit:A,className:"space-y-6",children:[c.jsx("div",{children:c.jsx("input",{type:"email",value:T,onChange:L=>k(L.target.value),placeholder:"correo@ejemplo.com",className:"w-full px-4 py-3.5 bg-gray-50 border border-fs-border rounded-fs focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 text-xl text-center text-fs-text placeholder-gray-400",required:!0,disabled:se,autoFocus:!0})}),c.jsx("button",{type:"submit",className:"w-full btn-primary shadow-sm hover:shadow-md flex justify-center items-center",disabled:se,children:se?c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"ENVIAR CONTRASEA"}),c.jsx("button",{type:"button",onClick:()=>x(!1),className:"text-sm text-fs-blue hover:text-fs-blue-hover underline mt-4 block mx-auto",disabled:se,children:"Cancelar"})]})]})}):O?c.jsxs("div",{className:"max-w-3xl mx-auto mt-8 bg-white p-8 rounded-lg shadow-card border border-fs-border",children:[c.jsxs("div",{className:"border-b border-fs-border pb-4 mb-6",children:[c.jsx("h2",{className:"text-2xl font-serif text-fs-text",children:"Registro de Voluntario"}),c.jsxs("p",{className:"text-sm text-fs-meta mt-1",children:["Completa tus datos",U.dni&&" para el documento: ",U.dni&&c.jsx("span",{className:"font-bold text-fs-text",children:U.dni}),U.email&&!U.dni&&" usando el email: ",U.email&&!U.dni&&c.jsx("span",{className:"font-bold text-fs-text",children:U.email})]})]}),c.jsxs("form",{onSubmit:he,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:j,children:"Nombre Completo"}),c.jsx("input",{type:"text",name:"fullName",placeholder:"Ej: Juan Prez",value:U.fullName,onChange:je,required:!0,className:z})]}),c.jsxs("div",{children:[c.jsx("label",{className:j,children:"DNI / RUT / Cdula"}),c.jsx("input",{type:"text",name:"dni",placeholder:"Sin puntos ni guiones",value:U.dni,onChange:je,required:!0,className:z})]}),c.jsxs("div",{children:[c.jsx("label",{className:j,children:"Correo Electrnico"}),c.jsx("input",{type:"email",name:"email",placeholder:"correo@ejemplo.com",value:U.email,onChange:je,required:!0,className:z}),U.email&&c.jsxs("div",{className:"mt-2 space-y-2",children:[["outlook","live","yahoo","hotmail"].some(L=>U.email.toLowerCase().includes(L))&&c.jsxs("div",{className:"flex items-start gap-2 text-xs text-orange-600 bg-orange-50 p-2 rounded border border-orange-100",children:[c.jsx(fp,{size:14,className:"mt-0.5 flex-shrink-0"}),c.jsxs("span",{children:["Si usas ",c.jsx("strong",{children:U.email.split("@")[1]||"este proveedor"}),", es probable que nuestros correos lleguen a tu carpeta de ",c.jsx("strong",{children:"Spam/Correo No Deseado"}),". Por favor revsala!"]})]}),c.jsxs("div",{className:"flex items-start gap-2 text-xs text-blue-600 bg-blue-50 p-2 rounded border border-blue-100",children:[c.jsx(Ef,{size:14,className:"mt-0.5 flex-shrink-0"}),c.jsxs("span",{children:[c.jsx("strong",{children:"Importante:"})," Agrega nuestro email ",V||o?`(${V||o})`:"del evento"," a tus contactos para asegurar que recibas todas las notificaciones importantes."]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:j,children:"Telfono Mvil"}),c.jsx("input",{type:"tel",name:"phone",placeholder:"Ej: 11 5555 6666",value:U.phone,onChange:je,required:!0,className:z})]}),c.jsxs("div",{children:[c.jsx("label",{className:j,children:"Talle de Remera"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{name:"tshirtSize",value:U.tshirtSize,onChange:je,className:`${z} appearance-none`,children:[c.jsx("option",{value:"S",children:"S (Small)"}),c.jsx("option",{value:"M",children:"M (Medium)"}),c.jsx("option",{value:"L",children:"L (Large)"}),c.jsx("option",{value:"XL",children:"XL (Extra Large)"}),c.jsx("option",{value:"XXL",children:"XXL (Double XL)"}),c.jsx("option",{value:"3XL",children:"3XL (Triple XL)"})]}),c.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:c.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:j,children:"Cmo te enteraste de la actividad?"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{name:"howTheyHeard",value:U.howTheyHeard,onChange:je,className:`${z} appearance-none`,children:[c.jsx("option",{children:"Redes Sociales"}),c.jsx("option",{children:"Amigos o Familiares"}),c.jsx("option",{children:"Pgina Web de la Iglesia"}),c.jsx("option",{children:"Anuncio en la Capilla"}),c.jsx("option",{children:"Otro"})]}),c.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:c.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]}),c.jsxs("div",{className:"bg-gray-50 p-5 rounded-fs border border-fs-border",children:[c.jsx("h3",{className:"text-md font-bold text-fs-text mb-3",children:"Informacin Adicional"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",name:"isMember",checked:U.isMember,onChange:je,className:"h-5 w-5 text-primary-500 border-gray-300 rounded focus:ring-primary-500"}),c.jsxs("span",{className:"ml-3 text-sm text-gray-700",children:["Soy miembro de La Iglesia de Jesucristo de los Santos de los ltimos Das ",c.jsx("span",{className:"text-xs text-gray-500",children:"(Requisito obligatorio)"})]})]}),c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",name:"attendedPrevious",checked:U.attendedPrevious,onChange:je,className:"h-5 w-5 text-primary-500 border-gray-300 rounded focus:ring-primary-500"}),c.jsxs("span",{className:"ml-3 text-sm text-gray-700",children:["Particip como voluntario en la feria anterior ",c.jsx("span",{className:"text-xs text-gray-500",children:"(Opcional)"})]})]}),c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",name:"isOver18",checked:U.isOver18,onChange:je,className:"h-5 w-5 text-primary-500 border-gray-300 rounded focus:ring-primary-500"}),c.jsxs("span",{className:"ml-3 text-sm text-gray-700",children:["Confirmo que soy mayor de 18 aos ",c.jsx("span",{className:"text-xs text-gray-500",children:"(Requisito obligatorio)"})]})]})]})]}),c.jsx("div",{className:"pt-2",children:c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{name:"agreement",type:"checkbox",checked:oe,onChange:L=>le(L.target.checked),className:"h-5 w-5 text-primary-500 border-gray-300 rounded focus:ring-primary-500"}),c.jsxs("div",{className:"ml-3 text-sm text-gray-600 leading-snug",children:["He ledo y acepto el ",c.jsx("button",{type:"button",onClick:L=>{L.preventDefault(),D(!0)},className:"text-fs-blue hover:underline font-medium",children:"Acuerdo de Voluntariado"}),". Entiendo que al inscribirme asumo un compromiso de asistencia y puntualidad."]})]})}),c.jsx("div",{className:"pt-4",children:c.jsx("button",{type:"submit",className:`w-full btn-primary shadow-sm transition-all ${me?"opacity-100 hover:shadow-md":"opacity-50 cursor-not-allowed bg-gray-400 hover:bg-gray-400"}`,disabled:!me,children:!U.isOver18&&!U.isMember?"Debes ser mayor de 18 aos y miembro de la iglesia":U.isOver18?U.isMember?"Finalizar Registro":"Debes ser miembro de la iglesia para continuar":"Debes ser mayor de 18 aos para continuar"})})]}),c.jsx(Kd,{isOpen:G,onClose:()=>D(!1),title:"Acuerdo de Voluntariado",children:c.jsx("div",{dangerouslySetInnerHTML:{__html:W}})})]}):c.jsx("div",{className:"max-w-md mx-auto mt-16 px-4",children:c.jsxs("div",{className:"bg-white p-10 rounded-lg shadow-card border border-fs-border text-center",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-serif text-fs-text mb-3",children:"Bienvenido"}),c.jsx("p",{className:"text-fs-meta text-sm",children:"Portal de Voluntarios para servir en evento"})]}),c.jsxs("form",{onSubmit:ue,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"sr-only",children:"DNI o Email"}),c.jsx("input",{ref:Z,type:"text",value:u,onChange:L=>h(L.target.value),placeholder:"DNI, RUT, Cdula o Email",className:"w-full px-4 py-3.5 bg-gray-50 border border-fs-border rounded-fs focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 text-xl text-center text-fs-text placeholder-gray-400",autoComplete:"username",required:!0,disabled:se})]}),g&&c.jsxs("div",{className:"animate-fade-in relative",children:[c.jsx("label",{className:"sr-only",children:"Contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx(vb,{className:"absolute left-4 top-4 text-gray-400",size:20}),c.jsx("input",{type:"password",value:f,onChange:L=>m(L.target.value),placeholder:"Contrasea",className:"w-full pl-12 pr-4 py-3.5 bg-gray-50 border border-fs-border rounded-fs focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 text-xl text-center text-fs-text placeholder-gray-400",autoComplete:"current-password",autoFocus:!0,disabled:se})]}),c.jsx("div",{className:"text-right mt-2",children:c.jsx("button",{type:"button",onClick:()=>x(!0),className:"text-xs text-fs-blue hover:underline",children:"Olvidaste tu contrasea?"})})]}),c.jsx("button",{type:"submit",className:"w-full btn-primary shadow-sm hover:shadow-md flex justify-center items-center",disabled:se,children:se?c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):g?"INICIAR SESIN":"CONTINUAR"}),g&&c.jsx("button",{type:"button",onClick:()=>{w(!1),m("")},className:"text-sm text-fs-blue hover:text-fs-blue-hover underline mt-4 block mx-auto",disabled:se,children:" Volver"})]}),c.jsx("p",{className:"mt-8 text-xs text-gray-400",children:" 2026 Hecho con  para proveer apoyo al usuario"})]})})},XA=()=>{const[t,e]=X.useState(""),[r,n]=X.useState(!1),s=Uf(),o=async u=>{u.preventDefault(),n(!0);const{error:h}=await qe.auth.updateUser({password:t});h?(Fe.error(h.message),n(!1)):(Fe.success("Contrasea actualizada correctamente"),s("/"))};return c.jsx("div",{className:"max-w-md mx-auto mt-16 px-4",children:c.jsxs("div",{className:"bg-white p-10 rounded-lg shadow-card border border-fs-border text-center",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-serif text-fs-text mb-2",children:"Establecer Nueva Contrasea"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Ingresa tu nueva contrasea para acceder al portal."})]}),c.jsxs("form",{onSubmit:o,className:"space-y-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("label",{className:"sr-only",children:"Nueva Contrasea"}),c.jsx(vb,{className:"absolute left-4 top-3.5 text-gray-400",size:20}),c.jsx("input",{type:"password",required:!0,value:t,onChange:u=>e(u.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-gray-50 border border-fs-border rounded-fs focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 text-xl text-center text-fs-text placeholder-gray-400",placeholder:"Nueva Contrasea",autoFocus:!0})]}),c.jsx("button",{type:"submit",disabled:r,className:"w-full btn-primary shadow-sm hover:shadow-md flex justify-center items-center",children:r?c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"ACTUALIZAR CONTRASEA"})]}),c.jsx("p",{className:"mt-8 text-xs text-gray-400",children:" 2026 Hecho con  para proveer apoyo al usuario"})]})})},ZA=({user:t,onLogout:e,onProfileClick:r,onLogoClick:n})=>c.jsx("header",{className:"bg-white border-b border-fs-border sticky top-0 z-50 h-14 sm:h-[60px] flex items-center shadow-sm",children:c.jsx("div",{className:"max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center gap-2 cursor-pointer",onClick:n,children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("h1",{className:"text-[20px] text-[#8CB83E] font-serif tracking-tight font-bold leading-tight",children:"Sistema de Gestin de Voluntarios (SGV)"}),c.jsx("span",{className:"text-sm text-gray-500 font-sans",children:"Centro Virtual"})]})}),t&&e&&c.jsxs("div",{className:"flex items-center space-x-6",children:[c.jsxs("button",{onClick:r,className:"hidden sm:flex items-center space-x-2 hover:bg-gray-50 p-1 rounded-fs transition-colors",children:[c.jsx("div",{className:"bg-gray-100 p-1.5 rounded-full text-gray-500",children:c.jsx(bb,{size:16})}),c.jsx("span",{className:"font-normal font-sans text-sm text-fs-text",children:t.fullName})]}),c.jsxs("button",{onClick:e,className:"flex items-center text-sm font-semibold text-fs-blue hover:text-blue-800 hover:underline transition-colors focus:outline-none","aria-label":"Cerrar sesin",children:[c.jsx(ZN,{size:16,className:"mr-1"}),"Salir"]})]})]})})}),QA=({user:t,onUpdate:e,onCancel:r})=>{const[n,s]=X.useState(t),[o,u]=X.useState(!1),h=w=>{const{name:N,value:x}=w.target;s(T=>({...T,[N]:x}))},f=async w=>{w.preventDefault(),u(!0);try{const N=await Jt.updateUser(n);e(N),Fe.success("Perfil actualizado correctamente")}catch{Fe.error("Error al actualizar perfil")}finally{u(!1)}},m="w-full px-3 py-2.5 bg-white border border-fs-border rounded-fs focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 text-fs-text placeholder-gray-400 transition-colors",g="block text-sm font-semibold text-gray-600 mb-1.5";return c.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-card border border-fs-border mt-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-fs-border pb-4",children:[c.jsx("div",{className:"bg-primary-50 p-2 rounded-full text-primary-600",children:c.jsx(bb,{size:24})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-serif text-fs-text",children:"Mi Perfil"}),c.jsx("p",{className:"text-sm text-fs-meta",children:"Actualiza tu informacin de contacto"})]})]}),c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:g,children:"DNI (No editable)"}),c.jsx("input",{type:"text",value:n.dni,disabled:!0,className:`${m} bg-gray-100 text-gray-500 cursor-not-allowed`})]}),c.jsxs("div",{children:[c.jsx("label",{className:g,children:"Nombre Completo"}),c.jsx("input",{type:"text",name:"fullName",value:n.fullName,onChange:h,required:!0,className:m})]}),c.jsxs("div",{children:[c.jsx("label",{className:g,children:"Correo Electrnico"}),c.jsx("input",{type:"email",name:"email",value:n.email,onChange:h,required:!0,className:m})]}),c.jsxs("div",{children:[c.jsx("label",{className:g,children:"Telfono"}),c.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:h,required:!0,className:m})]}),c.jsxs("div",{children:[c.jsx("label",{className:g,children:"Talle de Remera"}),c.jsx("div",{className:"relative",children:c.jsxs("select",{name:"tshirtSize",value:n.tshirtSize,onChange:h,className:`${m} appearance-none`,children:[c.jsx("option",{value:"S",children:"S"}),c.jsx("option",{value:"M",children:"M"}),c.jsx("option",{value:"L",children:"L"}),c.jsx("option",{value:"XL",children:"XL"}),c.jsx("option",{value:"XXL",children:"XXL"}),c.jsx("option",{value:"3XL",children:"3XL"})]})})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-fs-border",children:[c.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-fs-border rounded-fs text-fs-text hover:bg-gray-50 font-medium",children:"Volver"}),c.jsx("button",{type:"submit",disabled:o,className:"flex items-center px-4 py-2 bg-primary-500 text-white rounded-fs hover:bg-primary-600 font-bold shadow-sm",children:o?"Guardando...":c.jsxs(c.Fragment,{children:[c.jsx(Vp,{size:18,className:"mr-2"})," Guardar Cambios"]})})]})]})]})},eE=({user:t,onLogout:e,onLogin:r,onRegister:n,onRecoverPassword:s})=>{const{eventSlug:o}=Uw(),[u,h]=X.useState(null),[f,m]=X.useState(!0);if(X.useEffect(()=>{(async()=>{if(o){const N=await Lt.getEventBySlug(o);h(N)}m(!1)})()},[o]),f)return c.jsx("div",{className:"p-8 text-center",children:"Cargando evento..."});if(!u)return c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("h2",{className:"text-xl font-bold text-red-600",children:"Evento no encontrado"}),c.jsx("p",{className:"text-gray-600",children:"La URL ingresada no corresponde a ningn evento activo."})]});if(u.estado==="Archivado")return c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-8",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg border border-gray-200 p-8 text-center",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:u.nombre}),c.jsx("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-700 text-sm font-semibold rounded-full",children:"Evento Archivado"})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Este evento ha finalizado y ya no est aceptando inscripciones de voluntarios."}),c.jsx("p",{className:"text-sm text-gray-500",children:"Si crees que esto es un error, por favor contacta al administrador del evento."})]})});if(u.estado==="Inactivo")return c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-8",children:c.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg border border-yellow-200 p-8 text-center",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:u.nombre}),c.jsx("span",{className:"inline-block px-3 py-1 bg-yellow-100 text-yellow-700 text-sm font-semibold rounded-full",children:"Evento Inactivo"})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Este evento an no est activo. Las inscripciones se abrirn prximamente."}),c.jsx("p",{className:"text-sm text-gray-500",children:"Por favor, vuelve ms tarde o contacta al administrador del evento para ms informacin."})]})});const g=w=>{u?n(w,u.id):n(w)};return t?c.jsx(qA,{user:t,onLogout:e,eventId:u.id}):c.jsx(Ox,{onLogin:r,onRegister:g,onRecoverPassword:s,contactEmail:u.contactEmail})},tE=({user:t})=>{const[e,r]=X.useState(null);return X.useEffect(()=>{(async()=>{const s=await Lt.getUserEvents(t.id);if(s&&s.length>0){r(`/${s[0].slug}`);return}const u=(await Lt.getAllEvents()).filter(h=>h.estado==="Activo");u.length>0?r(`/${u[0].slug}`):r(null)})()},[t]),e?c.jsx(Xw,{to:e,replace:!0}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:c.jsxs("div",{className:"text-center max-w-md bg-white p-8 rounded-lg shadow",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"No hay eventos disponibles"}),c.jsx("p",{className:"text-gray-600",children:"No ests inscripto en ningn evento y no hay eventos activos disponibles en este momento."})]})})},rE=()=>{const[t,e]=X.useState(null),[r,n]=X.useState("portal"),s=Uf();X.useEffect(()=>{const{data:g}=qe.auth.onAuthStateChange(async(w,N)=>{w==="PASSWORD_RECOVERY"&&s("/reset-password")});return()=>{g.subscription.unsubscribe()}},[s]);const o=async(g,w)=>{try{const N=await Lt.login(g,w);return N?(e(N),Fe.success(`Bienvenido/a ${N.fullName.split(" ")[0]}!`),(N.role==="admin"||N.role==="superadmin"||N.role==="coordinator")&&s("/"),!0):"register"}catch(N){return N.message==="Contrasea incorrecta"?(w&&Fe.error("Email o contrasea incorrectos"),"password_required"):N.message==="Contrasea requerida"?"password_required":N.message==="Usuario no encontrado"||N.message.includes("Invalid login credentials")?"register":(Fe.error(N.message||"Error al iniciar sesin."),console.error(N),!1)}},u=async(g,w)=>{try{const N=await Lt.register(g,w);e(N),Fe.success("Registro exitoso!")}catch(N){const x=(N==null?void 0:N.message)||"Error desconocido";console.error("Registration Error:",N),Fe.error(`Error en el registro: ${x}`)}},h=async g=>{await Lt.recoverPassword(g)},f=()=>{e(null),n("portal"),s("/"),Fe("Sesin cerrada.")},m=g=>{e(g),n("portal")};return c.jsxs("div",{className:"min-h-screen bg-[#F7F7F7] text-[#333333] font-sans",children:[c.jsx(zA,{position:"top-center",reverseOrder:!1,toastOptions:{style:{background:"#333",color:"#fff",fontFamily:'"Noto Sans", sans-serif'}}}),c.jsx("div",{className:"print:hidden",children:c.jsx(ZA,{user:t,onLogout:t?f:void 0,onProfileClick:()=>n("profile"),onLogoClick:()=>{n("portal"),s("/")}})}),c.jsx("main",{className:"sm:p-6 lg:p-8 max-w-7xl mx-auto",children:r==="profile"&&t?c.jsx(QA,{user:t,onUpdate:m,onCancel:()=>n("portal")}):c.jsxs(Qw,{children:[c.jsx(uf,{path:"/",element:t?t.role==="superadmin"||t.role==="admin"?c.jsx(KA,{user:t,onLogout:f}):t.role==="coordinator"?c.jsx(JA,{user:t,onLogout:f}):c.jsx(tE,{user:t}):c.jsx(Ox,{onLogin:o,onRegister:u,onRecoverPassword:h})}),c.jsx(uf,{path:"/reset-password",element:c.jsx(XA,{})}),c.jsx(uf,{path:"/:eventSlug",element:c.jsx(eE,{user:t,onLogout:f,onLogin:o,onRegister:u,onRecoverPassword:h})})]})})]})},aE=()=>c.jsx(N4,{children:c.jsx(rE,{})}),Dx=document.getElementById("root");if(!Dx)throw new Error("Could not find root element to mount to");const nE=ew.createRoot(Dx);nE.render(c.jsx(_f.StrictMode,{children:c.jsx(aE,{})}));export{Er as _,sE as c,Ry as g};
